<ion-header>
  <ion-navbar>
    <ion-buttons right>
      <button ion-button icon-left [navPush]="accountSignupPage" *ngIf="globals.userId == ''">
        <ion-icon name="contact"></ion-icon>Register 
      </button>
      <button ion-button icon-left [navPush]="accountSigninPage" *ngIf="globals.userId == ''">
        <ion-icon name="log-in"></ion-icon>
        Sign In
      </button>
      <button ion-button icon-left (click)="globals.logout()" *ngIf="globals.userId">
        <ion-icon name="log-out"></ion-icon>Sign Out
      </button>
    </ion-buttons>
    <ion-title>Buttons</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div padding *ngIf="globals.userId == ''">
    <p><b>You must be signed in to view available rooms and desks.</b></p>
    <p>Click the "SIGN IN" button in the upper right of the screen, to sign in to the app.</p>
    <p>Haven't registered yet? Click on the "REGISTER" button to register as a new user.</p>
  </div>

  <div *ngIf="globals.userId != ''">

    <div align='center' *ngIf="initialized">
      <button ion-button (click)="loadButtonsWithoutAuth()" type="submit" color="light" style='text-transform:none'>Load Buttons without Auth</button>
    </div>
    <div align='center' *ngIf="initialized">
      <button ion-button (click)="loadButtonsWithAuth()" type="submit" color="light" style='text-transform:none'>Load Buttons with Auth</button>
    </div>

    <div align='center' *ngIf="initialized">
      <button ion-button (click)="getButtonWithAuth('this-should-be-a-uuid')" type="submit" color="light" style='text-transform:none'>Get Button with Auth</button>
    </div>

    <div align='center' *ngIf="initialized">
      <button ion-button (click)="loadUsersWithAuth()" type="submit" color="light" style='text-transform:none'>Load Users with Auth</button>
    </div>

    <div align='center' *ngIf="initialized">
      <button ion-button (click)="loadOrdersForUserWithAuth('some-user-uuid')" type="submit" color="light" style='text-transform:none'>Load Orders For User with Auth</button>
    </div>

    <hr>

    <div align='center' *ngIf="initialized">
      <button ion-button (click)="createButtonWithAuth({name: 'another Button'})" type="submit" color="light" style='text-transform:none'>Create Button with Auth</button>
    </div>

    <div align='center' *ngIf="initialized">
      <button ion-button (click)="updateButtonWithAuth({buttonId: 'buttonId', name: 'RED Button'})" type="submit" color="light" style='text-transform:none'>Update Button with Auth</button>
    </div>



    <div *ngIf="buttons.length === 0">
      DISPLAYS IF BUTTONS LENGTH IS ZERO
    </div>
    {{ buttonGotten }}
    <br>

    <br>

    {{ usersList }}

    <br>

    {{ ordersList }}

    <ion-list>
      <ion-item *ngFor="let button of buttons">
        <ion-thumbnail item-left (click)="gotoResourceListPage(button)">
          <img src="{{button.imageUrl}}">
        </ion-thumbnail>
        <!--<ion-icon name="compass" item-left (click)="gotoResourceListPage(button)"></ion-icon>-->
        <h2 (click)="gotoResourceListPage(button)">{{button.name}}</h2>
        <p (click)="gotoResourceListPage(button)">{{button.buttonId}}</p>
        <button *ngIf="globals.displayAdminFeatures()" (click)="displayDeleteButtonConfirmation(button.buttonId, button.name)" ion-button color="danger" item-right>Delete</button>
      </ion-item>
    </ion-list>
    
    <div align='center' *ngIf="globals.displayAdminFeatures() && initialized">
      <button ion-button [navPush]="buttonAddPage" type="submit" color="primary">Add a button</button>
    </div>
  </div>

</ion-content>
