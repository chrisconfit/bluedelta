{"version":3,"sources":["app.min.js"],"names":["preloaderFunc","$q","$rootScope","Preloader","imageLocations","this","imageCount","length","loadCount","errorCount","states","PENDING","LOADING","RESOLVED","REJECTED","state","deferred","defer","promise","preloadImages","preloader","load","prototype","constructor","isInitiated","isRejected","isResolved","i","loadImageLocation","handleImageError","imageLocation","reject","handleImageLoad","notify","percent","Math","ceil","resolve","image","angular","element","Image","bind","event","$apply","target","src","attr","config","$routeProvider","$locationProvider","when","templateUrl","controller","controllerAs","otherwise","redirectTo","html5Mode","run","$location","authentication","$on","nextRoute","currentRoute","locked","indexOf","path","isLoggedIn","module","filter","input","replace","adminCtrl","meanData","vm","user","getOptions","success","data","console","log","error","e","$inject","closetCtrl","getProfile","builderCtrl","jean","build","steps","push","vari","customizerCtrl","$window","step","form","template","title","nextStep","selectStyle","id","style","fabric","threadAccent","threadTop","threadBottom","builder","controlPanel","dataKey","jeanKey","thumbPrefix","getActiveItemName","key","name","changeStep","zoom","pan","trackMouse","$event","frame","document","querySelector","fWidth","clientWidth","fHeight","clientHeight","rect","getBoundingClientRect","rootDoc","ownerDocument","documentElement","offsetT","top","pageYOffset","clientTop","offsetL","left","pageXOffset","clientLeft","xPosition","pageX","yPosition","pageY","images","querySelectorAll","css","transform-origin","selectAttr","selector","prop","jeanSet","val","getStyles","then","res","styles","getThreads","threads","getHardware","hardware","getFabrics","fabrics","homeCtrl","$scope","$animate","loginCtrl","errors","message","credentials","email","password","onSubmit","login","err","registerCtrl","register","$http","saveToken","token","localStorage","getToken","payload","split","atob","JSON","parse","exp","Date","now","currentUser","isAdmin","roles","permissions","post","logout","removeItem","service","get","headers","Authorization","set","property","value","factory","navigationCtrl","$route","reload","navigation","restrict","directive","sliderCtrl","imagesLoaded","slides","currentIndex","setCurrentSlideIndex","index","isCurrentSlideIndex","nextSlide","prevSlide","slider","scope","imageClick"],"mappings":"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","file":"app.min.js","sourcesContent":["(function () {\n\n  angular.module('meanApp', ['ngRoute', 'ngAnimate']); \n  \n  \n  function config ($routeProvider, $locationProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'home/home.view.html',\n        controller: 'homeCtrl',\n        controllerAs: 'vm'\n      })\n      .when('/register', {\n        templateUrl: '/auth/register/register.view.html',\n        controller: 'registerCtrl',\n        controllerAs: 'vm'\n      })\n      .when('/login', {\n        templateUrl: '/auth/login/login.view.html',\n        controller: 'loginCtrl',\n        controllerAs: 'vm'\n      })\n      .when('/closet', {\n        templateUrl: '/closet/closet.view.html',\n        controller: 'closetCtrl',\n        controllerAs: 'vm'\n      })\n      .when('/customizer', {\n        templateUrl: '/customizer/customizer.view.html',\n        controller: 'customizerCtrl',\n        controllerAs: 'vm'\n      })\n      .when('/admin', {\n        templateUrl: '/admin/admin.view.html',\n        controller: 'adminCtrl',\n        controllerAs: 'vm'\n      })\n      .otherwise({redirectTo: '/'});\n\n    // use the HTML5 History API\n    $locationProvider.html5Mode(true);\n  }\n\n  function run($rootScope, $location, authentication) {\n    $rootScope.$on('$routeChangeStart', function(event, nextRoute, currentRoute) {\n\t    var locked = [\n\t\t    '/closet'\n\t    ];\n\t    \n\t    if (locked.indexOf($location.path()) >= 0  && !authentication.isLoggedIn()) {\n       // $location.path('/login');\n      }\n    });\n  }\n  \n  angular\n    .module('meanApp')\n    .config(['$routeProvider', '$locationProvider', config])\n    .run(['$rootScope', '$location', 'authentication', run])\n\t\t.filter('spaceless',function() {\n    return function(input) {\n        if (input) {\n            return input.replace(/\\s+/g, '-');    \n        }\n    }\n\t\t});\n\t\t\n\t\t\n})();\n(function() {\n  \n  angular\n    .module('meanApp')\n    .controller('adminCtrl', adminCtrl);\n\n  adminCtrl.$inject = ['$location', 'meanData'];\n  function adminCtrl($location, meanData) {\n\t  \n\t  \n    var vm = this;\n\n    vm.user = {};\n    meanData.getOptions()\n      .success(function(data) {\n\t      console.log(\"admin.controller.jsln16:::\");\n        console.log(data);\n      })\n      .error(function (e) {\n        console.log(e);\n      });\n  }\n\n})();\n(function() {\n  \n  angular\n    .module('meanApp')\n    .controller('closetCtrl', closetCtrl);\n\n  closetCtrl.$inject = ['$location', 'meanData'];\n  function closetCtrl($location, meanData) {\n    var vm = this;\n\n    vm.user = {};\n\n    meanData.getProfile()\n      .success(function(data) {\n        vm.user = data;\n      })\n      .error(function (e) {\n        console.log(e);\n      });\n  }\n\n})();\n(function() {\n  \n  angular\n    .module('meanApp')\n    .controller('builderCtrl', builderCtrl);\n\n  builderCtrl.$inject = ['$location', 'meanData', 'jean'];\n  function builderCtrl($location, meanData, jean) {\n    var vm = this;\n\t\tvm.jean = jean;\n\t\t\n\t\tconsole.log('starting');\n\t\t\n\t\tvm.build = {};\n\t\tvm.build.steps = [];\n\t\tvm.build.steps.push(\"Fabric\");\n\t\tvm.build.steps.push(\"Hardware\");\n\t\tvm.build.steps.push(\"Thread\");\n\t\tvm.build.steps.push(\"Length\");\n\t\t\n\t\tconsole.log(vm.build.steps);\n\t\tvm.vari = \"THIS VAR\";\n    \n    \n  }\n\n})();\n(function() {\n  \n  angular\n    .module('meanApp')\n    .controller('customizerCtrl', customizerCtrl);\n\n  customizerCtrl.$inject = ['$location', '$window', 'meanData', 'jean'];\n  function customizerCtrl($location, $window, meanData, jean) {\n    var vm = this;\n\t\tvm.jean = jean;\n\t\tvm.jean.step = (jean.step ? jean.step : 1);\n\t\n    \n    \n\t\t\n\t\t\n\t\tvm.form = {};\t\t\n\t\tvm.form.steps = [];\n    vm.form.steps[1] = {\n\t    \"template\": \"/customizer/form-templates/gender.html\",\n\t    \"title\" : \"Gender\"\n    };\n    vm.form.steps[2] = {\n\t    \"template\": \"/customizer/form-templates/style.html\",\n\t    \"title\" : \"Style\"\n    };\n    vm.form.steps[3] = {\n\t    \"template\": \"/customizer/form-templates/build.html\",\n\t    \"title\" : \"Build\"\n    };\n\n\n\t\t\n    vm.form.nextStep = function(){\n\t    vm.jean.step =\tvm.jean.step + 1;  \n    }\n    \n\t  vm.form.selectStyle = function(id){\n\t    vm.jean.data.style =\tid;\n\t    vm.form.nextStep();\n    }    \n    \n    \n\n\t\t//Set Defaults\n\t\tvm.jean.data.fabric = vm.jean.data.fabric || \"1000\";\n\t\tvm.jean.data.threadAccent = vm.jean.data.threadAccent || \"1\";\n\t\tvm.jean.data.threadTop = vm.jean.data.threadTop || \"1\";\n\t\tvm.jean.data.threadBottom = vm.jean.data.threadBottom || \"1\";\n\t\t\n\t\t\n\t\tvm.builder = {};\n\t\t\n\t\tvm.builder.controlPanel = [];\n\t\tvm.builder.controlPanel[1]={\n\t\t\t\"dataKey\":\"fabrics\",\n\t\t\t\"title\":\"Fabric\",\n\t\t\t\"jeanKey\":\"fabric\",\n\t\t\t\"thumbPrefix\":\"f\"\n\t\t};\n\t\tvm.builder.controlPanel[2]={\n\t\t\t\"dataKey\":\"threads\",\n\t\t\t\"title\":\"Top Thread\",\n\t\t\t\"jeanKey\":\"threadTop\",\n\t\t\t\"thumbPrefix\":\"f\"\n\t\t};\n\t\tvm.builder.controlPanel[3]={\n\t\t\t\"dataKey\":\"threads\",\n\t\t\t\"title\":\"Bottom Thread\",\n\t\t\t\"jeanKey\":\"threadBottom\",\n\t\t\t\"thumbPrefix\":\"f\"\n\t\t};\n\t\tvm.builder.controlPanel[4]={\n\t\t\t\"dataKey\":\"threads\",\n\t\t\t\"title\":\"Accent Thread\",\n\t\t\t\"jeanKey\":\"threadAccent\",\n\t\t\t\"thumbPrefix\":\"f\"\n\t\t};\n\t\tvm.builder.controlPanel[5]={\n\t\t\t\"dataKey\":\"hardware\",\n\t\t\t\"title\":\"Hardware\",\n\t\t\t\"jeanKey\":\"hardware\",\n\t\t\t\"thumbPrefix\":\"f\"\n\t\t};\n\t\t\n//\t\tvm.builder.threadSubSelect = vm.builder.threadSubSelect || \"Top\";\n\t\t\n\t\t\n\t\tvm.builder.getActiveItemName = function(){\n\t\t\tvar data = vm.builder[vm.builder.controlPanel[vm.builder.step].dataKey];\n\t\t\tvar key = vm.jean.data[vm.builder.controlPanel[vm.builder.step].jeanKey];\n\t\t\treturn data[key].name;\n\t\t}\n\t\tvm.builder.step = 1;\n\t\tvm.builder.changeStep = function(step){\n\t\t\tif (!step) return false;\n\t\t\telse vm.builder.step = step; \n\t\t}\n\t\t\n\t\t\n\t\t\n\tvm.builder.zoom = false;\n\t\t/*\n\t\tvm.builder.zoomLevel = 1;\n\t\tvm.builder.toggleZoom = function(){\n\t\t\tvm.builder.zoomLevel = vm.builder.zoomLevel + 1\n\t\t\tif (vm.builder.zoomLevel > 3) vm.builder.zoomLevel=1;\n\t\t}\n\t\t*/\n\t\t//zoomlvl = (scope.zoomlvl === undefined) ? \"2.5\" : scope.zoomlvl\n\n\t\t//\n\t\t\n\t\tvm.builder.pan = \"50%,50%\";\n\t\tvm.builder.trackMouse = function($event){\n\t\t\tframe = angular.element(document.querySelector(\"#zoom-frame\"))[0];\n\t\t\tfWidth = frame.clientWidth;\n\t\t\tfHeight = frame.clientHeight;\n\t\t\trect = frame.getBoundingClientRect();\n\t\t\trootDoc = frame.ownerDocument.documentElement;\n\t\t\t\n\t\t\t//calculate the offset of the frame from the top and left of the document\n\t\t\toffsetT = rect.top + $window.pageYOffset - rootDoc.clientTop\n\t\t\toffsetL = rect.left + $window.pageXOffset - rootDoc.clientLeft\n\n\t\t\t//calculate current cursor position inside the frame, as a percentage\n\t\t\txPosition = (($event.pageX - offsetL) / fWidth) * 100\n\t\t\tyPosition = (($event.pageY - offsetT) / fHeight) * 100\n\n\t\t\tpan = xPosition + \"% \" + yPosition + \"% 0\";\n\t\t\tvm.builder.pan=pan;\n\t\t\timages = angular.element(document.querySelectorAll(\"#zoom-frame img\"));\n\t\t\timages.css({\"transform-origin\":pan});\n\t\n\t\t}\n\t\t\n\t\t/*\n\t\tvm.builder.resetPan = function(){\n\t\t\tpan = \"50% 50% 0\";\n\t\t\tvm.builder.pan=pan;\n\t\t\timages = angular.element(document.querySelectorAll(\".z-img\"));\n\t\t\timages.css({\"transform-origin\":pan});\n\t\t}\n\t\t*/\n\n\t\t\n\t\tvm.builder.selectAttr = function($event, id, attr, selector){\n\t\t\tvar selector = angular.element(document.querySelector(\"#\"+attr+\"-selector\"));\n\t\t\tvar top = angular.element($event.target).prop('offsetTop');\n\t\t\tvar left = angular.element($event.target).prop('offsetLeft');\n\t\t\tselector.css({'top':top+'px', 'left':left+'px'});\n\t\t\tvm.jean.data[attr] =\tid;\n\n\t\t}\n\t\t\n\t\n\t\tvm.builder.jeanSet = function(attr, val){\n\t\t\t vm.jean.data[attr] =\tval;\n\t\t}\n\t\t\n  //Styles\n  meanData.getStyles()\n  .then(function(res){\n    vm.styles=res.data;\n\t});\n\t\n\t//Threads\n  meanData.getThreads()\n  .then(function(res){\n    vm.builder.threads=res.data;\n\t});\n\t\n\t\n\t//Hardware\n  meanData.getHardware()\n  .then(function(res){\n    vm.builder.hardware=res.data;\n\t});\n\t\n\t//Fabrics\n  meanData.getFabrics()\n  .then(function(res){\n    vm.builder.fabrics=res.data;\n\t});\n\t\n\t\t\n\t\t\n\t\t\n  }\n\n})();\n(function() {\n  \n  angular\n    .module('meanApp')\n    .controller('homeCtrl', homeCtrl);\n\t\t\t\n\t\thomeCtrl.$inject = ['$scope','jean', '$animate'];\n\n\t\t\n    function homeCtrl ($scope, jean, $animate) {\n\t    \t    \t    \n\t    $scope.jean = jean.data;\n\t    \t\n    }\n\n})();\n(function () {\n\n  angular\n  .module('meanApp')\n  .controller('loginCtrl', loginCtrl);\n\n  loginCtrl.$inject = ['$location', 'authentication'];\n  function loginCtrl($location, authentication) {\n    var vm = this;\n\t\t\n\t\tvm.errors = {\n\t\t\tmessage : \"\"\n\t\t}\n\t\t\n    vm.credentials = {\n      email : \"\",\n      password : \"\"\n    };\n\n    vm.onSubmit = function () {\n\t    vm.errors.message = \"\";\n      authentication\n        .login(vm.credentials)\n        .error(function(err){\n          console.log(err);\n          vm.errors.message = err.message;\n        })\n        .then(function(){\n          $location.path('closet');\n        });\n    };\n\n  }\n\n})();\n(function () {\n\n  angular\n    .module('meanApp')\n    .controller('registerCtrl', registerCtrl);\n\n  registerCtrl.$inject = ['$location', 'authentication'];\n  function registerCtrl($location, authentication) {\n    var vm = this;\n\n    vm.credentials = {\n      name : \"\",\n      email : \"\",\n      password : \"\"\n    };\n    \n    vm.errors = {\n\t\t\tmessage : \"\"\n\t\t}\n\n    vm.onSubmit = function () {\n      console.log('Submitting registration');\n      authentication\n        .register(vm.credentials)\n        .error(function(err){\n          //alert(err);\n          console.log(err);\n          vm.errors.message = err.message;\n        })\n        .then(function(){\n          $location.path('profile');\n        });\n    };\n\n  }\n\n})();\n(function () {\n\n  angular\n    .module('meanApp')\n    .service('authentication', authentication);\n\n  authentication.$inject = ['$http', '$window'];\n  function authentication ($http, $window) {\n\n    var saveToken = function (token) {\n      $window.localStorage['mean-token'] = token;\n    };\n\n    var getToken = function () {\n      return $window.localStorage['mean-token'];\n    };\n\n    var isLoggedIn = function() {\n      var token = getToken();\n      var payload;\n\n      if(token){\n        payload = token.split('.')[1];\n        payload = $window.atob(payload);\n        payload = JSON.parse(payload);\n\n        return payload.exp > Date.now() / 1000;\n      } else {\n        return false;\n      }\n    };\n\n    var currentUser = function() {\n      if(isLoggedIn()){\n        var token = getToken();\n        console.log(token);\n        var payload = token.split('.')[1];\n        payload = $window.atob(payload);\n        payload = JSON.parse(payload);\n        return {\n          email : payload.email,\n          name : payload.name\n        };\n      }\n    };\n\t\t\n\t\tvar isAdmin = function(){\n\t\t\tif(isLoggedIn()){\n        var token = getToken();\n\n        var payload = token.split('.')[1];\n        payload = $window.atob(payload);\n        payload = JSON.parse(payload);\n        console.log(payload);\n        var roles = payload.permissions;\n\t\t\t\treturn roles.indexOf('admin') !== -1;\n      }\n\n\t\t}\n    register = function(user) {\n      return $http.post('/api/register', user).success(function(data){\n        saveToken(data.token);\n      });\n    };\n\n    login = function(user) {\n      return $http.post('/api/login', user).success(function(data) {\n        saveToken(data.token);\n      });\n    };\n\n    logout = function() {\n      $window.localStorage.removeItem('mean-token');\n    };\n\n    return {\n\t    isAdmin : isAdmin,\n      currentUser : currentUser,\n      saveToken : saveToken,\n      getToken : getToken,\n      isLoggedIn : isLoggedIn,\n      register : register,\n      login : login,\n      logout : logout\n    };\n  }\n\n\n})();\n(function() {\n\n  angular\n    .module('meanApp')\n    .service('meanData', meanData);\n\n  meanData.$inject = ['$http', 'authentication'];\n  function meanData ($http, authentication) {\n\n    var getProfile = function () {\n      return $http.get('/api/profile', {\n        headers: {\n          Authorization: 'Bearer '+ authentication.getToken()\n        }\n      });\n    };\n    \n    var getOptions = function () {\t    \n      return $http.get('/api/options', {\n        headers: {\n          Authorization: 'Bearer '+ authentication.getToken()\n        }\n      });\n    };\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t//Placeholders\n\t\tvar getStyles = function(){\n\t\t\treturn $http.get('/data/styles.json');\n\t\t};\n\t\t\n\t\tvar getThreads = function(){\n\t\t\treturn $http.get('/data/threads.json');\n\t\t};\n\t\t\n\t\tvar getHardware = function(){\n\t\t\treturn $http.get('/data/buttons.json');\n\t\t};\n\t\t\n\t\tvar getFabrics = function(){\n\t\t\treturn $http.get('/data/fabrics.json');\n\t\t};\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n    return {\n      getProfile : getProfile,\n      getOptions : getOptions,\n      getStyles : getStyles,\n      getThreads : getThreads,\n      getHardware: getHardware,\n      getFabrics: getFabrics\n    };\n  }\n\n})();\n\n(function() {\n\n  angular\n    .module('meanApp')\n    .service('jean', jean);\n\n  function jean() {\n\n   \tdata = {};\n\t\t\n\t\tset = function(property, value){\n\t\t\tthis.data[property] = value;\n\t\t}\n\t\t\n    return {\n      data : data,\n      set : set\n    };\n    \n  }\n\n})();\nangular.module('meanApp')\n.factory('preloader', preloaderFunc);\n\npreloaderFunc.$inject = ['$q', '$rootScope'];\nfunction preloaderFunc( $q, $rootScope ) {\n  // I manage the preloading of image objects. Accepts an array of image URLs.\n  function Preloader( imageLocations ) {\n      // I am the image SRC values to preload.\n      this.imageLocations = imageLocations;\n      // As the images load, we'll need to keep track of the load/error\n      // counts when announing the progress on the loading.\n      this.imageCount = this.imageLocations.length;\n      this.loadCount = 0;\n      this.errorCount = 0;\n      // I am the possible states that the preloader can be in.\n      this.states = {\n          PENDING: 1,\n          LOADING: 2,\n          RESOLVED: 3,\n          REJECTED: 4\n      };\n      // I keep track of the current state of the preloader.\n      this.state = this.states.PENDING;\n      // When loading the images, a promise will be returned to indicate\n      // when the loading has completed (and / or progressed).\n      this.deferred = $q.defer();\n      this.promise = this.deferred.promise;\n  }\n  // ---\n  // STATIC METHODS.\n  // ---\n  // I reload the given images [Array] and return a promise. The promise\n  // will be resolved with the array of image locations.\n  Preloader.preloadImages = function( imageLocations ) {\n      var preloader = new Preloader( imageLocations );\n      return( preloader.load() );\n  };\n  // ---\n  // INSTANCE METHODS.\n  // ---\n  Preloader.prototype = {\n      // Best practice for \"instnceof\" operator.\n      constructor: Preloader,\n      // ---\n      // PUBLIC METHODS.\n      // ---\n      // I determine if the preloader has started loading images yet.\n      isInitiated: function isInitiated() {\n          return( this.state !== this.states.PENDING );\n      },\n      // I determine if the preloader has failed to load all of the images.\n      isRejected: function isRejected() {\n          return( this.state === this.states.REJECTED );\n      },\n      // I determine if the preloader has successfully loaded all of the images.\n      isResolved: function isResolved() {\n          return( this.state === this.states.RESOLVED );\n      },\n      // I initiate the preload of the images. Returns a promise.\n      load: function load() {\n          // If the images are already loading, return the existing promise.\n          if ( this.isInitiated() ) {\n              return( this.promise );\n          }\n          this.state = this.states.LOADING;\n          for ( var i = 0 ; i < this.imageCount ; i++ ) {\n              this.loadImageLocation( this.imageLocations[ i ] );\n          }\n          // Return the deferred promise for the load event.\n          return( this.promise );\n      },\n      // ---\n      // PRIVATE METHODS.\n      // ---\n      // I handle the load-failure of the given image location.\n      handleImageError: function handleImageError( imageLocation ) {\n          this.errorCount++;\n          // If the preload action has already failed, ignore further action.\n          if ( this.isRejected() ) {\n              return;\n          }\n          this.state = this.states.REJECTED;\n          this.deferred.reject( imageLocation );\n      },\n      // I handle the load-success of the given image location.\n      handleImageLoad: function handleImageLoad( imageLocation ) {\n          this.loadCount++;\n          // If the preload action has already failed, ignore further action.\n          if ( this.isRejected() ) {\n              return;\n          }\n          // Notify the progress of the overall deferred. This is different\n          // than Resolving the deferred - you can call notify many times\n          // before the ultimate resolution (or rejection) of the deferred.\n          this.deferred.notify({\n              percent: Math.ceil( this.loadCount / this.imageCount * 100 ),\n              imageLocation: imageLocation\n          });\n          // If all of the images have loaded, we can resolve the deferred\n          // value that we returned to the calling context.\n          if ( this.loadCount === this.imageCount ) {\n              this.state = this.states.RESOLVED;\n              this.deferred.resolve( this.imageLocations );\n          }\n      },\n      // I load the given image location and then wire the load / error\n      // events back into the preloader instance.\n      // --\n      // NOTE: The load/error events trigger a $digest.\n      loadImageLocation: function loadImageLocation( imageLocation ) {\n          var preloader = this;\n          // When it comes to creating the image object, it is critical that\n          // we bind the event handlers BEFORE we actually set the image\n          // source. Failure to do so will prevent the events from proper\n          // triggering in some browsers.\n          // --\n          // The below removes a dependency on jQuery, based on a comment\n          // on Ben Nadel's original blog by user Adriaan:\n          // http://www.bennadel.com/members/11887-adriaan.htm\n          var image = angular.element( new Image() )\n              .bind('load', function( event ) {\n                  // Since the load event is asynchronous, we have to\n                  // tell AngularJS that something changed.\n                  $rootScope.$apply(\n                      function() {\n                          preloader.handleImageLoad( event.target.src );\n                          // Clean up object reference to help with the\n                          // garbage collection in the closure.\n                          preloader = image = event = null;\n                      }\n                  );\n              })\n              .bind('error', function( event ) {\n                  // Since the load event is asynchronous, we have to\n                  // tell AngularJS that something changed.\n                  $rootScope.$apply(\n                      function() {\n                          preloader.handleImageError( event.target.src );\n                          // Clean up object reference to help with the\n                          // garbage collection in the closure.\n                          preloader = image = event = null;\n                      }\n                  );\n              })\n              .attr( 'src', imageLocation )\n          ;\n      }\n  };\n  // Return the factory instance.\n  return( Preloader );\n};\n(function () {\n\n  angular\n    .module('meanApp')\n    .controller('navigationCtrl', navigationCtrl);\n\n  navigationCtrl.$inject = ['$location','authentication','$route'];\n  function navigationCtrl($location, authentication, $route) {\n    var vm = this;\n\n    vm.isLoggedIn = authentication.isLoggedIn();\n\t\tvm.isAdmin = authentication.isAdmin();\n    vm.currentUser = authentication.currentUser();\n\t\t\n\t\tvm.logout = function(){\n\t\t\tauthentication.logout();\n\t\t\tif ($location.path() == \"/\")\n\t\t\t\t$route.reload();\n\t\t}\n  }\n\n})();\n(function () {\n\n  angular\n    .module('meanApp')\n    .directive('navigation', navigation);\n\n  function navigation () {\n    return {\n      restrict: 'EA',\n      templateUrl: '/common/directives/navigation/navigation.template.html',\n      controller: 'navigationCtrl as navvm'\n    };\n  }\n\n})();\n(function () {\n\n  angular\n    .module('meanApp')\n    .controller('sliderCtrl', sliderCtrl)\n\t\n\t\tsliderCtrl.$inject = ['$scope', 'preloader'];\n\n\t\tfunction sliderCtrl($scope, preloader) {\n\t\t\tvar slvm = this;\n\n\t\t\t\n\t\t\t$scope.imagesLoaded = false;\n\t\t\t\n\t\t\tpreloader.preloadImages( $scope.slides )\n\t\t\t.then(function() {\n\t\t\t\t$scope.imagesLoaded = true;\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\tconsole.log(\"error loading imgaes...\");\n\t\t\t});\n\t\t \t\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t$scope.currentIndex = 0;\n\t\t\t\n\t\t\t$scope.setCurrentSlideIndex = function (index) {\n\t\t\t  $scope.currentIndex = index;\n\t\t\t};\n\t\t\t\n\t\t\t$scope.isCurrentSlideIndex = function (index) {\n\t\t\t  return $scope.currentIndex === index;\n\t\t\t};\n\t\t\t\n\t\t\t$scope.nextSlide = function () {\n\t\t\t  $scope.currentIndex = ($scope.currentIndex < $scope.slides.length - 1) ? ++$scope.currentIndex : 0;\n\t\t\t};\n\t\t\t\n\t\t\t$scope.prevSlide = function () {\n\t\t\t  $scope.currentIndex = ($scope.currentIndex > 0) ? --$scope.currentIndex : $scope.slides.length - 1;\n\t\t\t};\n\t\t\t\t\n\t\t}\n\n})();\n(function () {\n\n  angular\n    .module('meanApp')\n    .directive('slider', slider);\n\t\t\n  function slider () {\n    return {\n      restrict: 'EA',\n      templateUrl: '/common/directives/slider/slider.template.html',\n      controller: 'sliderCtrl as slvm',\n      scope : {\n        slides : '=',\n        imageClick : '&'\n      }\n    };\n  }\n\n})();"]}