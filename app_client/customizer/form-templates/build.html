
<!--Fabric Popup-->
<div ng-show="vm.builder.infoPop"	ng-click="vm.builder.infoPop = false" id="how-it-works" class="popup-window">
	<div class="popup-content fabric-popup" ng-click="$event.stopPropagation()">
		<a class="popup-closer" href="" ng-click="vm.builder.infoPop = false"></a>
		<div class="popup-content-inner">
				<h3 class="popup-title">{{vm.builder.activeItem().name}}</h3>
				<h4 class="popup-sub-title">{{vm.builder.activeItem().materials}}</h4>
				<h4 class="popup-sub-title">{{vm.builder.activeItem().supplier}}</h4>
				<p class="fabric-description">{{vm.builder.activeItem().description}}</p>
				<div class="fabric-preveiw" style="background: url(/images/components/fabrics/preview_{{vm.jean.data.fabric}}.jpg) no-repeat center center; 
				-webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-size: cover;"></div>
		</div><!--./popup-content-inner-->
	</div>
</div>

<!--Denim Weight Popup-->
<div ng-show="vm.builder.denimPop"	ng-click="vm.builder.denimPop = false" id="how-it-works" class="popup-window">
	<div class="popup-content denim-popup" ng-click="$event.stopPropagation()">
		<a class="popup-closer" href="" ng-click="vm.builder.denimPop = false"></a>
		<div class="popup-content-inner">
			<h3 class="popup-title">Raw Denim Weights</h3>		
			<div class="denim-weight">
				<h3>Lightweight</h3>
				<h4>(Under 12 oz)</h4>
				<p>Lightweight raw denim is the first, and easiest to wear category. A raw denim under 12 Oz. is  easy to break in as it won’t require anywhere near as much wearing time as a heavier fabric to attain a pleasant level of comfort.</p>
				<p>A lightweight raw denim is much more comfortable from the beginning, and is lighter on your legs. There will be much fewer sweaty experiences caused from claustrophobia around your legs. The only drawback is that the fades achieved with this level of denim won’t look quite as spectacular as a heavier weight of denim.</p>
			</div>
			
			<div class="denim-weight">
				<h3>Mediumweight</h3>
				<h4>(Between 12 Oz. – 16 Oz.)</h4>
				<p>Second is the mid-weight denim, which is probably the most common of the raw denims in the market today. These are getting to the point where the denim starts off quite stiff, and are potentially quite heavy and hard to the touch.</p>
				<p>The positives include the potential for a much better fade, a slightly warmer jean come winter and fall, and a longer lasting jean that is much harder to wear through. You will, however, take a longer break in time, and will have a little bit of lost flexibility upfront.</p>
			</div>
			
			<div class="denim-weight">
				<h3>Heavyweight</h3>
				<h4>(Over 16 oz)</h4>
				<p>Finally are the heavyweight jeans, the over 16 Oz. jeans, which can run up to a 32 Oz. These jeans take a real commitment, they’re going to take time and effort and honestly won’t feel great at first.</p>
				<p>You’d have to be slightly self-loathing to want to stick your legs into a jean that can stand up on their own, but if lorem ipsum doler sit</p>
			</div>
		</div><!--./popup-content-inner-->
	</div>
</div>



<!--Pant Rendering-->
<div class="builder__stage">
	<div class="images" id="zoom-frame" ng-class="{'zoomed': vm.builder.zoom }" 
		ng-click="vm.builder.zoom = !vm.builder.zoom" ng-mousemove="vm.builder.trackMouse($event)">
		<img ng-if="vm.jean.data.fabric" ng-class="{'zoom': vm.builder.zoom }"
		src="/images/components/fabrics/g{{vm.jean.data.gender}}_s{{vm.jean.data.style}}_f{{vm.jean.data.fabric}}.jpg">		
		<img ng-if="vm.jean.data.threadBottom" ng-class="{'zoom': vm.builder.zoom }"
		src="/images/components/threads/g{{vm.jean.data.gender}}_s{{vm.jean.data.style}}_tb{{vm.jean.data.threadBottom}}.png">
		<img ng-if="vm.jean.data.threadTop" ng-class="{'zoom': vm.builder.zoom }"
		src="/images/components/threads/g{{vm.jean.data.gender}}_s{{vm.jean.data.style}}_tt{{vm.jean.data.threadTop}}.png">
		<img ng-if="vm.jean.data.threadAccent" ng-class="{'zoom': vm.builder.zoom }"
		src="/images/components/threads/g{{vm.jean.data.gender}}_s{{vm.jean.data.style}}_ta{{vm.jean.data.threadAccent}}.png">
		<img class="stage-button" ng-if="vm.jean.data.hardware"
		src="/images/components/hardware/thumb_{{vm.jean.data.hardware}}.jpg">
	</div>
	<a class="zoom-icon" ng-click="vm.builder.toggleZoom()" href=""><i class="fa fa-search-plus" aria-hidden="true"></i></a>
</div>


<!--Controls Panel-->
<div class="builder__control-panel">
	<div class="control-panel-inner">

		<!--Title / Choice indicator-->
		<h3 class="control-title">
			{{vm.builder.panel[vm.builder.step].title}}
			<a href="#" id="item-title" class="item-title"
				ng-click="vm.builder.panel[vm.builder.step].jeanKey != 'fabric' || (vm.builder.infoPop=!vm.builder.infoPop)">
					{{ vm.builder.getActiveItemName() }}
			</a>
		</h3>
		
		<!--Numerical Controls-->
		<div class="switch">					
			<ul>
				<li ng-repeat="(key, val) in vm.builder.panel" ng-if="$index > 0" ng-class="{ active: vm.builder.step==key }">
					<a ng-click="vm.builder.changeStep(key)" href="">{{key}}</a>
				</li>
			</ul>
		</div>
				
				
		<!--Choosers-->		
		<div class="build-step-stage">					
			<div class="fabric chooser" ng-repeat="step in vm.builder.panel" ng-show="vm.builder.panel[vm.builder.step] == step">

				<div class="description" ng-if="step.jeanKey == 'fabric'"><p>We have a range of fabrics in different weights from lightweight raw denim to heavyweight duck canvas. <a href="" ng-click="vm.builder.denimPop = !denimPop">Learn More.</a></p></div>
			
				<!--Fabric Chooser-->
				<div class='chooser-group' style="position:relative" ng-if="step.jeanKey == 'fabric'">
					<span style="top: 47px; left: 0px;" ng-class="{ live: vm.jean.data[step.jeanKey] }" class="chooser-select" id="{{step.jeanKey}}-selector"></span>
					
					<h3>Lightweight <a href="" class="info-pop" ng-click="vm.builder.denimPop = !vm.builder.denimPop"><i class="fa fa-question-circle"></i></a></h3>
					<div class="cft-g chooser-grid">
						<div class="cft-gi" ng-repeat="fabric in vm.builder.fabrics | filter:vm.builder.weightFilter(null,12)">
							<a ng-class="{ active: vm.jean.data[step.jeanKey]==fabric.id }" id="{{step.jeanKey}}_{{fabric.id}}" 
							href="" ng-click="vm.builder.selectAttr($event, fabric.id, step.jeanKey)">
								<img src="/images/components/{{step.dataKey}}/thumb_{{fabric.id}}.jpg">
							</a>
						</div>
					</div>
					
					<h3>Mediumweight <a href="" class="info-pop" ng-click="vm.builder.denimPop = !vm.builder.denimPop"><i class="fa fa-question-circle"></i></a></h3>
					<div class="cft-g chooser-grid">
						<div class="cft-gi" ng-repeat="fabric in vm.builder[step.dataKey] | filter:vm.builder.weightFilter(12.001,16)">
							<a ng-class="{ active: vm.jean.data[step.jeanKey]==fabric.id }" id="{{step.jeanKey}}_{{fabric.id}}" 
							href="" ng-click="vm.builder.selectAttr($event, fabric.id, step.jeanKey)">
								<img src="/images/components/{{step.dataKey}}/thumb_{{fabric.id}}.jpg">
							</a>
						</div>
					</div>
					
					<h3>Heavyweight <a href="" class="info-pop" ng-click="vm.builder.denimPop = !vm.builder.denimPop"><i class="fa fa-question-circle"></i></a></h3>
					<div class="cft-g chooser-grid">
						<div class="cft-gi" ng-repeat="fabric in vm.builder[step.dataKey] | filter:vm.builder.weightFilter(16.001,null)">
							<a ng-class="{ active: vm.jean.data[step.jeanKey]==fabric.id }" id="{{step.jeanKey}}_{{fabric.id}}" 
							href="" ng-click="vm.builder.selectAttr($event, fabric.id, step.jeanKey)">
								<img src="/images/components/{{step.dataKey}}/thumb_{{fabric.id}}.jpg">
							</a>
						</div>
					</div>
					
				</div>
				
				<!--All other choosers-->
				<div ng-if="step.jeanKey != 'fabric'" class="cft-g chooser-grid">
					<span style="top: 0; left: 15px;" ng-class="{ live: vm.jean.data[step.jeanKey] }" class="chooser-select" id="{{step.jeanKey}}-selector"></span>
					<div class="cft-gi" ng-repeat="data in vm.builder[step.dataKey]">
						<a ng-class="{ active: vm.jean.data[step.jeanKey]==data.id }" id="{{step.jeanKey}}_{{data.id}}" 
						href="" ng-click="vm.builder.selectAttr($event, data.id, step.jeanKey)">
							<img src="/images/components/{{step.dataKey}}/thumb_{{data.id}}.jpg">
						</a>
					</div>
				</div>
				
			</div>
		</div><!--/.build-step-stage-->		
		
		<div class="builder-control-container">		
			<a href="" class="builder-control-arrow" ng-show="vm.builder.step > 1" ng-click="vm.builder.changeStep(vm.builder.step-1)">
				<span class="arrow-controls left-arrow"></span>
				<span class="builder-nav-control-text">PREV</span>
			</a>
			<a href="" class="builder-control-arrow" ng-show="vm.builder.step < vm.builder.panel.length-1" ng-click="vm.builder.changeStep(vm.builder.step+1)">
				<span class="arrow-controls right-arrow"></span>
				<span class="builder-nav-control-text">NEXT</span>
			</a>
		</div>

	</div><!--/.control-panel-inner-->	
	
	<div class="action">
		<div class="cft-g action-grid">
			<div class="cft-gi">
				<a class="btn" href="#">
					Share <i class="fa fa-share" aria-hidden="true"></i>
				</a>
		  </div>
			<div class="cft-gi">
				<a class="btn" href="#">
					Save <i class="fa fa-floppy-o" aria-hidden="true"></i>
				</a>
		  </div>
		</div>
		<a class="btn order" href="#">
			Order
		</a>
		
	</div>
</div>


