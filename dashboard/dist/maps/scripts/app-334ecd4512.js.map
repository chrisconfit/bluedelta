{"version":3,"sources":["scripts/app-334ecd4512.js"],"names":["formValidation","$scope","signupForm","signup_form","$valid","submitted","signupForm2","iboxTools","$timeout","restrict","scope","templateUrl","controller","$element","showhide","ibox","closest","icon","find","content","children","slideToggle","toggleClass","resize","closebox","remove","angular","module","config","$compileProvider","aHrefSanitizationWhitelist","filter","input","ret","limit","begin","console","log","slice","replace","dateString","Date","parse","tel","value","toString","trim","match","country","city","number","length","routerConfig","$stateProvider","$urlRouterProvider","$locationProvider","$ocLazyLoadProvider","html5Mode","debug","editplugins","insertBefore","name","files","editScreenResolve","loadPlugin","$ocLazyLoad","load","clientAddScreenResolve","copy","userData","clientEditScreenResolve","$stateParams","$location","api","$q","undefined","clientId","defer","call","result","resolve","err","reject","promise","path","orderAddScreenResolve","orderData","fitMatchId","orderEditScreenResolve","orderId","fitMatchAddScreenResolve","fmData","fitMatchEditScreenResolve","fmId","state","url","authenticate","abstract","serie","reloadOnSearch","template","otherwise","$inject","runBlock","$rootScope","$state","user","getAppData","getToken","setup","$on","event","toState","toParams","fromState","fromParams","arguments","isLoggedIn","isAdmin","transitionTo","preventDefault","document","body","scrollTop","documentElement","run","element","ready","fix_height","heightWithoutNavbar","height","css","navbarHeight","wrapperHeight","window","hasClass","bind","scroll","addClass","removeClass","width","$uibModal","SweetAlert","toaster","setPrimary","primaryId","i","vm","addresses","thisAdd","id","primary","checkForAddress","create_addresses","add","address_line_1","zip","this","cardsSearched","square_id","data","cards","appData","getData","defaultUser","first_name","last_name","role_id","email","phone","newUser","originalUser","clientEditMode","beginClientEdit","clearClientEdit","item","editAddress","type","open","addressType","save","saveAddress","address","order","callback","creatingNew","parseInt","userId","push","createCreditCard","nonce","card","brand","card_brand","availableRoles","get","$watch","newVal","useAddress","saveUser","userDataForm","pop","title","showCloseButton","timeout","args","succMessage","errMessage","message","states","abbreviation","pullUsers","filters","pagination","total","Math","ceil","results_per_page","current","page","users","apply","results","loaded","deleteUserBox","text","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","closeOnConfirm","closeOnCancel","deleteUser","swal","isConfirm","usersRemove","splice","changePage","orderby","changeSort","col","asc","direction","newQuery","$filter","incrementPage","inc","startIndex","itemsPerPage","prev","next","pullFitMatchRequests","fitmatchreqs","queryToFilters","queryFilters","search","hasOwnProperty","isNaN","defaultFilters","filterOrders","range","dateRange","startDate","endDate","deleteFitMatchBox","deleteFM","fmRemove","nextURL","findIndex","dir","pullOrders","fm_status","Object","keys","a","oldUrl","newUrl","Array","isArray","split","start_date","end_date","formatDate","date","getPrimaryAddress","f","newFMData","requested_fabric_ids","shipped_date","form_received_date","newFM","EditMode","JSON","pullingCards","credit_card_id","primary_card","beginEdit","BeforeEdit","clearEdit","removeFabric","index","fabricNotChosen","indexOf","editUser","choose","chooseClient","orderUser","client","user_id","shipping_address_id","oldVal","shipping_phone","selected","captureCC","fitmatch","amount","selectedCard","confirmation","swalSettings","deleteOrderBox","orderFM","saveFM","fmForm","savingToast","saveData","stringify","clear","success","fdate","_d","d","toISOString","fabrics","fabric_list_item_name","fabric_id","lookup","directive","change","link","addToPages","array","endElipsTest","getPages","pages","column","logvm","msg","reset","set","password","form","login","go","logout","ordersPerPage","orders","deleteOrder","ordersRemove","arr","timelineLookupKeys","field","label","correctFieldTitle","charAt","toUpperCase","processLogs","logs","groupedLogs","key","created_at","entryData","entry","messages","old_value","new_value","simpleFields","join","timeline","buildTimeline","newOrder","order_comments","order_items","newOrderData","order_status_id","payment_status_id","order_type_id","gender_option_id","style_option_id","top_thread_id","accent_thread_id","bottom_thread_id","jean_name","shipping_name","fit_match_id","comment","params","originalJean","fit_date","dob","dueDate","convertToCurrency","price","beginJeanEdit","clearJeanEdit","due_date","compOrder","order_object","keyinPayment","timeFromNow","timestamp","moment","fromNow","timelineForm","addTimelineItem","deleteThisOrder","reOrderBox","reOrder","copyOrderObject","reorder_item_id","saveOrder","orderForm","jeanData","filename","getDataCode","image","createThumb","then","blob","jean_image_url","jean","newJean","jean_id","dataParameter","amount_money","currency_code","callback_url","client_id","version","notes","options","supported_tender_types","iOS","test","navigator","userAgent","MSStream","floor","now","squareLink","encodeURIComponent","sendInvoice","metisMenu","menuElement","click","sidebar","parent","slimScroll","railOpacity","minimalize","hide","fadeIn","removeAttr","$uibModalInstance","addData","primaryIndex","newAdd","editing","address_line_2","forms","ok","saveAdd","close","cancel","dismiss","validCheck","$invalid","$touched","$$parentForm","handleCCErr","successfulTransaction","details","paymentProcessedBox","paid_at","runCharge","cardData","customer_card_id","apiFunction","orderType","chargeAmount","isFM","isNewFM","cardForm","editingAmount","addCard","saveCard","chargeCard","fire","closeForm","cardChosen","ccCode","chargeData","fitmatchId","customer_id","card_id","card_nonce","handleOrderCharge","cardChose","saveCCToUser","saveCardAsFmPrimary","clients","totalClients","showCreate","searchClient","getMoreUsers","filterSearch","defaultClientForm","clientForm","showCreateForm","cancelCreateForm","postCreateForm","$templateCache","put"],"mappings":"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","file":"scripts/app-334ecd4512.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('inspinia', [ 'oc.lazyLoad', 'ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'user', 'api', 'sqPaymentForm'])\n    .config( ['$compileProvider', function( $compileProvider ){   \n\t      $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|chrome-extension|square-commerce-v1):/);\n\t      // Angular before v1.2 uses $compileProvider.urlSanitizationWhitelist(...)\n\t\t  }\n\t\t])\n\t\t\t.filter('ccName', function(){\n\t\t\t\treturn function(input){\n\t\t\t\t\tswitch (input){\n\t\t\t\t\t\tcase \"AMERICAN_EXPRESS\":\n\t\t\t\t\t\t\tvar ret = \"AMEX\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tvar ret = input;\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t})\n    .filter('paginate', function() {\n\t\t  return function(input, limit, begin) {\n\t\t\t  if (!input)return false;\n\t\t\t  console.log(\"input\");\n\t\t\t\tconsole.log(input.slice(begin, begin + limit));\n\t\t    return input.slice(begin, begin + limit);\n\t\t  };\n\t  })\n\t  .filter('routeToClass', function () {\n\t\t  return function (input) {\n\t\t      return input.replace(/\\./g, '-');\n\t\t  };\n\t\t})\n\t  .filter('dateInMillis', function() {\n\t    return function(dateString) {\n\t      return Date.parse(dateString);\n\t    };\n\t  })\n\t\t.filter('spaceless',function() {\n\t\t\treturn function(input) {\n\t\t\t\tif (input) {\n\t\t\t\t\treturn input.replace(/\\s+/g, '-');\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.filter('tel', function () {\n\t    return function (tel) {\n\t        if (!tel) { return ''; }\n\t\n\t        var value = tel.toString().trim().replace(/^\\+/, '');\n\t\n\t        if (value.match(/[^0-9]/)) {\n\t            return tel;\n\t        }\n\t\n\t        var country, city, number;\n\t\n\t        switch (value.length) {\n\t            case 10: // +1PPP####### -> C (PPP) ###-####\n\t                country = 1;\n\t                city = value.slice(0, 3);\n\t                number = value.slice(3);\n\t                break;\n\t\n\t            case 11: // +CPPP####### -> CCC (PP) ###-####\n\t                country = value[0];\n\t                city = value.slice(1, 4);\n\t                number = value.slice(4);\n\t                break;\n\t\n\t            case 12: // +CCCPP####### -> CCC (PP) ###-####\n\t                country = value.slice(0, 3);\n\t                city = value.slice(3, 5);\n\t                number = value.slice(5);\n\t                break;\n\t\n\t            default:\n\t                return tel;\n\t        }\n\t\n\t        if (country == 1) {\n\t            country = \"\";\n\t        }\n\t\n\t        number = number.slice(0, 3) + '-' + number.slice(3);\n\t\n\t        return (country + \" (\" + city + \") \" + number).trim();\n\t    };\n\t});\n\t\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('inspinia')\n    .config(['$stateProvider', '$urlRouterProvider', '$locationProvider', '$ocLazyLoadProvider', routerConfig]);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider, $ocLazyLoadProvider) {\n\t  $locationProvider.html5Mode(true);\n\t\t\n\t\t$ocLazyLoadProvider.config({\n      debug: false\n    });\n\t\t\n\t \n\t  \n\t  \n\t  /*\n\t\t* Resolves Base\n\t\t*/\n\t\t\n\n\t  \n\t\tvar editplugins = [\n\t\t  { insertBefore: '#loadBefore', name: 'toaster', files: ['assets/scripts/toastr/toastr.min.js', 'assets/styles/toastr/toastr.min.css']},\n\t    { files: ['assets/styles/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css']},\n\t    { name: 'datePicker', files: ['assets/styles/datapicker/angular-datapicker.css','assets/scripts/datapicker/angular-datepicker.js']\n\t    }\n\t  ];\n\t  \n\t  var editScreenResolve = {\n\t\t  loadPlugin: ['$ocLazyLoad', function ($ocLazyLoad) { return $ocLazyLoad.load(editplugins)}]\n\t  };\n\t \n\t \n\t\t\n\t\t\n\t\t/*\n\t\t* Client Resolves\n\t\t*/\n\t\t\n\t  var clientAddScreenResolve = angular.copy(editScreenResolve);\n\t  clientAddScreenResolve.userData = function(){return {}};\n      \n    var clientEditScreenResolve = angular.copy(editScreenResolve);\n    clientEditScreenResolve.userData = [ '$stateParams', '$location', 'api', '$q', function($stateParams, $location, api, $q){\n\t\t\tif ($stateParams.clientId === undefined || $stateParams.clientId == \"\"){\n\t\t\t\t$location.path('clients/list');\n\t\t\t}\n\n\t\t\telse{\n\t\t\t\tvar defer = $q.defer();\n\t\t\t\tapi.call('userGet', $stateParams.clientId,\n\t\t\t\t\tfunction(result){\tdefer.resolve(result);\t},\n\t\t\t\t\tfunction(err){ defer.reject(err); }\n\t\t\t\t);\n\t\t   \treturn defer.promise; \n\t\t\t}\n\t\t}];   \n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/*\n\t\t* Order Resolves\n\t\t*/\n\t\t\n\t\tvar orderAddScreenResolve = angular.copy(editScreenResolve);\n    orderAddScreenResolve.orderData = [ '$stateParams', '$location', 'api', '$q', function($stateParams, $location, api, $q){\n\n      if ($stateParams.fitMatchId === undefined || $stateParams.fitMatchId == \"\"){\n        return null;\n      }\n\n      else{\n        var defer = $q.defer();\n        api.call('fitmatchGet', $stateParams.fitMatchId,\n          function(result){defer.resolve(result);},\n          function(err){ defer.reject(err); }\n        );\n      }\n\n      return defer.promise;\n    }];\n\t\t   \n\t\tvar orderEditScreenResolve = angular.copy(editScreenResolve);\n\t\torderEditScreenResolve.orderData = [ '$stateParams', '$location', 'api', '$q', function($stateParams, $location, api, $q){\n\t\t\n\t\t\tif ($stateParams.orderId === undefined || $stateParams.orderId == \"\"){\n\t\t\t\t$location.path('orders/list');\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar defer = $q.defer();\n\t\t\t\tapi.call('orderGet', $stateParams.orderId,\n\t\t\t\t\tfunction(result){defer.resolve(result);},\n\t\t\t\t\tfunction(err){ defer.reject(err); }\n\t\t\t\t);\n\t\t\t}\n\t\t\t\n\t\t\treturn defer.promise; \n\t\t}];\n\n\n    /*\n    * Fit Match Resolves\n    */\n\n    var fitMatchAddScreenResolve = angular.copy(editScreenResolve);\n    fitMatchAddScreenResolve.fmData = function(){return null};\n\n\t\tvar fitMatchEditScreenResolve = angular.copy(editScreenResolve);\n    fitMatchEditScreenResolve.fmData = [ '$stateParams', '$location', 'api', '$q', function($stateParams, $location, api, $q){\n\n      if ($stateParams.fmId === undefined || $stateParams.fmId == \"\"){\n        $location.path('fitmatch/list');\n      }\n      else {\n\n        var defer = $q.defer();\n        var ret = {};\n        api.call('fitmatchGet', $stateParams.fmId,\n            function(result){\n              defer.resolve(result);\n            },\n            function(err){ defer.reject(err); }\n        );\n      }\n      return defer.promise;\n    }];\n\t\t\n  \n\t  \n\t  \n\t  \t\t\t\t\t\t\t\n\t  \n\t  \n\t  \n\t  \n\t\t/*\n\t\t* Routes\n\t\t*/\t  \n\t\t\n    $stateProvider\n \n    \t.state('login', {\n        url: \"/login\",\n        templateUrl: \"app/login/login.html\",\n        authenticate: false\n      })\n    \n      .state('forgot_password', {\n        url: \"/forgot-password\",\n        templateUrl: \"app/forgot_password/forgot_password.html\",\n        authenticate: false\n      }) \n    \t\n      .state('dashboard', {\n        abstract: true,\n        url: \"/dashboard\",\n        templateUrl: \"app/components/common/content.html\",\n        authenticate: true\n      })\n      \n      .state('dashboard.main', {\n        url: \"/main\",\n        templateUrl: \"app/main/main.html\",\n        authenticate: true\n      })\n\t\t\t\n\t\t\t.state('clients', {\n        abstract: true,\n        url: \"/clients\",\n        templateUrl: \"app/components/common/content.html\",\n        authenticate: true,\n        resolve: { \n\t        loadPlugin: function ($ocLazyLoad) {\n\t\t\t\t\t\treturn $ocLazyLoad.load([\n\t\t\t\t\t\t\t{\tfiles: ['assets/scripts/sweetalert/sweetalert.min.js', 'assets/styles/sweetalert/sweetalert.css']},\n\t            {name: 'oitozero.ngSweetAlert', files: ['assets/scripts/sweetalert/angular-sweetalert.min.js']}\n\t\t\t\t\t\t]);\n\t\t\t\t\t}\n                \n\t      }\n      })\n      \n      .state('clients.list', {\n        url: \"/list\",\n        templateUrl: \"app/clients/clients.html\",\n        authenticate: true\n      })\n      \n      .state('clients.add', {\n        url: \"/add\",\n        templateUrl: \"app/clients/clients-edit.html\",\n        controller: \"ClientsEditController as cvm\",\n        authenticate: true,\n        resolve: clientAddScreenResolve\n      })\n      \n      .state('clients.edit', {\n        url: \"/edit/:clientId\",\n        templateUrl: \"app/clients/clients-edit.html\",\n        authenticate: true,\n        controller: \"ClientsEditController as cvm\",\n        resolve: clientEditScreenResolve\n      })\n\n      .state('orders', {\n        abstract: true,\n        url: \"/orders\",\n        templateUrl: \"app/components/common/content.html\",\n        authenticate: true,\n        resolve: {\n\t        loadPlugin: function ($ocLazyLoad) {\n\t\t\t\t\treturn $ocLazyLoad.load([\n\t\t\t\t    {\tfiles: ['assets/scripts/sweetalert/sweetalert.min.js', 'assets/styles/sweetalert/sweetalert.css']},\n            { name: 'oitozero.ngSweetAlert', files: ['assets/scripts/sweetalert/angular-sweetalert.min.js'] },\n            { serie: true, files: ['assets/scripts/daterangepicker/daterangepicker.js', 'assets/styles/daterangepicker/daterangepicker-bs3.css'] },\n            { name: 'daterangepicker', files: ['assets/scripts/daterangepicker/angular-daterangepicker.js']},\n            { name: 'datePicker', files: ['assets/styles/datapicker/angular-datapicker.css','assets/scripts/datapicker/angular-datepicker.js'] }\n\t\t\t\t\t]);\n\t\t\t\t\t}\n\t      }\n      })\n\n      .state('orders.list', {\n        url: \"/list\",\n        templateUrl: \"app/orders/orders.html\",\n        authenticate: true,\n        controller: \"OrdersController as ovm\",\n        reloadOnSearch: false\n      })\n\n      .state('orders.edit', {\n        url: \"/edit/:orderId\",\n        templateUrl: \"app/orders/orders-edit.html\",\n        authenticate: true,\n        controller: \"OrdersEditController as ovm\",\n        resolve: orderEditScreenResolve\n      })\n\n      .state('orders.add', {\n        url: \"/add/:fitMatchId?\",\n        templateUrl: \"app/orders/orders-edit.html\",\n        authenticate: true,\n        controller: \"OrdersEditController as ovm\",\n        resolve: orderAddScreenResolve\n      })\n\n      .state('orders.callback', {\n        url: \"/callback\",\n        template: \" \",\n        authenticate: false,\n        controller: \"OrdersCallbackController as vm\",\n      })\n\n      .state('fitmatch', {\n        abstract: true,\n        url: \"/fitmatch\",\n        templateUrl: \"app/components/common/content.html\",\n        authenticate: true,\n        resolve: {\n          loadPlugin: function ($ocLazyLoad) {\n            return $ocLazyLoad.load([\n              {\tfiles: ['assets/scripts/sweetalert/sweetalert.min.js', 'assets/styles/sweetalert/sweetalert.css']},\n              { name: 'oitozero.ngSweetAlert', files: ['assets/scripts/sweetalert/angular-sweetalert.min.js'] },\n              { serie: true, files: ['assets/scripts/daterangepicker/daterangepicker.js', 'assets/styles/daterangepicker/daterangepicker-bs3.css'] },\n              { name: 'daterangepicker', files: ['assets/scripts/daterangepicker/angular-daterangepicker.js']},\n              { name: 'datePicker', files: ['assets/styles/datapicker/angular-datapicker.css','assets/scripts/datapicker/angular-datepicker.js'] }\n            ]);\n          }\n        }\n      })\n\n      .state('fitmatch.list', {\n        url: \"/list?:user_id\",\n        templateUrl: \"app/fitmatch/fitmatch.html\",\n        authenticate: true,\n        controller: \"FitMatchController as vm\",\n      })\n\n      .state('fitmatch.edit', {\n        url: \"/edit/:fmId\",\n        templateUrl: \"app/fitmatch/fitmatch-edit.html\",\n        authenticate: true,\n        controller: \"FitMatchEditController as vm\",\n        resolve: fitMatchEditScreenResolve\n      })\n\n      .state('fitmatch.add', {\n        url: \"/add\",\n        templateUrl: \"app/fitmatch/fitmatch-edit.html\",\n        authenticate: true,\n        controller: \"FitMatchEditController as vm\",\n        resolve: fitMatchAddScreenResolve\n      });\n      \n    $urlRouterProvider.otherwise('orders/list');\n  };\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('inspinia')\n    .run([\"$rootScope\", \"$state\", \"user\", \"api\", runBlock]);\n\n  /** @ngInject */\n  function runBlock($rootScope, $state, user, api) {\n\t  \n\t  api.getAppData();\n\t\t\n\t\t///Set up user if already logged in\n\t\tif (user.getToken()){\n\t\t\tuser.setup();\n\t\t}\n\t\t\n\t\t$rootScope.$on('$stateChangeError', function(event, toState, toParams, fromState, fromParams, err){\n\t\t  console.log('$stateChangeError - fired when an error occurs during transition.');\n\t\t  console.log(arguments);\n\t\t});\n\t\t$rootScope.$on(\"$stateChangeStart\", function(event, toState, toParams, fromState, fromParams){\n\t    if (toState.authenticate && (!user.isLoggedIn() || !user.isAdmin()) ){\n\t    \t\n\t    \tconsole.log(\"NOT LOGGED IN!!! \"+!user.isLoggedIn());\n        console.log(\"NOT ADMIN IN!!! \"+!user.isAdmin());\n        \n\t      $state.transitionTo(\"login\");\n\t      event.preventDefault(); \n\t    }\n\t  });\n    $rootScope.$on('$stateChangeSuccess', function() {\n      document.body.scrollTop = document.documentElement.scrollTop = 0;\n    });\n\t\n   \n  }\n\n})();\n\n/**\n * INSPINIA - Responsive Admin Theme\n * 2.7.1\n *\n * Custom scripts\n */\n\nangular.element(document).ready(function ($timeout) {\n\n\n  // Full height of sidebar\n  function fix_height() {\n    var heightWithoutNavbar = angular.element(\"body > #wrapper\").height() - 61;\n    angular.element(\".sidebar-panel\").css(\"min-height\", heightWithoutNavbar + \"px\");\n\n    var navbarHeight = angular.element('nav.navbar-default').height();\n    var wrapperHeight = angular.element('#page-wrapper').height();\n\n    if(navbarHeight > wrapperHeight){\n      angular.element('#page-wrapper').css(\"min-height\", navbarHeight + \"px\");\n    }\n\n    if(navbarHeight < wrapperHeight){\n      angular.element('#page-wrapper').css(\"min-height\", angular.element(window).height()  + \"px\");\n    }\n\n    if (angular.element('body').hasClass('fixed-nav')) {\n      if (navbarHeight > wrapperHeight) {\n        angular.element('#page-wrapper').css(\"min-height\", navbarHeight  + \"px\");\n      } else {\n        angular.element('#page-wrapper').css(\"min-height\", angular.element(window).height() - 60 + \"px\");\n      }\n    }\n\n  }\n\n  angular.element(window).bind(\"load resize scroll\", function() {\n    if(!angular.element(\"body\").hasClass('body-small')) {\n      fix_height();\n    }\n  });\n\n  // Move right sidebar top after scroll\n  angular.element(window).scroll(function(){\n    if (angular.element(window).scrollTop() > 0 && !angular.element('body').hasClass('fixed-nav') ) {\n      angular.element('#right-sidebar').addClass('sidebar-top');\n    } else {\n      angular.element('#right-sidebar').removeClass('sidebar-top');\n    }\n  });\n\n  $timeout(function(){\n    fix_height();\n  });\n\n  // Minimalize menu when screen is less than 768px\n  angular.element(window).bind(\"load resize\", function() {\n    if (angular.element(document).width() < 769) {\n      angular.element('body').addClass('body-small')\n    } else {\n      angular.element('body').removeClass('body-small')\n    }\n  })\n\n});\n\n'use strict';\n\nangular.module('inspinia')\n  .controller('ClientsEditController',  ['user', '$uibModal', 'userData', '$scope', 'api', 'SweetAlert', 'toaster', '$state',\n  function (user, $uibModal, userData, $scope, api, SweetAlert, toaster, $state) {\n    \n    var vm = this;\n    \n    //Setup\n\t\tvm.userData = userData;\n    vm.cardsSearched=false;\n\t\tif(vm.userData.square_id){\n\t\t\tapi.call('usersGetUserCreditCards', vm.userData.id, function(data){\n\t\t\t\tvm.userData.cards = data;\n\t\t\t\tvm.cardsSearched=true;\n\t\t\t}, function(err){\n        vm.cardsSearched=true;\n\t\t\t});\n\t\t}else{\n      vm.cardsSearched=true;\n      vm.userData.cards=[];\n\t\t}\n\t\tvm.appData = api.getData();\n\t\t\n\t\tvar defaultUser = {\n\t\t\tfirst_name:\"\",\n\t\t\tlast_name:\"\",\n\t\t\trole_id:1,\n\t\t\temail:\"\",\n\t\t\tphone:\"\",\n\t\t\taddresses:[],\n\t\t};\n\n\t\tvm.newUser = !vm.userData.id;\n\n\t\tvm.userData = vm.newUser ? defaultUser : userData;\t\t\n\t\tvm.originalUser = vm.newUser ? null : angular.copy(userData);\n\t\tvm.clientEditMode= vm.newUser ? true : false;\n\t\t\n\t\tvm.beginClientEdit = function(){\n\t\t\tvm.clientEditMode = true;\n\t\t};\n\t\t\n\t\tvm.clearClientEdit = function(item){\n\t\t\tvm.clientEditMode = false;\n\t\t\titem = vm.originalUser;\n\t\t};\n\t\n\t\tvm.editAddress = function (type, icon) {\n      var modalInstance = $uibModal.open({\n        templateUrl: 'app/address-choice/address.html',\n        controller: 'AddressController',\n        resolve: {\n\t        data: {\n\t\t        addressType : type,\n\t\t        icon : icon,\n\t\t      },\n\t        save : function(){\n\t\t        return vm.saveAddress;\n\t        },\n          address: function () {\n            return vm.userData.addresses;\n          },\n          order : function() {\n\t          return {};\n          }\n        }\n    \t});\n    };\n    \n    function setPrimary(primaryId){\n\t    for (var i=0; i<vm.userData.addresses.length; i++){\n\t\t  \tvar thisAdd = vm.userData.addresses[i];\n\t\t  \tif (thisAdd.id == primaryId) thisAdd.primary=1;\n\t\t  \telse thisAdd.primary=0;\n\t    }\n    }\n    \n    function hasProp (obj, prop) {\n\t\t\treturn Object.prototype.hasOwnProperty.call(obj, prop);\n\t\t}\n\n\n\t  vm.saveAddress = function(add, callback){\t\n\t\t\tvar creatingNew = true;\n\t\t\tif (add === parseInt(add, 10)){\n\t\t\t\tcreatingNew = false;\n\t\t\t\tfor (var i=0; i<vm.userData.addresses.length; i++){\n\t\t  \t\tvar thisAdd = vm.userData.addresses[i];\n\t\t\t\t\tif (thisAdd.id == add) add = thisAdd;\n\t\t\t\t\telse thisAdd.primary=false;\n\t    \t}\n\t    }\n\t\t\tadd.primary=1;\n\t\t\tvar data = {userId:vm.userData.id, address:add};\n\n\t\t\tapi.call('postAddress', data, function(result){\t\n\t\t\t\tif(creatingNew) vm.userData.addresses.push(result);\n        setPrimary(result.id);\n\t\t\t\tif(callback)callback();\n\t\t\t});\n\t\t};\n\t\t\n\t\t\n\t\t\n\t\n\t\n  \n\t\t/*\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\\\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t* * * * * Save/Create\t* * * * * \n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\t\n\t\t\\*\t  \t\t\t\t\t\t\t\t\t\t\t\t*/\n\t\tvm.createCreditCard = function(nonce){\n\t\t\tapi.call('usersCreateCreditCard', {userId:vm.userData.id, nonce:nonce}, function(result){\n\t\t\t\tresult.card.brand = result.card.card_brand;\n\t\t\t\tvm.userData.cards.push(result.card);\n\t\t\t});\n\t\t};\n\n\t\tvm.availableRoles = [\n\t\t\t{id:1, name:'Client'}, \n\t\t\t{id:2, name:'Admin'}\n\t\t];\t\n\t\n\t\tvm.user=user.get(true);\n\t\t$scope.$watch(angular.bind(this, function () {\n\t\t  return this.user;\n\t\t}), function (newVal) {\n\t\t\tif(newVal.role_id>2)\n\t\t\t\tvm.availableRoles.push({id:3, name:'Super Admin'});\n\t\t});\n\t\n\t\t\n\t\tfunction checkForAddress(){\t\t\t\n\t\t\t//Address has not been touched\n\t\t\tif (!vm.userData.create_addresses) return false;\n\t\t\tvar add = vm.userData.create_addresses[0];\n\t\t\tif(!add.address_line_1 && !add.address_line_1 && !add.city && !add.state && !add.zip){\n\t\t\t\tdelete vm.userData.create_addresses;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t\n\t\tvm.useAddress = false;\n\n\t\tvm.saveUser = function(){\n\n\t\t\tcheckForAddress();\n\t\t\tif (!$scope.userDataForm.$valid){\n\t\t\t\t$scope.userDataForm.submitted = true;\n\t\t\t\treturn false;\n\t\t\t}  \n\n\t\t\ttoaster.pop({\n\t\t\t  type: 'wait',\n\t\t\t  title: \"Saving...\",\n\t\t\t  showCloseButton: true,\n\t\t\t  timeout: 3000\n\t\t\t});\n\t\t\t\t\n\t\t\tvar args = vm.userData;\n\t\t\tvar succMessage = vm.newUser ? \"User Created\" : \"User Saved\";\n\t\t\tvar errMessage = vm.newUser ? \"Could not create user\" : \"Could not Save user\";\t\n\t\t\t\n\t\t\t\n\t\t\tapi.call('usersPost', args, function(result){\n\t\t\t\tvm.clientEditMode=false\n\t\t\t\ttoaster.pop({\n\t\t\t\t  type: 'success',\n\t\t\t\t  title: succMessage,\n\t\t\t\t  showCloseButton: true,\n\t\t\t\t  timeout: 3000\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(vm.newUser) $state.transitionTo('clients.edit', {clientId:result.id});\n\t\t\t\t\t\t\n\t\t\t}, function(err){\n\t\t\t\ttoaster.pop({\n\t\t\t\t  type: 'error',\n\t\t\t\t  title: errMessage,\n\t\t\t\t  body: err.message,\n\t\t\t\t  showCloseButton: true,\n\t\t\t\t  timeout: 7000\n\t\t\t\t});\n\t\t\t});\n\n\t\t}\n\n\t\tvm.states = [\n\t\t\t{\n\t\t\t  \"name\": \"Alabama\",\n\t\t\t  \"abbreviation\": \"AL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Alaska\",\n\t\t\t  \"abbreviation\": \"AK\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"American Samoa\",\n\t\t\t  \"abbreviation\": \"AS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Arizona\",\n\t\t\t  \"abbreviation\": \"AZ\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Arkansas\",\n\t\t\t  \"abbreviation\": \"AR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"California\",\n\t\t\t  \"abbreviation\": \"CA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Colorado\",\n\t\t\t  \"abbreviation\": \"CO\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Connecticut\",\n\t\t\t  \"abbreviation\": \"CT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Delaware\",\n\t\t\t  \"abbreviation\": \"DE\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"District Of Columbia\",\n\t\t\t  \"abbreviation\": \"DC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Federated States Of Micronesia\",\n\t\t\t  \"abbreviation\": \"FM\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Florida\",\n\t\t\t  \"abbreviation\": \"FL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Georgia\",\n\t\t\t  \"abbreviation\": \"GA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Guam\",\n\t\t\t  \"abbreviation\": \"GU\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Hawaii\",\n\t\t\t  \"abbreviation\": \"HI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Idaho\",\n\t\t\t  \"abbreviation\": \"ID\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Illinois\",\n\t\t\t  \"abbreviation\": \"IL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Indiana\",\n\t\t\t  \"abbreviation\": \"IN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Iowa\",\n\t\t\t  \"abbreviation\": \"IA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Kansas\",\n\t\t\t  \"abbreviation\": \"KS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Kentucky\",\n\t\t\t  \"abbreviation\": \"KY\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Louisiana\",\n\t\t\t  \"abbreviation\": \"LA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Maine\",\n\t\t\t  \"abbreviation\": \"ME\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Marshall Islands\",\n\t\t\t  \"abbreviation\": \"MH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Maryland\",\n\t\t\t  \"abbreviation\": \"MD\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Massachusetts\",\n\t\t\t  \"abbreviation\": \"MA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Michigan\",\n\t\t\t  \"abbreviation\": \"MI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Minnesota\",\n\t\t\t  \"abbreviation\": \"MN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Mississippi\",\n\t\t\t  \"abbreviation\": \"MS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Missouri\",\n\t\t\t  \"abbreviation\": \"MO\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Montana\",\n\t\t\t  \"abbreviation\": \"MT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Nebraska\",\n\t\t\t  \"abbreviation\": \"NE\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Nevada\",\n\t\t\t  \"abbreviation\": \"NV\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Hampshire\",\n\t\t\t  \"abbreviation\": \"NH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Jersey\",\n\t\t\t  \"abbreviation\": \"NJ\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Mexico\",\n\t\t\t  \"abbreviation\": \"NM\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New York\",\n\t\t\t  \"abbreviation\": \"NY\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"North Carolina\",\n\t\t\t  \"abbreviation\": \"NC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"North Dakota\",\n\t\t\t  \"abbreviation\": \"ND\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Northern Mariana Islands\",\n\t\t\t  \"abbreviation\": \"MP\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Ohio\",\n\t\t\t  \"abbreviation\": \"OH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Oklahoma\",\n\t\t\t  \"abbreviation\": \"OK\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Oregon\",\n\t\t\t  \"abbreviation\": \"OR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Palau\",\n\t\t\t  \"abbreviation\": \"PW\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Pennsylvania\",\n\t\t\t  \"abbreviation\": \"PA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Puerto Rico\",\n\t\t\t  \"abbreviation\": \"PR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Rhode Island\",\n\t\t\t  \"abbreviation\": \"RI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"South Carolina\",\n\t\t\t  \"abbreviation\": \"SC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"South Dakota\",\n\t\t\t  \"abbreviation\": \"SD\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Tennessee\",\n\t\t\t  \"abbreviation\": \"TN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Texas\",\n\t\t\t  \"abbreviation\": \"TX\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Utah\",\n\t\t\t  \"abbreviation\": \"UT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Vermont\",\n\t\t\t  \"abbreviation\": \"VT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Virgin Islands\",\n\t\t\t  \"abbreviation\": \"VI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Virginia\",\n\t\t\t  \"abbreviation\": \"VA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Washington\",\n\t\t\t  \"abbreviation\": \"WA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"West Virginia\",\n\t\t\t  \"abbreviation\": \"WV\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Wisconsin\",\n\t\t\t  \"abbreviation\": \"WI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Wyoming\",\n\t\t\t  \"abbreviation\": \"WY\"\n\t\t\t}\n\t\t]\n\t\t\n\t\t\n  }]);\n\n'use strict';\n\nangular.module('inspinia')\n  .controller('ClientsController',  ['$scope', 'SweetAlert', 'api', function ($scope, SweetAlert, api) {\n    var vm = this;\n\t\tvar deleteUserBox = {\n      title: \"Are you sure?\",\n      text: \"This user will be deleted forever!\",\n      type: \"warning\",\n      showCancelButton: true,\n\t\t\tconfirmButtonColor: \"#DD6B55\",\n      confirmButtonText: \"Delete\",\n      cancelButtonText: \"Cancel\",\n      closeOnConfirm: false,\n      closeOnCancel: true \n    };\n    \n    \n\t\tvm.deleteUser = function(userId){\n\t\t\tSweetAlert.swal(deleteUserBox,\n\t\t    function (isConfirm) {\n\t        if (isConfirm) {\n\t\t        api.call('usersDelete', userId, function(result){\n\t\t\t        console.log(result);\n\t\t\t\t\t\t\tvm.usersRemove(userId);\n\t          \tSweetAlert.swal(\"Deleted!\", \"User \"+userId+\" has been deleted.\", \"success\");\n\t          });\n\t        }\n\t\t    }\n\t\t  );\n\t\t};\n\n\t\tvm.usersRemove = function(userId){\n\t\t\tfor(var i=0; i<vm.users.length; i++){\n\t\t\t\tif (vm.users[i].id == userId){\n\t\t\t\t\tvm.users.splice(i, 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n    \n  \t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tvm.changePage = function(page){\n\t\t\tconsole.log(\"new page: \"+page);\n\t\t\tvm.filters.page=parseInt(page);\n\t\t\tvm.users=[];\n\t\t\tpullUsers(vm.filters);\n\t\t}\n\t\t\n\t\tvm.pagination = {\n\t\t\ttotal:0,\n\t\t\tcurrent:0\n\t\t}\n\t\t\n\t\tfunction pullUsers(filters, callback){\n\t\t\t//var data = vm.pagination.nextURL ? [vm.pagination.usersPerPage, vm.pagination.nextURL] : vm.pagination.usersPerPage;\n\t\t\tapi.call('usersList', filters, function(result){\n\t\t\t\tif (vm.pagination.total == 0 ) vm.pagination.total = Math.ceil(parseInt(result.total)/vm.filters.results_per_page);\n\t\t\t\tvm.pagination.current = parseInt(result.page);\n\t\t\t\tvm.users.push.apply(vm.users, result.results);\n\t\t\t\tvm.pagination.loaded++;\t\n\t\t\t\tif (callback) callback();\n\t\t\t});\n\t\t}\n\t\t\n\t\t//Init users\n\t\tvm.users = [];\n\t\tvm.filters = {\n\t\t\t\"results_per_page\" : 25,\n\t\t\t\"page\": 1, \n\t\t\t\"orderby\":\"last_name\",\n\t\t\t\"order\":\"ASC\",\n\t\t}\n\t\t$scope.$watch(angular.bind(this, function () {\n\t\t  return this.filters.state;\n\t\t}), function (newVal) {\n\t\t\tif (newVal ==\"\") delete vm.filters.state;\n\t\t\tif (!newVal) return false;\t\n\t\t});\n\t\t\n\t\tpullUsers(vm.filters);    \n    \n    vm.changeSort = function(col, asc){\n\t    var direction = asc ? \"ASC\" : \"DESC\";\n\t    vm.filters.orderby=col;\n\t    vm.filters.order = direction;\n\t\t\tvm.newQuery();\n    }\n        \n    vm.newQuery = function(){\n\t    vm.pagination.total=0;\n\t    vm.users = [];\n\t    vm.filters.page=1;\n\t    for (var i=0; i<vm.filters.length; i++){\n\t\t    if (vm.filters[i] == \"\") delete vm.filters[i];\n\t    }\n\t    pullUsers(vm.filters);\n    }\n\n\n\t\t\n\n    vm.states = [\n\t    {\n\t\t    \"name\":\"None\",\n\t\t    \"abbreviation\":\"\"\n\t    },\n\t    {\n\t        \"name\": \"Alabama\",\n\t        \"abbreviation\": \"AL\"\n\t    },\n\t    {\n\t        \"name\": \"Alaska\",\n\t        \"abbreviation\": \"AK\"\n\t    },\n\t    {\n\t        \"name\": \"American Samoa\",\n\t        \"abbreviation\": \"AS\"\n\t    },\n\t    {\n\t        \"name\": \"Arizona\",\n\t        \"abbreviation\": \"AZ\"\n\t    },\n\t    {\n\t        \"name\": \"Arkansas\",\n\t        \"abbreviation\": \"AR\"\n\t    },\n\t    {\n\t        \"name\": \"California\",\n\t        \"abbreviation\": \"CA\"\n\t    },\n\t    {\n\t        \"name\": \"Colorado\",\n\t        \"abbreviation\": \"CO\"\n\t    },\n\t    {\n\t        \"name\": \"Connecticut\",\n\t        \"abbreviation\": \"CT\"\n\t    },\n\t    {\n\t        \"name\": \"Delaware\",\n\t        \"abbreviation\": \"DE\"\n\t    },\n\t    {\n\t        \"name\": \"District Of Columbia\",\n\t        \"abbreviation\": \"DC\"\n\t    },\n\t    {\n\t        \"name\": \"Federated States Of Micronesia\",\n\t        \"abbreviation\": \"FM\"\n\t    },\n\t    {\n\t        \"name\": \"Florida\",\n\t        \"abbreviation\": \"FL\"\n\t    },\n\t    {\n\t        \"name\": \"Georgia\",\n\t        \"abbreviation\": \"GA\"\n\t    },\n\t    {\n\t        \"name\": \"Guam\",\n\t        \"abbreviation\": \"GU\"\n\t    },\n\t    {\n\t        \"name\": \"Hawaii\",\n\t        \"abbreviation\": \"HI\"\n\t    },\n\t    {\n\t        \"name\": \"Idaho\",\n\t        \"abbreviation\": \"ID\"\n\t    },\n\t    {\n\t        \"name\": \"Illinois\",\n\t        \"abbreviation\": \"IL\"\n\t    },\n\t    {\n\t        \"name\": \"Indiana\",\n\t        \"abbreviation\": \"IN\"\n\t    },\n\t    {\n\t        \"name\": \"Iowa\",\n\t        \"abbreviation\": \"IA\"\n\t    },\n\t    {\n\t        \"name\": \"Kansas\",\n\t        \"abbreviation\": \"KS\"\n\t    },\n\t    {\n\t        \"name\": \"Kentucky\",\n\t        \"abbreviation\": \"KY\"\n\t    },\n\t    {\n\t        \"name\": \"Louisiana\",\n\t        \"abbreviation\": \"LA\"\n\t    },\n\t    {\n\t        \"name\": \"Maine\",\n\t        \"abbreviation\": \"ME\"\n\t    },\n\t    {\n\t        \"name\": \"Marshall Islands\",\n\t        \"abbreviation\": \"MH\"\n\t    },\n\t    {\n\t        \"name\": \"Maryland\",\n\t        \"abbreviation\": \"MD\"\n\t    },\n\t    {\n\t        \"name\": \"Massachusetts\",\n\t        \"abbreviation\": \"MA\"\n\t    },\n\t    {\n\t        \"name\": \"Michigan\",\n\t        \"abbreviation\": \"MI\"\n\t    },\n\t    {\n\t        \"name\": \"Minnesota\",\n\t        \"abbreviation\": \"MN\"\n\t    },\n\t    {\n\t        \"name\": \"Mississippi\",\n\t        \"abbreviation\": \"MS\"\n\t    },\n\t    {\n\t        \"name\": \"Missouri\",\n\t        \"abbreviation\": \"MO\"\n\t    },\n\t    {\n\t        \"name\": \"Montana\",\n\t        \"abbreviation\": \"MT\"\n\t    },\n\t    {\n\t        \"name\": \"Nebraska\",\n\t        \"abbreviation\": \"NE\"\n\t    },\n\t    {\n\t        \"name\": \"Nevada\",\n\t        \"abbreviation\": \"NV\"\n\t    },\n\t    {\n\t        \"name\": \"New Hampshire\",\n\t        \"abbreviation\": \"NH\"\n\t    },\n\t    {\n\t        \"name\": \"New Jersey\",\n\t        \"abbreviation\": \"NJ\"\n\t    },\n\t    {\n\t        \"name\": \"New Mexico\",\n\t        \"abbreviation\": \"NM\"\n\t    },\n\t    {\n\t        \"name\": \"New York\",\n\t        \"abbreviation\": \"NY\"\n\t    },\n\t    {\n\t        \"name\": \"North Carolina\",\n\t        \"abbreviation\": \"NC\"\n\t    },\n\t    {\n\t        \"name\": \"North Dakota\",\n\t        \"abbreviation\": \"ND\"\n\t    },\n\t    {\n\t        \"name\": \"Northern Mariana Islands\",\n\t        \"abbreviation\": \"MP\"\n\t    },\n\t    {\n\t        \"name\": \"Ohio\",\n\t        \"abbreviation\": \"OH\"\n\t    },\n\t    {\n\t        \"name\": \"Oklahoma\",\n\t        \"abbreviation\": \"OK\"\n\t    },\n\t    {\n\t        \"name\": \"Oregon\",\n\t        \"abbreviation\": \"OR\"\n\t    },\n\t    {\n\t        \"name\": \"Palau\",\n\t        \"abbreviation\": \"PW\"\n\t    },\n\t    {\n\t        \"name\": \"Pennsylvania\",\n\t        \"abbreviation\": \"PA\"\n\t    },\n\t    {\n\t        \"name\": \"Puerto Rico\",\n\t        \"abbreviation\": \"PR\"\n\t    },\n\t    {\n\t        \"name\": \"Rhode Island\",\n\t        \"abbreviation\": \"RI\"\n\t    },\n\t    {\n\t        \"name\": \"South Carolina\",\n\t        \"abbreviation\": \"SC\"\n\t    },\n\t    {\n\t        \"name\": \"South Dakota\",\n\t        \"abbreviation\": \"SD\"\n\t    },\n\t    {\n\t        \"name\": \"Tennessee\",\n\t        \"abbreviation\": \"TN\"\n\t    },\n\t    {\n\t        \"name\": \"Texas\",\n\t        \"abbreviation\": \"TX\"\n\t    },\n\t    {\n\t        \"name\": \"Utah\",\n\t        \"abbreviation\": \"UT\"\n\t    },\n\t    {\n\t        \"name\": \"Vermont\",\n\t        \"abbreviation\": \"VT\"\n\t    },\n\t    {\n\t        \"name\": \"Virgin Islands\",\n\t        \"abbreviation\": \"VI\"\n\t    },\n\t    {\n\t        \"name\": \"Virginia\",\n\t        \"abbreviation\": \"VA\"\n\t    },\n\t    {\n\t        \"name\": \"Washington\",\n\t        \"abbreviation\": \"WA\"\n\t    },\n\t    {\n\t        \"name\": \"West Virginia\",\n\t        \"abbreviation\": \"WV\"\n\t    },\n\t    {\n\t        \"name\": \"Wisconsin\",\n\t        \"abbreviation\": \"WI\"\n\t    },\n\t    {\n\t        \"name\": \"Wyoming\",\n\t        \"abbreviation\": \"WY\"\n\t    }\n\t\t];\n  }]);\n\n'use strict';\n\nangular.module('inspinia')\n    .controller('FitMatchController', ['$location', '$filter','$scope', 'SweetAlert', 'user', 'api', '$stateParams', function ($location, $filter, $scope, SweetAlert, user, api, $stateParams) {\n\n      var vm = this;\n      vm.data = api.getData();\n      vm.user = user.get();\n\n      function serializeFilters(obj){\n        var result = [];\n        for (var property in obj)\n          if(!obj[property] || obj[property]==\"All\" || obj[property]==null || obj[property] ==\"\") continue;\n          else result.push(encodeURIComponent(property) + \"=\" + encodeURIComponent(obj[property]));\n        return result.join(\"&\");\n      }\n      \n      vm.filterOrders = function(){\n        var filters = angular.copy(vm.filters);\n        var range = filters.dateRange;\n        delete filters.dateRange;\n        filters.startDate = range.startDate;\n        filters.endDate = range.endDate;\n      }\n\n\n\n      //Delete Orders\n\n      var deleteFitMatchBox = {\n        title: \"Are you sure?\",\n        text: \"This Fit Match Request will be deleted forever!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#DD6B55\",\n        confirmButtonText: \"Delete\",\n        cancelButtonText: \"Cancel\",\n        closeOnConfirm: false,\n        closeOnCancel: true\n      };\n\n      vm.deleteFM = function(fmId){\n        SweetAlert.swal(deleteFitMatchBox,\n            function (isConfirm) {\n              if (isConfirm) {\n                api.call('fitmatchDelete', fmId, function(result){\n                  vm.fmRemove(fmId);\n                  SweetAlert.swal(\"Deleted!\", \"Fit Match Request #\"+fmId+\" has been deleted.\", \"success\");\n                });\n              }\n            }\n        );\n      };\n\n      vm.fmRemove = function(fmId){\n        for(var i=0; i<vm.fitmatchreqs.length; i++){\n          if (vm.fitmatchreqs[i].id === fmId){\n            vm.fitmatchreqs.splice(i, 1);\n            return;\n          }\n        }\n      };\n\n\n\n      //Get requests\n      vm.pagination = {\n        itemsPerPage:20,\n        prev:false,\n        next:false,\n        nextURL:\"\",\n        page:1,\n        loaded:0\n      };\n      vm.pagination.startIndex = (vm.pagination.page-1)*vm.pagination.itemsPerPage;\n\n      vm.findIndex = function(fmId){\n        for(var i = 0; i < vm.fitmatchreqs.length; i++) {\n          if(vm.fitmatchreqs[i].fmId === fmId) return i;\n        }\n        return -1;\n      }\n\n      function incrementPage(inc){\n        vm.pagination.page = vm.pagination.page+inc;\n        vm.pagination.startIndex = (vm.pagination.page-1)*vm.pagination.itemsPerPage;\n        if (inc > 0) vm.pagination.prev=true;\n        else vm.pagination.next=true;\n      }\n\n\n      vm.pagination.changePage = function(dir){\n\n        if (vm.pagination.page === 1 && dir===\"prev\") return false;\n        if (vm.pagination.page === 2 && dir===\"prev\") vm.pagination.prev=false;\n\n        //put in rules for the last page\n\n        if (dir===\"next\"){\n          if (vm.pagination.page < vm.pagination.loaded) incrementPage(1);\n          else{\n            pullOrders(function(){\n              incrementPage(1);\n            })\n          }\n        }else{\n          incrementPage(-1);\n        }\n      }\n\n\n      function pullFitMatchRequests(filters, callback){\n\n        api.call('fitmatchList', filters, function(result){\n         // return false;\n          if (vm.pagination.total == 0 ) vm.pagination.total = Math.ceil(parseInt(result.total)/vm.filters.results_per_page);\n          vm.pagination.current = parseInt(result.page);\n          vm.fitmatchreqs.push.apply(vm.fitmatchreqs, result.results);\n          vm.pagination.loaded++;\n          if (callback) callback();\n        });\n\n      }\n\n      //Init users\n      vm.fitmatchreqs = [];\n  \n      vm.defaultFilters = {\n        \"results_per_page\" : 25,\n        \"page\": 1,\n        \"orderby\":\"created_at\",\n        \"order\":\"DESC\",\n        \"fm_status\" :\"All\"\n      };\n  \n      vm.filters = angular.copy(vm.defaultFilters);\n      queryToFilters();\n  \n      if(Object.keys($location.search()).length){\n        pullFitMatchRequests(vm.filters);\n      }else{\n        $location.search(vm.filters);\n      }\n  \n      //if($stateParams.user_id) vm.filters.user_id=$stateParams.user_id;\n      function queryToFilters() {\n        var queryFilters = $location.search();\n        //Add filters to vm.filters from url\n        for (var filter in queryFilters) {\n          if (queryFilters.hasOwnProperty(filter)) {\n            var value = queryFilters[filter];\n            value = !isNaN(value) ?  parseInt(value) : value;\n            vm.filters[filter] = value;\n          }\n        }\n        //Clean up removed filters\n    \n        for (var filter in vm.filters) {\n          if (vm.filters.hasOwnProperty(filter)) {\n            if(!queryFilters[filter]){\n          \n              if(vm.defaultFilters[filter]) vm.filters[filter] = angular.copy(vm.defaultFilters[filter]);\n              else delete vm.filters[filter];\n            }\n        \n          }\n        }\n      }\n  \n  \n      $scope.$on('$locationChangeSuccess', function(a,oldUrl, newUrl) {\n        queryToFilters();\n        vm.fitmatchreqs = [];\n        pullFitMatchRequests(vm.filters);\n      });\n      \n\n      $scope.$watch(angular.bind(this, function () {\n        return this.filters.id;\n      }), function (newVal) {\n        if (newVal ==\"\") delete vm.filters.id;\n        if (!newVal) return false;\n        vm.filters.id=Array.isArray(newVal) ? newVal : newVal.split(',');\n      });\n\n      //Date range filter setter\n      vm.dateRange = {startDate: null, endDate: null}\n      $scope.$watch(angular.bind(this, function () {\n        return this.dateRange;\n      }), function (newVal) {\n        if (newVal.startDate ===null) delete vm.filters.start_date;\n        else vm.filters.start_date = new Date(newVal.startDate);\n        if (newVal.endDate ===null) delete vm.filters.end_date;\n        else vm.filters.end_date = new Date(newVal.endDate);\n      });\n\n      vm.changeSort = function(col, asc){\n        var direction = asc ? \"ASC\" : \"DESC\";\n        vm.filters.orderby=col;\n        vm.filters.order = direction;\n        vm.newQuery();\n      }\n\n      vm.newQuery = function(){\n        vm.pagination.total = 0;\n        vm.fitmatchreqs = [];\n        vm.filters.page=1;\n        for (var i=0; i<vm.filters.length; i++){\n          if (vm.filters[i] == \"\") delete vm.filters[i];\n        }\n        $location.search(vm.filters);\n        //pullFitMatchRequests(vm.filters);\n      }\n      \n\n      vm.formatDate = function(date){\n        var date = new Date(date);\n        return $filter('date')(date, \"MM/dd/yyyy\");\n      }\n\n      vm.changePage = function(page){\n        vm.filters.page=parseInt(page);\n        vm.fitmatchreqs=[];\n        $location.search(vm.filters);\n        //pullFitMatchRequests(vm.filters);\n      }\n\n\n\n\n\n\n    }]);\n\n'use strict';\n\nangular.module('inspinia')\n  .controller('FitMatchEditController', ['$timeout', '$filter', '$q', '$scope', 'fmData', 'toaster', '$uibModal','api', 'user', '$state', 'SweetAlert',\n    function ($timeout, $filter, $q, $scope, fmData, toaster, $uibModal, api, user, $state, SweetAlert) {\n\n      var vm = this;\n      vm.user = user.get();\n      vm.data = api.getData();\n\n      $scope.f = {};\n\n\n      var newFMData = {\n        requested_fabric_ids:[],\n        shipped_date:null,\n        form_received_date:null\n      };\n      vm.newFM = fmData===null;\n      vm.fmData = vm.newFM ? newFMData : fmData;\n      vm.EditMode= !!vm.newFM;\n\n      if(!vm.newFM) vm.fmData.requested_fabric_ids = JSON.parse(vm.fmData.requested_fabric_ids);\n\n      vm.pullingCards = false;\n      if(vm.fmData.credit_card_id && vm.fmData.user.square_id){\n        vm.pullingCards = true;\n        api.call('usersGetUserCreditCards', vm.fmData.user.id, function (cards) {\n          vm.pullingCards = false;\n          vm.fmData.user.cards = cards;\n          for(var i=0; i < cards.length; i++){\n            if (cards[i].id == vm.fmData.credit_card_id){\n              vm.fmData.primary_card = cards[i];\n              break;\n            }\n          }\n        });\n      }\n\n      vm.beginEdit = function(){\n        vm.EditMode = true;\n        vm.BeforeEdit = angular.copy(vm.fmData);\n      };\n\n      vm.clearEdit = function(){\n        vm.EditMode = false;\n        vm.fmData = angular.copy(vm.BeforeEdit);\n      };\n\n      vm.removeFabric = function(index){\n        vm.fmData.requested_fabric_ids.splice(index, 1);\n      };\n\n      vm.fabricNotChosen = function(){\n        return function( item ) {\n          return vm.fmData.requested_fabric_ids.indexOf(\"\"+item.id) < 0;\n        };\n      };\n\n\n\n      /*\n      |--------------------------------------------------------------------------\n      | User Choice\n      |--------------------------------------------------------------------------\n      */\n\n      vm.editUser = function(){\n        var modalInstance = $uibModal.open({\n          templateUrl: 'app/components/user-choice/userChoice.html',\n          controller: 'UserChoiceController',\n          resolve: {\n            choose : function(){\n              return vm.chooseClient;\n            },\n            orderUser : function() {\n              return vm.fmData.user;\n            },\n            api : function() {\n              return api;\n            }\n          }\n        });\n      };\n\n      vm.chooseClient = function(client){\n        api.call('userGet', client.id, function(result){\n          vm.fmData.user = result;\n          vm.fmData.user_id = result.id;\n          var primary = getPrimaryAddress(result.addresses);\n          if (primary){\n            vm.fmData.address = primary;\n            vm.fmData.shipping_address_id=primary.id;\n          }else{\n            vm.fmData.address = null;\n            vm.fmData.shipping_address_id=null;\n          }\n        });\n      };\n  \n  \n      $scope.$watch(angular.bind(this, function () {\n        return this.fmData.user;\n      }), function (newVal, oldVal) {\n        if(!vm.newFM) return false;\n        if(newVal && !oldVal || newVal.id && newVal.id !== oldVal.id){\n          vm.fmData.shipping_phone = newVal.phone;\n        }\n      });\n      \n      function getPrimaryAddress(addresses){\n        if(!addresses || !addresses.length) return false;\n        for (var i=0; i<addresses.length; i++) {\n          if (addresses[i].primary == true) return addresses[i];\n        }\n        return addresses[0];\n      }\n\n\n\n      /*\n      |--------------------------------------------------------------------------\n      | Address Choice\n      |--------------------------------------------------------------------------\n      */\n\n      vm.editAddress = function (type, icon) {\n        var modalInstance = $uibModal.open({\n          templateUrl: 'app/components/address-choice/address.html',\n          controller: 'AddressController',\n          resolve: {\n            data: {\n              addressType : type,\n              icon : icon,\n              selected:vm.fmData.shipping_address_id\n            },\n            save : function(){\n              return vm.saveAddress;\n            },\n            address: function () {\n              return vm.fmData.user.addresses;\n            }\n          }\n        });\n      };\n\n\n      vm.saveAddress = function(add, callback){\n        if (add === parseInt(add, 10)){\n          vm.fmData.shipping_address_id = add;\n          for (var i=0; i<vm.fmData.user.user.addresses.length; i++){\n            var thisAdd = vm.fmData.user.addresses[i];\n            if (thisAdd.id == add) vm.fmData.address=thisAdd;\n          }\n          if(callback)callback();\n        }\n        else{\n          var data = {userId:vm.fmData.user.id, address:add};\n          api.call('postAddress', data, function(result){\n            vm.fmData.address = result;\n            vm.fmData.user.addresses.push(result);\n            vm.fmData.shipping_address_id = result.id;\n            if(callback)callback();\n          });\n        }\n      };\n\n\n\n\n\n      /*\n      |--------------------------------------------------------------------------\n      | CC Modal\n      |--------------------------------------------------------------------------\n      */\n\n\n      vm.captureCC = function(){\n\n        var modalInstance = $uibModal.open({\n          templateUrl: 'app/components/key-in-cc/keyInModal.html',\n          controller: 'KeyInController',\n          resolve: {\n            orderData : function() {\n              var data = {\n                \"user\":vm.fmData.user,\n                \"fitmatch\":vm.fmData,\n                \"amount\":50\n              };\n              if (vm.fmData.credit_card_id) data.selectedCard = vm.fmData.credit_card_id;\n              return data;\n\n            },\n            api : function(){\n              return api;\n            },\n            confirmation : function(){\n              return function(swalSettings){\n                SweetAlert.swal(swalSettings);\n              };\n            }\n          }\n        });\n      };\n\n\n\n\n      /*\n      |--------------------------------------------------------------------------\n      | Save / Create\n      |--------------------------------------------------------------------------\n      */\n\n      var deleteOrderBox = {\n        title: \"Are you sure?\",\n        text: \"This Fit Match Request will be deleted forever and you will be redirected to the Fit Match list!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#DD6B55\",\n        confirmButtonText: \"Delete\",\n        cancelButtonText: \"Cancel\",\n        closeOnConfirm: true,\n        closeOnCancel: true\n      };\n\n      vm.deleteFM = function(){\n        SweetAlert.swal(deleteOrderBox,\n          function (isConfirm) {\n            if (isConfirm) {\n              api.call('fitmatchDelete', vm.fmData.id, function(result){\n                $state.transitionTo('fitmatch.list');\n              });\n            }\n          }\n        );\n      };\n\n      vm.orderFM = function(){\n        $state.transitionTo('orders.add', {fitMatchId:vm.fmData.id});\n      };\n\n      //Save...\n      vm.saveFM = function(callback){\n\n        if (!$scope.f.fmForm.$valid){\n          $scope.f.fmForm.submitted = true;\n          return false;\n        }\n\n        if(vm.fmData.user===null){\n          console.log(\"We don't have a user yet!\");\n          return false;\n        }\n\n        var savingToast = toaster.pop({\n          type: 'wait',\n          title: \"Saving...\",\n          timeout: 9000000\n        });\n\n        var saveData = angular.copy(vm.fmData);\n        saveData.requested_fabric_ids=JSON.stringify(saveData.requested_fabric_ids);\n\n        api.call('fitmatchPost', saveData, function(result){\n          toaster.clear(savingToast);\n          toaster.success('Saved Fit Match Request!');\n          $state.transitionTo('fitmatch.edit', {fmId:result.id});\n          if (callback)callback();\n        }, function(err){\n          toaster.clear(savingToast);\n          toaster.pop({\n            type: 'error',\n            title: \"Problem saving Fit Match Request..\",\n            timeout: 2000\n          });\n        });\n\n      };//.saveOrder()...\n\n      vm.formatDate = function(date){\n        var fdate = new Date(date);\n        return $filter('date')(fdate, \"MM/dd/yyyy h:s a\");\n      };\n\n      $scope.$watch(angular.bind(this, function () {\n        return this.fmData.shipped_date;\n      }), function (newVal) {\n        if (newVal && newVal._d){\n          var d = newVal._d.toISOString().slice(0,10);\n          vm.fmData.shipped_date = d;\n        }\n      });\n\n      $scope.$watch(angular.bind(this, function () {\n        return this.fmData.form_received_date;\n      }), function (newVal) {\n        if (newVal && newVal._d){\n          var d = newVal._d.toISOString().slice(0,10);\n          vm.fmData.form_received_date = d;\n        }\n      });\n\n      console.log(vm.data.fabrics);\n      vm.fabric_list_item_name = function(fabric_id){\n        var name = vm.data.lookup(\"fabrics\", \"id\", fabric_id, \"name\");\n        var id = vm.data.lookup(\"fabrics\", \"id\", fabric_id, \"display_id\");\n        var ret = \"\";\n        if(vm.data.lookup(\"fabrics\", \"id\", fabric_id, \"deleted_at\"))\n          ret+=\"(deleted) \";\n        ret+=name;\n        if (id) ret+=\" - \"+id;\n        return ret;\n      }\n\n  }]);\n\n(function () {\n\n  angular\n    .module('inspinia')\n    .directive('pagination', [function() {\n    \t\n\t\t\treturn {\n\t      restrict: 'EA',\n\t\t\t\ttemplateUrl: '/app/directives/pagination.template.html',\n\t\t\t\treplace:false,\n\t      scope : {\n\t\t      total : '=',\n\t\t      current: '=',\n\t\t      change: '='\n\t      },\n\t      link:function($scope){\n\t\t      \n\t\t      function addToPages(array, page){\n\t\t\t      if (page > $scope.total) return false;\n\t\t\t      if (array.length>4) return false;\n\t\t\t      if (page <= 0) return false;\n\t\t\t      if (!array.indexOf(page) > -1) array.push(page);\n\t\t\t    }\n\t\t\t    \n\t\t\t    $scope.endElipsTest = function(){\n\t\t\t\t    console.log('end el');\n\t\t\t\t    console.log($scope.current == $scope.total-3);\n\t\t\t\t    return !$scope.current == $scope.total-3;\n\t\t\t    }\n\n\t\t      $scope.getPages = function(){\n\t\t\t      if ($scope.total <= 1) return false;\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tvar pages = [];\n\t\t\t\t\t\t\tvar index = -2\n\t\t\t\t\t\t\tif ($scope.current == $scope.total-1) index = -3\n\t\t\t\t\t\t\tif ($scope.current == $scope.total) index = -4\n\t\t\t\t\t\t\tfor (i = index; i<=6; i++){ addToPages(pages,$scope.current + i); }\n\t\t\t\t\t\t\treturn pages;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t      }\n\t   };\n    \n    \n  }]);\n\n})();\n(function () {\n\n  angular\n    .module('inspinia')\n    .directive('sorter', [function() {\n    \t\n\t\t\treturn {\n\t    \t\n\t      restrict: 'EA',\n\t\t\t\ttemplate: '<span class=\"sorter\"><i ng-click=\"change(column, true)\" ng-class=\"{\\'active\\': orderby==column&&order==\\'ASC\\'}\" class=\"fa fa-angle-up\"></i><i ng-click=\"change(column, false)\" class=\"fa fa-angle-down\" ng-class=\"{\\'active\\': orderby==column&&order==\\'DESC\\'}\"></i></span>',\n\t\t\t\treplace:true,\n\t      scope : {\n\t\t      orderby : '=',\n\t\t      order: '=',\n\t        change : '=',\n\t        column: '='\n\t      }\n\t   };\n    \n    \n  }]);\n\n})();\n'use strict';\n\nangular.module('inspinia')\n  .controller('LoginController', ['$scope', '$state', 'user', function ($scope, $state, user) {\n\n    var logvm = this;\n    \n\t\tlogvm.msg = {\n\t\t\ttype: \"alert-danger\",\n\t\t\tmessage : \"\",\n\t\t\treset : function(){\n\t\t\t\tthis.message=\"\";\n\t\t\t},\n\t\t\tset: function(msg, type){\n\t\t\t\tthis.message = msg;\n\t\t\t\tthis.type = type\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n    logvm.email=\"\";\n    logvm.password=\"\";\n\n\n    logvm.signupForm = function(form) {\n\n\t    if (form.$valid) {\n\t\t\t\t\n\t\t\t\tlogvm.msg.reset();\n\t      user.login(logvm.email,logvm.password, function(result){\n\t\t\t\t\t\t$state.go('orders.list');\n\t\t\t\t\t},\n\t\t\t\t\tfunction(err){\n\t\t\t\t\t\tif (err.message == \"Incorrect username or password.\") err.message = \"Incorrect Email address or password.\"\n\t\t\t\t\t\tlogvm.msg.set(err.message,\"alert-danger\");\n\t\t\t\t\t},\n\t\t\t\ttrue );\n\n      } else {\n        form.submitted = true;\n      }\n\n    }\n\n  }]);\n\n'use strict';\n\nangular.module('inspinia')\n  .controller('MainController', ['$state', 'user', function ($state, user) {\n\n    var vm = this;\n    vm.state = $state;\n    vm.user = user.get();\n    vm.isLoggedIn = user.isLoggedIn(true);\n    vm.logout = function(){\n\t    user.logout();\n\t    $state.transitionTo('login');\n    }\n\n  }]);\n\n'use strict';\n\nangular.module('inspinia')\n  .controller('OrdersController', ['$location', '$filter','$scope', 'SweetAlert', 'user', 'api', '$stateParams', function ($location, $filter, $scope, SweetAlert, user, api, $stateParams) {\n\n    var vm = this;\n    vm.data = api.getData();\n    vm.user = user.get(true);\n    \n    function serializeFilters(obj){\n\t    var result = [];\n\t\t\tfor (var property in obj)\n\t\t\t\tif(!obj[property] || obj[property]==\"All\" || obj[property]==null || obj[property] ==\"\") continue;\n        else result.push(encodeURIComponent(property) + \"=\" + encodeURIComponent(obj[property]));\n\t\t\treturn result.join(\"&\");\n    }\n\n    vm.filterOrders = function(){\n\t    var filters = angular.copy(vm.filters);\n\t    var range = filters.dateRange;\n\t    delete filters.dateRange;\n\t    filters.startDate = range.startDate;\n\t    filters.endDate = range.endDate;\n    };\n\n    \n    //Delete Orders\n    \n    var deleteOrderBox = {\n      title: \"Are you sure?\",\n      text: \"This order will be deleted forever!\",\n      type: \"warning\",\n      showCancelButton: true,\n\t\t\tconfirmButtonColor: \"#DD6B55\",\n      confirmButtonText: \"Delete\",\n      cancelButtonText: \"Cancel\",\n      closeOnConfirm: false,\n      closeOnCancel: true \n    };\n    \n\t\tvm.deleteOrder = function(orderId){\n\t\t\tSweetAlert.swal(deleteOrderBox,\n\t\t    function (isConfirm) {\n\t        if (isConfirm) {\n\t\t\t\t\t\tapi.call('ordersDelete', orderId, function(result){\n\t\t\t\t\t\t\tvm.ordersRemove(orderId);\n\t          \tSweetAlert.swal(\"Deleted!\", \"Order# \"+orderId+\" has been deleted.\", \"success\");\n\t          });\n\t        }\n\t\t    }\n\t\t  );\n\t\t};\n\t\t\n\t\tvm.ordersRemove = function(orderId){\n\t\t\tfor(var i=0; i<vm.orders.length; i++){\n\t\t\t\tif (vm.orders[i].id == orderId){\n\t\t\t\t\tvm.orders.splice(i, 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n \n \n\t\n\t\t//Get orders\n\t\tvm.pagination = {\n\t\t\tordersPerPage:20,\n\t\t\tprev:false,\n\t\t\tnext:false,\n\t\t\tnextURL:\"\",\n\t\t\tpage:1,\n\t\t\tloaded:0\n\t\t};\n\t\tvm.pagination.startIndex = (vm.pagination.page-1)*vm.pagination.ordersPerPage;\n\t\t\n\t\tvm.findIndex = function(orderId){\n\t    for(var i = 0; i < vm.orders.length; i++) {\n\t      if(vm.orders[i].orderId === orderId) return i;\n\t    }\n\t    return -1;\n\t\t};\n\t\t\n\t\tfunction incrementPage(inc){\n\t\t\tvm.pagination.page = vm.pagination.page+inc;\n\t\t\tvm.pagination.startIndex = (vm.pagination.page-1)*vm.pagination.ordersPerPage;\n\t\t\tif (inc > 0) vm.pagination.prev=true;\n\t\t\telse vm.pagination.next=true;\n\t\t}\n\t\t\n\t\t\n\t\tvm.pagination.changePage = function(dir){\n\t\t\t\n\t\t\tif (vm.pagination.page == 1 && dir==\"prev\") return false;\n\t\t\tif (vm.pagination.page == 2 && dir==\"prev\") vm.pagination.prev=false;\n\t\t\t\n\t\t\t//put in rules for the last page\n\t\t\t\n\t\t\tif (dir ==\"next\"){\n\t\t\t\tif (vm.pagination.page < vm.pagination.loaded) incrementPage(1);\n\t\t\t\telse{\n\t\t\t\t\tpullOrders(function(){\n\t\t\t\t\t\tincrementPage(1);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tincrementPage(-1);\t\t\t\t\n\t\t\t}\t\n\t\t};\n\t\t\n\t\t\n\t\t\n\t\tfunction pullOrders(filters, callback){\n\t\t\tconsole.log(\"pulling...\");\n\t\t\tconsole.log(filters);\n\t\t\tapi.call('ordersList', filters, function(result){\n\t\t\t\tif (vm.pagination.total == 0 ) vm.pagination.total = Math.ceil(parseInt(result.total)/vm.filters.results_per_page);\n\t\t\t\tconsole.log(\"test....\");\n\t\t\t\tconsole.log(result);\n\t\t\t\t\n\t\t\t\tvm.pagination.current = parseInt(result.page);\n\t\t\t\tvm.orders.push.apply(vm.orders, result.results);\n\t\t\t\tvm.pagination.loaded++;\n\t\t\t\tvm.filters.page = result.page;\n\t\t\t\t$location.search(vm.filters);\n\t\t\t\tif (callback) callback();\n\t\t\t});\n\t\t}\n\t\t\n\t\t//Init users\n\t\tvm.orders = [];\n\t\tvm.defaultFilters = {\n\t\t\t\"results_per_page\" : 25,\n\t\t\t\"page\": 1, \n\t\t\t\"orderby\":\"created_at\",\n\t\t\t\"order\":\"DESC\",\n\t\t};\n\t\t\n\t\tvm.filters = angular.copy(vm.defaultFilters);\n    queryToFilters();\n    \n    if(Object.keys($location.search()).length){\n      pullOrders(vm.filters);\n\t\t}else{\n      $location.search(vm.filters);\n\t\t}\n    \n\t\t//if($stateParams.user_id) vm.filters.user_id=$stateParams.user_id;\n\t\tfunction queryToFilters() {\n      var queryFilters = $location.search();\n\t\t\t//Add filters to vm.filters from url\n      for (var filter in queryFilters) {\n        if (queryFilters.hasOwnProperty(filter)) {\n        \tvar value = queryFilters[filter];\n          value = !isNaN(value) ?  parseInt(value) : value;\n          vm.filters[filter] = value;\n        }\n      }\n      //Clean up removed filters\n\t\t\t\n      for (var filter in vm.filters) {\n        if (vm.filters.hasOwnProperty(filter)) {\n        \tif(!queryFilters[filter]){\n        \t\t\n        \t\tif(vm.defaultFilters[filter]) vm.filters[filter] = angular.copy(vm.defaultFilters[filter]);\n        \t\telse delete vm.filters[filter];\n\t\t\t\t\t}\n        \n        }\n      }\n    }\n    \n\t\t\n\n  \n    $scope.$on('$locationChangeSuccess', function(a,oldUrl, newUrl) {\n    \tconsole.log(\"CHANGE SUCC\");\n    \tconsole.log(oldUrl, newUrl);\n\t\t\tqueryToFilters();\n    \tvm.orders = [];\n      pullOrders(vm.filters);\n    });\n    \n    $scope.$watch(angular.bind(this, function () {\n\t\t  return this.filters.id;\n\t\t}), function (newVal) {\n\t\t\tif (newVal ==\"\") delete vm.filters.id;\n\t\t\tif (!newVal) return false;\t\n\t\t\tvar arr = Array.isArray(newVal) ? newVal : newVal.split(',');\n\t\t\tvm.filters.id=arr;\n\t\t});\n\t\t\n\t\t\n\t\t//Date range filter setter\n\t\tvm.dateRange = {startDate: null, endDate: null}\n\t\t$scope.$watch(angular.bind(this, function () {\n\t\t  return this.dateRange;\n\t\t}), function (newVal) {\n\t\t\tif (newVal.startDate ==null) delete vm.filters.start_date;\n\t\t\telse vm.filters.start_date = new Date(newVal.startDate);\n\t\t\tif (newVal.endDate ==null) delete vm.filters.end_date;\n\t\t\telse vm.filters.end_date = new Date(newVal.endDate);\n\t\t});    \t\n\t\t\n\t\tvm.changeSort = function(col, asc){\n\t    var direction = asc ? \"ASC\" : \"DESC\";\n\t    vm.filters.orderby=col;\n\t    vm.filters.order = direction;\n\t\t\tvm.newQuery();\n    };\n        \n    vm.newQuery = function(){\n\t    vm.pagination.total = 0;\n\t    vm.orders = [];\n\t    vm.filters.page=1;\n\t    for (var i=0; i<vm.filters.length; i++){\n\t\t    if (vm.filters[i] == \"\") delete vm.filters[i];\n\t    }\n\t    $location.search(vm.filters);\n\t    //pullOrders(vm.filters);\n    };\n  \n    \n\t\t\t\t\t\n\t\tvm.formatDate = function(date){\n\t\t\treturn $filter('date')(new Date(date), \"MM/dd/yyyy\");\n\t\t};\n\n\t\tvm.changePage = function(page){\n\t\t\tvm.filters.page=parseInt(page);\n\t\t\tvm.orders=[];\n\t\t\t$location.search(vm.filters);\n\t\t};\n\t\t\n\t\tvm.pagination = {\n\t\t\ttotal:0,\n\t\t\tcurrent:0\n\t\t};\n\n\t\t\n\t\t\t\n\n  }]);\n\n//\n'use strict';\n\nangular.module('inspinia')\n    .controller('OrdersCallbackController', ['$state', '$location','api',\n      function ($state, $location, api) {\n        var data = JSON.parse($location.search().data);\n        if (!data){\n          $state.transitionTo('orders.list');\n        }\n        api.call(\"swipeCallback\", data, function(result){\n          $state.transitionTo('orders.edit', {orderId:result.id});\n        });\n      }]);\n\n'use strict';\n\nangular.module('inspinia')\n  .controller('OrdersEditController', ['$timeout', '$filter', '$q', '$scope', 'orderData', 'toaster', '$uibModal','api', 'user', '$state', 'SweetAlert',\n  function ($timeout, $filter, $q, $scope, orderData, toaster, $uibModal, api, user, $state, SweetAlert) {\n\n    var vm = this;\n\t\tvm.user = user.get(true);\n\t\t$scope.f = {};\n\n\t\t//Determine whether or not this is a new order\n    vm.newOrder = orderData===null || orderData.hasOwnProperty('requested_fabric_ids');\n\n\t\t//Base object for new orders\n\t\tvar newOrderData = {\n\t\t\torder_status_id: 5,\n\t\t\tpayment_status_id: 1,\n\t\t\torder_type_id:null,\n\t\t\torder_items:[{\n\t\t\t\tgender_option_id:1,\n\t\t\t\tstyle_option_id:1,\n\t\t\t\ttop_thread_id:1,\n\t\t\t\taccent_thread_id:1,\n\t\t\t\tbottom_thread_id:1,\n\t\t\t\tfabric_id:1000,\n        payment_status_id:1,\n\t\t\t\tjean_name:\"My New Jeans\"\n\t\t\t}]\n\t\t};\n\t\n\t\t\n\t\t\n\t\t//Add extra data for fit match orders\n\t\tif (orderData && orderData.hasOwnProperty('requested_fabric_ids')){\n\t\t\tnewOrderData.order_type_id = 3;\n      newOrderData.order_items[0].jean_name = \"My New Fit Match Jeans\";\n      newOrderData.shipping_name = orderData.user.first_name+\" \"+orderData.user.last_name;\n      newOrderData.fit_match_id = orderData.id;\n      newOrderData.shipping_address_id = orderData.shipping_address_id;\n      newOrderData.shipping_phone=orderData.shipping_phone;\n      newOrderData.address = orderData.address;\n      newOrderData.comment = \"Order created from Fit Match #\"+$state.params.fitMatchId;\n\t\t}\n\n\t\t//Build Order data\n\t\tvm.order = vm.newOrder ? newOrderData : orderData;\n\t\tvm.originalJean = vm.newOrder ? null : angular.copy(vm.order.order_items[0]);\n    vm.orderUser = orderData && orderData.user ? orderData.user : null;\n\t\tif (!vm.newOrder) {\n      vm.order.fit_date = vm.order.fit_date ? vm.order.fit_date : null;\n      vm.order.dob = vm.order.dob ? vm.order.dob : null;\n      vm.order.dueDate = vm.order.dueDate ? vm.order.dueDate : null;\n    }\n\n    vm.convertToCurrency = function(){\n\t    var price = vm.order.price.replace(\"$\",\"\");\n\t    var price = $filter('currency')(price, \"\");\n\t    if(!price) price = \"Please enter a valid price\";\n\t\t\tvm.order.price = price\n  \t};\n    \n\t\t//Set up app data...\n\t\tvm.data={};\n    $scope.$watch(angular.bind(this, function () {\n      return this.data;\n    }), function (newVal) {\n    \tconsole.log(\"DATA CHANGED!!!\");\n    \tconsole.log(newVal);\n\t\t\tbuildTimeline();\n    });\n    vm.data = api.getData();\n\n\n\t\t//Edit Jean details...\n\t\tvm.EditMode= vm.newOrder ? true : false;\n\t\tvm.beginJeanEdit = function(){\n\t\t\tvm.EditMode = true;\n\t\t\tvm.BeforeEdit = angular.copy(vm.order.order_items[0]);\n\t\t};\n\t\tvm.clearJeanEdit = function(){\n\t\t\tvm.EditMode = false;\n\t\t\tvm.order.order_items[0] = angular.copy(vm.BeforeEdit);\n\t\t};\n\n\t\t/*\n\t\tvm.billingSameAsShipping = function(){\n\t\t\tif (!vm.order.billingAddress || Object.keys(vm.order.billingAddress)<1) vm.order.billingAddress = vm.order.shippingAddress;\n\t\t\treturn angular.equals(vm.order.billingAddress, vm.order.shippingAddress);\n\t\t}\n\t\t*/\n\t\t\n\t\tvm.formatDate = function(date){\n\t\t\treturn $filter('date')(new Date(date+\" UTC\"), \"MM/dd/yyyy h:m a\");\n\t\t};\n\t\t\n\t\t$scope.$watch(angular.bind(this, function () {\n\t\t  return this.order.fit_date;\n\t\t}), function (newVal) {\n\t\t\tif (newVal && newVal._d){\n        vm.order.fit_date = newVal._d.toISOString().slice(0,10);\n\t\t\t}\n\t\t});\n\t\t\n\t\t$scope.$watch(angular.bind(this, function () {\n\t\t  return this.order.due_date;\n\t\t}), function (newVal) {\n\t\t\tif (newVal && newVal._d){\n\t\t\t\tvar d = newVal._d.toISOString().slice(0,10);\n\t\t\t\tvm.order.due_date = d;\n\t\t\t}\n\t\t});\n\t\t\n\t\t$scope.$watch(angular.bind(this, function () {\n\t\t  return this.order.dob;\n\t\t}), function (newVal) {\n\t\t\tif (newVal && newVal._d){\n\t\t\t\tvar d = newVal._d.toISOString().slice(0,10);\n\t\t\t\tvm.order.dob = d;\n\t\t\t}\n\t\t});\n  \n    $scope.$watch(angular.bind(this, function () {\n      return this.orderUser;\n    }), function (newVal, oldVal) {\n     \tif(!vm.newOrder) return false;\n      if(newVal && !oldVal || newVal.id && newVal.id !== oldVal.id){\n         vm.order.shipping_phone = newVal.phone;\n\t\t\t}\n    });\n\t\t\n\t\t\n\t\t/*\t\t\t\t\t\t\t\t\t\t    \t\t\t\t*\\\n\t\t*\t\t\t\t\t\t\t\t\t    \t\t\t\t\t\t*\n\t\t*\t\t\t\t    \t\t\t\t\t\t\t\t\t\t\t*\n\t\t* * * * *  Address Modal \t* * * * * \n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t    \t\t\t*\t\n\t\t\\*\t  \t\t\t\t\t\t\t\t    \t\t\t\t*/\n\t\n\t  vm.editAddress = function (type, icon) {\n\t    var modalInstance = $uibModal.open({\n\t      templateUrl: 'app/components/address-choice/address.html',\n\t      controller: 'AddressController',\n\t      resolve: {\n\t        data: {\n\t\t        addressType : type,\n\t\t        icon : icon,\n\t\t        selected:vm.order.shipping_address_id\n\t\t      },\n\t        save : function(){\n\t\t        return vm.saveAddress;\n\t        },\n\t        address: function () {\n\t          return vm.orderUser.addresses;\n\t        }\n\t      }\n\t  \t});\n\t  };\n  \n  \n\t  vm.saveAddress = function(add, callback){\n\t    if (add === parseInt(add, 10)){\n\t\t    vm.order.shipping_address_id = add;\n\t\t    for (var i=0; i<vm.orderUser.addresses.length; i++){\n\t\t\t  \tvar thisAdd = vm.orderUser.addresses[i];\n\t\t\t  \tif (thisAdd.id == add) vm.order.address=thisAdd;\n\t\t    }\n\t\t    if(callback)callback();\n\t    }\n\t\t\telse{\n\t\t\t\tvar data = {userId:vm.orderUser.id, address:add};\n\t\t\t\tapi.call('postAddress', data, function(result){\n\t\t\t\t\tvm.orderUser.addresses.push(result);\n\t\t\t\t\tvm.order.address=result;\n\t\t\t    vm.order.shipping_address_id = result.id;\n\t\t\t    if(callback)callback();\n\t\t\t\t});\n\t\t\t}\n\t  };\n    \n    \n    \n\t  /*  \t  \t\t\t\t\t\t    \t\t\t\t*\\\n\t\t*\t\t\t\t\t\t\t\t    \t\t\t\t\t\t*\n\t\t*\t\t\t\t   \t\t\t\t\t\t\t\t\t\t\t*\n\t\t* * * * *  User Modal \t* * * * * \n\t\t*\t\t\t\t  \t \t\t\t\t\t    \t\t\t*\t\n\t\t\\*\t  \t\t\t\t\t\t\t    \t\t\t\t*/\n\t     \n\t  vm.editUser = function(){\n\t    var modalInstance = $uibModal.open({\n\t      templateUrl: 'app/components/user-choice/userChoice.html',\n\t      controller: 'UserChoiceController',\n\t      resolve: {\n\t        choose : function(){\n\t\t        return vm.chooseClient;\n\t        },\n\t        orderUser : function() {\n\t          return vm.orderUser;\n\t        },\n\t        api : function() {\n\t          return api;\n\t        }\n\t      }\n\t  \t});\n\t  };\n\t  \n\t  function getPrimaryAddress(addresses){\n\t\t\tif(!addresses || !addresses.length) return false;\n\t\t\tfor (var i=0; i<addresses.length; i++) {\n\t\t\t\tif (addresses[i].primary === true) return addresses[i];\n\t\t\t}\n\t\t}\n\t\t\t\t\t\n\t  vm.chooseClient = function(client){\n\t\t\tapi.call('userGet', client.id, function(result){\n\t\t    vm.orderUser = result;\n\t\t    var primary = getPrimaryAddress(result.addresses);\n\t\t    if (primary){\n\t\t\t\t\tvm.order.address = primary;\n\t\t\t\t\tvm.order.shipping_address_id=primary.id;\n\t\t\t\t}\n\t    });\n\t  };\n\n\t  vm.compOrder = function(){\n      var order_object = {\n        id:vm.order.id,\n        payment_status_id:3\n      };\n      api.call('ordersPost', order_object, function(result){\n        vm.order.payment_status_id=3;\n      });\n    };\n\n\n    /*  \t  \t\t\t\t\t\t    \t\t  \t\t*\\\n\t\t*\t\t\t\t\t\t\t\t    \t\t\t  \t\t\t*\n\t\t*\t\t\t\t   \t\t\t\t\t\t\t\t \t\t  \t*\n\t\t* * * * *  Key In Modal \t* * * * *\n\t\t*\t\t\t\t  \t \t\t\t\t\t    \t\t  \t*\n\t\t\\*\t  \t\t\t\t\t\t\t    \t\t\t\t  */\n\n\t\t\n    vm.keyinPayment = function(){\n\n      var modalInstance = $uibModal.open({\n        templateUrl: 'app/components/key-in-cc/keyInModal.html',\n        controller: 'KeyInController',\n        resolve: {\n          orderData : function() {\n            return {\n              \"user\":vm.orderUser,\n              \"order\":vm.order\n            };\n          },\n          api : function(){\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t},\n          confirmation : function(){\n            return function(swalSettings){SweetAlert.swal(swalSettings)};\n          }\n        }\n      });\n    };\n\n\t  /*\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\\\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t* * * * *  Timeline \t* * * * *\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t\\*\t  \t\t\t\t\t\t\t\t\t\t\t\t*/\n\n\n\t\t//Create the \"Time from now\" text...\n\t\tvm.timeFromNow = function(timestamp){\n\t\t\treturn moment(new Date(timestamp+' UTC')).fromNow();\n\t\t};\n\t\t\n\t\t//Object \n\t\tvm.timelineForm = {\n\t\t\tmessage:null\n\t\t};\n  \n    function timelineLookupKeys(field){\n      var label, lookup='id', data, ret='name';\n      switch(field) {\n        case \"style_option_id\":\n          label = \"Style\";\n          data = \"style_options\";\n          break;\n      \n        case \"fit_option_id\":\n          label = \"Fit\";\n          data = \"fit_options\";\n          break;\n      \n        case \"gender_option_id\":\n          label = \"Gender\";\n          data = \"gender_options\";\n          ret =\"gender\";\n          break;\n      \n        case \"monogram_thread_id\":\n          label = \"Monogram Thread\";\n          data = \"threads\";\n          break;\n      \n        case \"fabric_id\":\n          label = \"Fabric\";\n          data = \"fabrics\";\n          break;\n      \n        case \"top_thread_id\":\n          label = \"Top Thread\";\n          data = \"threads\";\n          break;\n      \n        case \"bottom_thread_id\":\n          label = \"Bottom Thread\";\n          data = \"threads\";\n          break;\n      \n        case \"accent_thread_id\":\n          label = \"Accent Thread\";\n          data = \"threads\";\n          break;\n      \n        case \"vendor_id\":\n          label = \"Vendor\";\n          data = 'vendors';\n          break;\n      \n        case \"rep_id\":\n          label = \"Rep\";\n          data = 'reps';\n          break;\n      \n        case \"order_status_id\":\n          label = \"Order Status\";\n          data = 'order_statuses';\n          break;\n      \n        case \"order_type_id\":\n          label = \"Order Type\";\n          data = 'order_types';\n          break;\n      \n        case \"payment_status_id\":\n          label = \"Payment Status\";\n          data = \"payment_statuses\";\n          ret = \"label\";\n          break;\n      \n        case \"belt_loop_option_id\":\n          label = \"Belt Loops\";\n          data = \"belt_loop_options\";\n          ret=\"label\";\n          break;\n      \n        case \"hardware_option_id\":\n          label = \"Rivets\";\n          data = \"hardware_options\";\n          ret = \"name\";\n          break;\n      \n        case \"pocket_option_id\":\n          label = \"Pocket Option\";\n          data = \"pocket_options\";\n          ret = \"label\";\n          break;\n      \n        default:\n          return false;\n      }\n      return{\n        label:label,\n        lookup:lookup,\n        data:data,\n        ret:ret\n      }\n    \n    }\n  \n    function correctFieldTitle(title){\n      title = title.replace(/_/g, ' ');\n      return title.charAt(0).toUpperCase() + title.slice(1);\n    }\n  \n    var simpleFields = [\n      \"due_date\",\n      \"fit_date\",\n      \"monogram\",\n      \"tracking\",\n      'jean_name',\n      'monogram',\n      'waist',\n      'seat_down',\n      'seat_right',\n      'rise',\n      'full_rise',\n      'thigh_upper_down',\n      'thigh_upper_right',\n      'thigh_middle_down',\n      'thigh_middle_right',\n      'thigh_lower_down',\n      'thigh_lower_right',\n      'outseam',\n      'knee_up',\n      'knee_right',\n      'calf_up',\n      'calf_right',\n      'leg_opening',\n      'price',\n      'height',\n      'weight'\n    ];\n  \n    function processLogs(logs) {\n      var groupedLogs = {};\n      for (var i = 0; i < logs.length; i++) {\n        var key = logs[i].created_at + \"__\" + logs[i].user_id;\n        if (!groupedLogs[key]) groupedLogs[key] = [];\n        groupedLogs[key].push(logs[i]);\n      }\n      for (var key in groupedLogs) {\n        if (groupedLogs.hasOwnProperty(key)) {\n          var entryData = key.split(\"__\");\n          var entry = {\n            created_at: entryData[0],\n            user: groupedLogs[key][0].user,\n            type: \"pencil\"\n          };\n          var messages = [];\n          \n          \n          for (var i = 0; i < groupedLogs[key].length; i++) {\n            var log = groupedLogs[key][i];\n            var keys = timelineLookupKeys(log.field);\n            if (keys) {\n              var old_value = vm.data.lookup(keys.data, keys.lookup, log.old_value, keys.ret);\n              var new_value = vm.data.lookup(keys.data, keys.lookup, log.new_value, keys.ret);\n              messages.push(\"Changed \" + keys.label + \" from '\" + old_value + \"' to '\" + new_value + \"'\");\n            }\n          \n            if (simpleFields.indexOf(log.field) > -1)\n              messages.push(\"Changed \" + correctFieldTitle(log.field) + \" from '\" + log.old_value + \"' to '\" + log.new_value + \"'\");\n            if (log.field === \"notes\") messages.push(\"Edited notes\");\n            if (log.field === \"shipping_address_id\") messages.push(\"Changed Shipping Address\");\n            if (log.field === \"user_id\") messages.push(\"Changed Client\");\n          }\n          if (messages.length) {\n            entry.message = messages.join(\"<br>\");\n            vm.timeline.push(entry);\n          }\n        }\n      }\n    }\n    \n\t\tfunction buildTimeline() {\n    \t\n      if (vm.newOrder) return false;\n\t\t\t\n      //Init timeline with created_at date.\n      vm.timeline = [{message: \"Order Created\", created_at: vm.order.created_at}];\n      \n      //Add order comments\n      for (var i = 0; i < vm.order.order_comments.length; i++) {\n        vm.order.order_comments[i].type = \"comment\";\n      }\n      vm.timeline.push.apply(vm.timeline, vm.order.order_comments);\n      \n      //Add in order logs and order item logs\n      var logs = vm.order.logs;\n      logs.push.apply(logs, vm.order.order_items[0].logs);\n      processLogs(logs);\n    }\n\t\t\n\n\t\t//Function to add timeline item\n\t  vm.addTimelineItem = function(){\n\t    if (!vm.timelineForm.message) return false;\n\t    var data = {\n\t\t    orderId:vm.order.id, \n\t\t    comment:{\n\t\t    \tmessage:vm.timelineForm.message,\n\t\t    \tuser_id:vm.user.id,\n\t\t\t\t\ttype:\"message\"\n\t    \t}\n\t    };\n\t\t\tapi.call('commentsCreate', data, \n\t\t\t\tfunction(result){\n\t\t\t\t\t//Quick fix since this endpoint does not return user name\n\t\t\t\t\tresult.user={\n\t\t\t    \tfirst_name:vm.user.first_name,\n\t\t\t    \tlast_name:vm.user.last_name\n\t\t    \t};\n\t\t\t\t\tresult.type=\"comment\";\n\t\t\t\t\tvm.timeline.push(result);\n\t\t\t\t\tvm.timelineForm.message = null;\n\t\t\t\t}\n\t\t\t);\n\t  };\n    \n    \n    \n\n\n\n\n\n\t\t/*\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\\\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\n\t\t* * * * * Save/Create\t* * * * * \n\t\t*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t*\t\n\t\t\\*\t  \t\t\t\t\t\t\t\t\t\t\t\t*/\t\n\t\n\t\n\t\n\t\n\t\t    \n    var deleteOrderBox = {\n      title: \"Are you sure?\",\n      text: \"This order will be deleted forever and you will be redirected to the orders list!\",\n      type: \"warning\",\n      showCancelButton: true,\n\t\t\tconfirmButtonColor: \"#DD6B55\",\n      confirmButtonText: \"Delete\",\n      cancelButtonText: \"Cancel\",\n      closeOnConfirm: true,\n      closeOnCancel: true \n    };\n   \n\t\tvm.deleteThisOrder = function(){\n\t\t\tSweetAlert.swal(deleteOrderBox,\n\t\t    function (isConfirm) {\n\t        if (isConfirm) {\n\t\t        api.call('ordersDelete', vm.order.id, function(result){\n              $state.transitionTo('orders.list');\n\t          });\n\t        }\n\t\t    }\n\t\t  );\n\t\t};\n\t\t\n\t\t\n\t\t\n\t\tvar reOrderBox = {\n      title: \"Re-Order this pair of Jeans?\",\n      text: \"If you confirm, this order will be saved and you will be re-directed to your new order\",\n      type: \"warning\",\n      showCancelButton: true,\n\t\t\tconfirmButtonColor: \"#34d289\",\n      confirmButtonText: \"Re-Order\",\n      cancelButtonText: \"Cancel\",\n      closeOnConfirm: true,\n      closeOnCancel: true \n    };\n\t\t\n\t\tvm.reOrder = function(){\n\t\t\t\n\t\t\tSweetAlert.swal(reOrderBox,\n\t\t    function (isConfirm) {\n\t        if (isConfirm) { \n\t\t\t      var copyOrderObject = {\n\t\t\t\t\t\t\t\"shipping_name\":vm.order.shipping_name,\n\t\t\t\t\t\t\t\"shipping_phone\":vm.order.shipping_phone,\n\t\t\t\t\t\t\t\"shipping_address_id\":vm.order.shipping_address_id,\n\t\t\t\t\t\t\t\"reorder_item_id\":vm.order.order_items[0].id,\n\t\t\t\t\t\t\t\"order_type_id\":vm.order.order_type_id,\n\t\t\t\t\t\t\t\"user_id\":vm.orderUser.id,\n\t\t\t\t\t\t\t\"comment\":\"Reordered from order #\"+vm.order.id\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tvm.saveOrder(function(){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tapi.call('ordersPost', copyOrderObject, function(result){\n\t\t\t\t\t\t\t\t$state.transitionTo('orders.edit', {orderId:result.id});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t        }\n\t\t    }\n\t\t\t);\n\t\n\t\t};\n\t  \n\t\t\n\t\tfunction jeanHasChanged(){\n\t\t\tvar o1 = vm.order.order_items[0];\n\t\t\tvar o2 = vm.originalJean;\n\t\t\treturn !angular.equals(o1, o2);\n\t\t}\n\t\t\n\t\tvm.saveOrder = function(callback){\n\t\t\t\n\t\t\tif (!$scope.f.orderForm.$valid){\n\t\t\t\t$scope.f.orderForm.submitted = true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif(vm.orderUser==null){ return false; }\n\n\t\t\t//toaster.wait('Saving Order...');\n\t\t\t\n\t\t\tvar savingToast = toaster.pop({\n\t\t\t  type: 'wait',\n\t\t\t  title: \"Saving...\",\n\t\t\t  timeout: 9000000\n\t\t\t});\t\t\t\n\n\t\t\tvar jeanData = vm.order.order_items[0];\n\t\t\tvar filename = api.getDataCode(jeanData);\n\t\t\tfilename += \".jpg\";\n\t\t\tjeanData.image = {filename:filename};\n\t\t\tapi.createThumb(jeanData).then(function(blob){\n\t\t\t\tif (!blob){\n\t\t\t\t\tdelete jeanData.image;\n\t\t\t\t\tjeanData.jean_image_url = \"https://s3.amazonaws.com/bluedelta-customizer/images/thumbnails/default.jpg\";\n\t\t\t\t}else{\n\t\t\t\t\tjeanData.image.data = blob;\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t\t//Save new order...\n\t\t\t\tif (vm.newOrder){\n\t\t\t\t\tjeanData.name = jeanData.jean_name;\n\t\t\t\t\tvar data = {userId:vm.orderUser.id, jean:jeanData};\n\t\t\t\t\t\n\t\t\t\t\t//1. Create jean\n\t\t\t\t\tapi.call('usersCreateJean', data, function(newJean){\n\t\t\t\t\t\ttoaster.clear(savingToast);\n\t\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\t  type: 'success',\n\t\t\t\t\t\t  title: \"Order Saved!\",\n\t\t\t\t\t\t  timeout: 2000\n\t\t\t\t\t\t});\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t//2. Create Order\n\t\t\t\t\t\tvar orderData = vm.order;\n\t\t\t\t\t\torderData.user_id = vm.orderUser.id,\n\t\t\t\t\t\torderData.shipping_name = vm.orderUser.first_name+\" \"+vm.orderUser.last_name,\n\t\t\t\t\t\torderData.shipping_address_id = vm.order.shipping_address_id,\n\t\t\t\t\t\torderData.jean_id = newJean.id;\n\t\t\t\t\t\t\n\t\t\t\t\t\tapi.call('ordersPost', orderData, function(newOrder){\n\t\t\t\t\t\t\t$state.transitionTo('orders.edit', {orderId:newOrder.id});\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Update existing order...\n\t\t\t\telse{\n\t\t\t\t\tapi.call('ordersPost', vm.order, function(result){\n\t\t\t\t\t\ttoaster.clear(savingToast);\n\t\t\t\t\t\ttoaster.success('Saved Order!');\n            vm.EditMode=false;\n\t\t\t\t\t\tvm.order=result;\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\tvm.timeline=null;\n            buildTimeline();\n            if (callback)callback();\n\t\t\t\t\t}, function(err){\n\t\t\t\t\t\ttoaster.clear(savingToast);\n\t\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\t  type: 'error',\n\t\t\t\t\t\t  title: \"Problem saving order..\",\n\t\t\t\t\t\t  timeout: 2000\n\t\t\t\t\t\t});\t\n\t\t\t\t\t});\n\t\t\t\t}\t\t\t\n\t\t\t\t\n\t\t\t});\n\n\t\n\t\t}//.saveOrder()...\n  \n  \n    vm.fabric_list_item_name = function(fabric_id){\n      var name = vm.data.lookup(\"fabrics\", \"id\", fabric_id, \"name\");\n      var id = vm.data.lookup(\"fabrics\", \"id\", fabric_id, \"display_id\");\n      var ret = \"\";\n      if(vm.data.lookup(\"fabrics\", \"id\", fabric_id, \"deleted_at\"))\n        ret+=\"(deleted) \";\n      ret+=name;\n      if (id) ret+=\" - \"+id;\n      return ret;\n    };\n    \n\tvar dataParameter = {\n\t\t\"amount_money\": {\n\t\t\t\"amount\" : \"100\",\n\t\t\t\"currency_code\" : \"USD\"\n\t\t},\n\t\t\"callback_url\" : \"https://requestb.in/17ok6gh1\", // Replace this value with your application's callback URL\n\t\t\"client_id\" : \"sq0idp-Ix0BKq70y9xTbYuMuBPZkQ\", // Replace this value with your application's ID\n\t\t\"version\": \"1.3\",\n\t\t\"notes\": \"Payment for Order #\"+vm.order.id,\n\t\t\"options\" : {\n\t\t\t\"supported_tender_types\" : [\"CREDIT_CARD\",\"CASH\",\"OTHER\",\"SQUARE_GIFT_CARD\",\"CARD_ON_FILE\"]\n\t\t}\n\t};\n\n  var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\tvar timestamp = Math.floor(Date.now() / 1000);\n  vm.squareLink = iOS ? \"square-commerce-v1://payment/create?data=\" + encodeURIComponent(JSON.stringify(dataParameter)) +\"&time=\"+timestamp : false;\n\n  \n  vm.sendInvoice = function(){\n    api.call('sendInvoice', vm.order.id, function(){\n      SweetAlert.swal(\"Your Invoice has been sent!\", \"An invoice has been sent to \"+vm.orderUser.email, \"success\");\n\t\t});\n  };\n  \n  \n  \n}]);\n\n\n\nfunction formValidation($scope) {\n\t\n    $scope.signupForm = function() {\n        if ($scope.signup_form.$valid) {\n            // Submit as normal\n        } else {\n            $scope.signup_form.submitted = true;\n        }\n    }\n\n    $scope.signupForm2 = function() {\n        if ($scope.signup_form.$valid) {\n            // Submit as normal\n        }\n    }\n\n};\n\n\nangular\n    .module('inspinia')\n    .controller('formValidation',['$scope', formValidation]);\n'use strict';\n\n//Directive used to set metisMenu and minimalize button\nangular.module('inspinia')\n    .directive('sideNavigation', ['$timeout', function ($timeout) {\n        return {\n            restrict: 'A',\n            link: function (scope, element) {\n                // Call metsi to build when user signup\n                scope.$watch('authentication.user', function() {\n                    $timeout(function() {\n                        element.metisMenu();\n                    });\n                });\n\n                // Colapse menu in mobile mode after click on element\n                var menuElement = angular.element('#side-menu a:not([href$=\"\\\\#\"])');\n                menuElement.click(function(){\n                  if (angular.element(window).width() < 769) {\n                    angular.element(\"body\").toggleClass(\"mini-navbar\");\n                  }\n                });\n\n                // Enable initial fixed sidebar\n                if (angular.element(\"body\").hasClass('fixed-sidebar')) {\n                  var sidebar = element.parent();\n                  sidebar.slimScroll({\n                    height: '100%',\n                    railOpacity: 0.9\n                  });\n                }\n\n            }\n        };\n    }])\n    .directive('minimalizaSidebar', ['$timeout', function ($timeout) {\n        return {\n            restrict: 'A',\n            template: '<a class=\"navbar-minimalize minimalize-styl-2 btn btn-primary \" href=\"\" ng-click=\"minimalize()\"><i class=\"fa fa-bars\"></i></a>',\n            controller: function ($scope) {\n                $scope.minimalize = function () {\n                    angular.element('body').toggleClass('mini-navbar');\n                    if (!angular.element('body').hasClass('mini-navbar') || angular.element('body').hasClass('body-small')) {\n                        // Hide menu in order to smoothly turn on when maximize menu\n                        angular.element('#side-menu').hide();\n                        // For smoothly turn on menu\n                        $timeout(function () {\n                            angular.element('#side-menu').fadeIn(400);\n                        }, 200);\n                    } else {\n                        // Remove all inline style from jquery fadeIn function to reset menu state\n                        angular.element('#side-menu').removeAttr('style');\n                    }\n                };\n            }\n        };\n    }]);\n\n\t\n\t/**\n\t* iboxTools - Directive for iBox tools elements in right corner of ibox\n\t*/\n\tfunction iboxTools($timeout) {\n\t\treturn {\n\t\t    restrict: 'A',\n\t\t    scope: true,\n\t\t    templateUrl: 'app/components/common/ibox_tools.html',\n\t\t    controller: function ($scope, $element) {\n\t\t        // Function for collapse ibox\n\t\t        $scope.showhide = function () {\n\t\t            var ibox = $element.closest('div.ibox');\n\t\t            var icon = $element.find('i:first');\n\t\t            var content = ibox.children('.ibox-content');\n\t\t            content.slideToggle(200);\n\t\t            // Toggle icon from up to down\n\t\t            icon.toggleClass('fa-chevron-up').toggleClass('fa-chevron-down');\n\t\t            ibox.toggleClass('').toggleClass('border-bottom');\n\t\t            $timeout(function () {\n\t\t                ibox.resize();\n\t\t                ibox.find('[id^=map-]').resize();\n\t\t            }, 50);\n\t\t        };\n\t\t            // Function for close ibox\n\t\t            $scope.closebox = function () {\n\t\t                var ibox = $element.closest('div.ibox');\n\t\t                ibox.remove();\n\t\t            }\n\t\t    }\n\t\t};\n\t};\n\n\t\n\t\n\tangular\n    .module('inspinia')\n    .directive('iboxTools', ['$timeout', iboxTools]);\n    \n'use strict';\n\nangular.module('inspinia')\n  .controller('AddressController', ['$scope', '$uibModalInstance', 'data', 'address', 'save',\n  function ($scope, $uibModalInstance, data, address, save) {\n\n  \tconsole.log(\"ADDDDD\");\n  \tconsole.log(address);\n\n\t  $scope.a = {selected:data.selected};\n\t\t$scope.addresses=address;\n\t\t$scope.addressType = data.addressType;\n\t\t$scope.icon = data.icon;\n\t\t$scope.addData={primaryIndex:null};\n\t\t$scope.newAdd = {\n\t    editing:false,\n\t    form:{\n\t\t    address_line_1:\"\",\n\t\t    address_line_2:\"\",\n\t\t    city:\"\",\n\t\t    state:\"\",\n\t\t    zip:\"\"\t\t    \n\t    },\n    }\n\t\t\n\t\tif(!$scope.addresses.length){ $scope.newAdd.editing=true; }\n\t\t$scope.forms = {};\n    $scope.ok = function (form) {\n\t\t\t\n\t\t\t//Validation if submitting new address...\n\t    if (form && !form.$valid){\n\t\t\t\tform.submitted = true;\n\t\t\t\tconsole.log(\"form is not valid\");\n\t\t\t\treturn false;\n\t\t\t} \n\t\t\t\n\t\t  var saveAdd = $scope.a.selected == null ?  $scope.newAdd.form : $scope.a.selected;\n    \tsave(saveAdd, function(){\n\t    \t$uibModalInstance.close();\t\n    \t});\n    \t\n    };\n\n    $scope.cancel = function () {\n      $uibModalInstance.dismiss('cancel');\n    };\n    \n    $scope.validCheck = function(field){\n\t\t\treturn field.$invalid && (field.$touched || field.$$parentForm.submitted);\n    };\n\n\n\t\t\n    $scope.states = [\n\t\t\t{\n\t\t\t  \"name\": \"Alabama\",\n\t\t\t  \"abbreviation\": \"AL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Alaska\",\n\t\t\t  \"abbreviation\": \"AK\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"American Samoa\",\n\t\t\t  \"abbreviation\": \"AS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Arizona\",\n\t\t\t  \"abbreviation\": \"AZ\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Arkansas\",\n\t\t\t  \"abbreviation\": \"AR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"California\",\n\t\t\t  \"abbreviation\": \"CA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Colorado\",\n\t\t\t  \"abbreviation\": \"CO\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Connecticut\",\n\t\t\t  \"abbreviation\": \"CT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Delaware\",\n\t\t\t  \"abbreviation\": \"DE\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"District Of Columbia\",\n\t\t\t  \"abbreviation\": \"DC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Federated States Of Micronesia\",\n\t\t\t  \"abbreviation\": \"FM\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Florida\",\n\t\t\t  \"abbreviation\": \"FL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Georgia\",\n\t\t\t  \"abbreviation\": \"GA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Guam\",\n\t\t\t  \"abbreviation\": \"GU\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Hawaii\",\n\t\t\t  \"abbreviation\": \"HI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Idaho\",\n\t\t\t  \"abbreviation\": \"ID\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Illinois\",\n\t\t\t  \"abbreviation\": \"IL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Indiana\",\n\t\t\t  \"abbreviation\": \"IN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Iowa\",\n\t\t\t  \"abbreviation\": \"IA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Kansas\",\n\t\t\t  \"abbreviation\": \"KS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Kentucky\",\n\t\t\t  \"abbreviation\": \"KY\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Louisiana\",\n\t\t\t  \"abbreviation\": \"LA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Maine\",\n\t\t\t  \"abbreviation\": \"ME\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Marshall Islands\",\n\t\t\t  \"abbreviation\": \"MH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Maryland\",\n\t\t\t  \"abbreviation\": \"MD\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Massachusetts\",\n\t\t\t  \"abbreviation\": \"MA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Michigan\",\n\t\t\t  \"abbreviation\": \"MI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Minnesota\",\n\t\t\t  \"abbreviation\": \"MN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Mississippi\",\n\t\t\t  \"abbreviation\": \"MS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Missouri\",\n\t\t\t  \"abbreviation\": \"MO\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Montana\",\n\t\t\t  \"abbreviation\": \"MT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Nebraska\",\n\t\t\t  \"abbreviation\": \"NE\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Nevada\",\n\t\t\t  \"abbreviation\": \"NV\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Hampshire\",\n\t\t\t  \"abbreviation\": \"NH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Jersey\",\n\t\t\t  \"abbreviation\": \"NJ\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Mexico\",\n\t\t\t  \"abbreviation\": \"NM\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New York\",\n\t\t\t  \"abbreviation\": \"NY\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"North Carolina\",\n\t\t\t  \"abbreviation\": \"NC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"North Dakota\",\n\t\t\t  \"abbreviation\": \"ND\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Northern Mariana Islands\",\n\t\t\t  \"abbreviation\": \"MP\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Ohio\",\n\t\t\t  \"abbreviation\": \"OH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Oklahoma\",\n\t\t\t  \"abbreviation\": \"OK\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Oregon\",\n\t\t\t  \"abbreviation\": \"OR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Palau\",\n\t\t\t  \"abbreviation\": \"PW\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Pennsylvania\",\n\t\t\t  \"abbreviation\": \"PA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Puerto Rico\",\n\t\t\t  \"abbreviation\": \"PR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Rhode Island\",\n\t\t\t  \"abbreviation\": \"RI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"South Carolina\",\n\t\t\t  \"abbreviation\": \"SC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"South Dakota\",\n\t\t\t  \"abbreviation\": \"SD\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Tennessee\",\n\t\t\t  \"abbreviation\": \"TN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Texas\",\n\t\t\t  \"abbreviation\": \"TX\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Utah\",\n\t\t\t  \"abbreviation\": \"UT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Vermont\",\n\t\t\t  \"abbreviation\": \"VT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Virgin Islands\",\n\t\t\t  \"abbreviation\": \"VI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Virginia\",\n\t\t\t  \"abbreviation\": \"VA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Washington\",\n\t\t\t  \"abbreviation\": \"WA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"West Virginia\",\n\t\t\t  \"abbreviation\": \"WV\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Wisconsin\",\n\t\t\t  \"abbreviation\": \"WI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Wyoming\",\n\t\t\t  \"abbreviation\": \"WY\"\n\t\t\t}\n\t\t]\n\n}]);\n'use strict';\n\nangular.module('inspinia')\n.controller('KeyInController', ['$scope', '$uibModalInstance', 'orderData', 'api', 'confirmation',\n  function ($scope, $uibModalInstance, orderData, api, confirmation) {\n    \n  \n    /*\n    *\n    * Charge / Module Setup\n    *\n    */\n    \n    var chargeAmount = orderData.order ? orderData.order.price : 50;\n    $scope.isFM = !orderData.order;\n    $scope.isNewFM = $scope.isFM && (!orderData.fitmatch.id);\n    $scope.orderType = orderData.order ? \"order\" : \"fitmatch\";\n    $scope.cardForm = {\n      chargeAmount:chargeAmount,\n      editingAmount:false,\n      addCard:false,\n      selectedCard:orderData.selectedCard ? orderData.selectedCard : false,\n      saveCard:true,\n      chargeCard:true,\n      fire:function(){\n        return false;\n      }\n    };\n    \n    \n    \n    \n    console.log($scope.cardForm);\n    $scope.closeForm = function(){\n      $uibModalInstance.close();\n    };\n\n    //If user comes through with cards, we'll use those...\n    if (orderData.user.cards){\n      $scope.cards = orderData.user.cards;\n      $scope.cardsSearched = true;\n    }\n    else {\n      //Otherwise... find User's saved CC\n      if (orderData.user.square_id) {\n        api.call('usersGetUserCreditCards', orderData.user.id, function (cards) {\n          $scope.cards = cards;\n          $scope.cardsSearched = true;\n        });\n      } else {\n        $scope.cardForm.addCard = true;\n        $scope.cardsSearched = true;\n      }\n    }\n  \n  \n  \n  \n    /*\n    *\n    * SHARED UTILITY FUNCTIONS\n    *\n    */\n    \n    //Special handling for CC Error\n    function handleCCErr(err){\n      console.log(\"handleCCErr...\");\n    }\n    \n    //Call back for successful transaction\n    function successfulTransaction(details){\n      \n      console.log(details);\n      \n      if(orderData.order) {\n        orderData.order.payment_status_id = details.order.payment_status_id;\n        if(orderData.order.order_status_id==5) orderData.order.order_status_id==4;\n        var paymentProcessedBox = {\n          title: \"Payment has been processed\",\n          text: \"The customer's payment has been posted.\",\n          type: \"success\"\n        };\n      }\n  \n      if(orderData.fitmatch) {\n        orderData.fitmatch.paid_at = details.fitmatch.paid_at.date;\n        var paymentProcessedBox = {\n          title: \"Payment has been processed\",\n          text: \"The customer's payment has been posted and Fit Match has been cancelled.\",\n          type: \"success\"\n        };\n      }\n      \n\n      $uibModalInstance.close();\n      confirmation(paymentProcessedBox);\n    }\n    \n    //Handler for API calls to charge endpoints\n    function runCharge(cardData){\n      \n      console.log(cardData);\n      \n      if (cardData.customer_card_id) orderData.credit_card_id = cardData.customer_card_id;\n      var apiFunction = $scope.orderType === \"fitmatch\" ? \"fitmatchCharge\":\"ordersCharge\";\n      api.call(apiFunction, cardData, successfulTransaction, handleCCErr);\n    }\n  \n    //Main handler for when a card is . This is run when card from returns a nonce or when called directly with a customer card id.\n    $scope.cardChosen = function(ccCode) {\n      \n      console.log($scope.cardForm.chargeCard);\n      console.log($scope.cardForm.saveCard);\n      \n      //No actions chosen\n      if (!$scope.cardForm.chargeCard && !$scope.cardForm.saveCard){\n        console.log(\"No action chosen\");\n        return false;\n      }\n      \n      //Init charge data object\n      var chargeData = {\n        \"amount_money\": $scope.cardForm.chargeAmount,\n        \"userId\": orderData.user.id\n      };\n    \n      //Save order id to charge data if we're paying for an order\n      if(orderData.order) chargeData.orderId=orderData.order.id;\n    \n      //Save fitmatch id to charge data if we're paying for an fitmatch (and cancelling order)...\n      if(orderData.fitmatch) chargeData.fitmatchId=orderData.fitmatch.id;\n    \n    \n      //Opt 1: Adding new CC...\n      if ($scope.cardForm.addCard) {\n      \n        //Saving a card first\n        if ($scope.cardForm.saveCard) {\n          api.call('usersCreateCreditCard', {userId: orderData.user.id, nonce: ccCode},\n            function (result) {\n              chargeData.customer_id = result.customer_id;\n              chargeData.customer_card_id = result.card_id;//Charge with newly created ccid...\n              //chargeData.customer_card_id = 'fake-customer-card-id-ok';//Sandbox...\n              \n              if ($scope.cardForm.chargeCard) runCharge(chargeData);\n            }, handleCCErr\n          );\n        }\n      \n        //Simple Charge\n        else {\n          //Charge with nonce...\n          chargeData.card_nonce = ccCode;\n          //chargeData.card_nonce = 'fake-card-nonce-ok';//Sandbox...\n          runCharge(chargeData);\n        }\n      }\n    \n      //Opt2: Charging Card on file...\n      else {\n        chargeData.customer_card_id = ccCode;\n        chargeData.customer_id  = orderData.user.square_id;\n        //chargeData.customer_card_id = 'fake-customer-card-id-ok';//Sandbox...\n        runCharge(chargeData);\n      }\n  \n      $scope.cardForm.chargeCard=true;\n    \n    };//$scope.cardChosen()...\n    \n    /*\n    *\n    * ORDERS ONLY\n    *\n    */\n    \n    $scope.handleOrderCharge = function(){\n      if($scope.cardForm.addCard) $scope.cardForm.fire();\n      else $scope.cardChose(cardForm.selectedCard);\n    }\n    \n    /*\n    *\n    * FIT MATCH ONLY\n    *\n    */\n    \n    $scope.saveCCToUser = function(){\n      $scope.cardForm.saveCard = true;\n      $scope.cardForm.chargeCard = false;\n      $scope.cardForm.fire();\n    };\n    \n    //Save Card as Primary\n    $scope.saveCardAsFmPrimary = function(ccCode){\n      \n      //Choose primary card data and pass to main controller\n      for (var i=0; i<$scope.cards.length; i++){\n        if ($scope.cards[i].id === ccCode){\n          orderData[$scope.orderType].primary_card = $scope.cards[i];\n          break;\n        }\n      }\n      \n      orderData[$scope.orderType].credit_card_id = ccCode;\n      console.log(orderData);\n      console.log($scope.orderType);\n      //Build object to save just the chosen card\n      var saveData = {\n        id:orderData[$scope.orderType].id,\n        credit_card_id:ccCode\n      };\n      \n      //Check to make sure we're not creating a new fitmatch.\n      if (orderData[$scope.orderType].id) {\n        api.call('fitmatchPost', saveData, function () {\n          $uibModalInstance.close();\n          confirmation({\n            title: \"Card has been chosen!\",\n            text: \"This card has been chosen as the primary source of payment for this order.\",\n            type: \"success\"\n          }, ccCode);\n        });\n      }else{\n        $uibModalInstance.close();\n        confirmation({\n          title: \"Card has been chosen!\",\n          text: \"This card has been chosen as the primary source of payment for this order.\",\n          type: \"success\"\n        }, ccCode);\n      }\n  \n    };\n  \n  \n    \n    \n\n\n\n\n  }]);\n'use strict';\n\nangular.module('inspinia')\n  .controller('UserChoiceController', ['$scope', '$uibModalInstance', 'orderUser', 'choose', 'api',\n  function ($scope, $uibModalInstance, orderUser, choose, api) {\n\t\t$scope.users=[];\n\t\t$scope.showCreate=false;\n\t\t$scope.orderUser = orderUser;\n\t\t\n\t\t$scope.searchClient=\"\";\n\t\t$scope.cancel = function(){\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t};\n\t\t\n\t\t$scope.totalClients = 9999;\n\t\t\n\t\tfunction pullUsers(filters, callback){\n\t\t\tapi.call('usersList', filters, function(result){\n\t\t\t\t$scope.clients.push.apply($scope.clients, result.results);\n\t\t\t\t$scope.totalClients = result.total;\n\t\t\t\tif (callback) callback();\n\t\t\t});\n\t\t};\n\t\t\n\t\t$scope.clients = [];\n\t\t$scope.filters = {\n\t\t\t\"results_per_page\" : 100,\n\t\t\t\"page\": 1, \n\t\t\t\"orderby\":\"last_name\",\n\t\t\t\"order\":\"ASC\",\n\t\t};\n\t\t\n\t\tpullUsers($scope.filters);    \n\t\t\n\t\t$scope.getMoreUsers = function(){\n\t\t\t$scope.filters.page++;\n\t\t\tpullUsers($scope.filters);\n\t\t};\n\t\t\n\t\t$scope.filterSearch = function(){\n\t\t\t$scope.clients=[];\n\t\t\t$scope.filters.page = 1;\n\t\t\tpullUsers($scope.filters);\n\t\t};\n\n\t\t$scope.chooseClient = function (client) {\n\t\t\tchoose(client);\n\t\t\t$uibModalInstance.close();\n    };\n\t\t\n\t\t//Create Client Form\n\t\tvar defaultClientForm = {\t\t\n\t\t\t\"first_name\":\"\",\n\t\t\t\"last_name\":\"\",\n\t\t\t\"create_addresses\":[\n\t\t\t\t{\n\t\t\t\t\t\"address_line_1\":\"\",\n\t\t\t\t\t\"address_line_2\":\"\",\n\t\t\t\t\t\"city\":\"\",\n\t\t\t\t\t\"state\":\"\",\n\t\t\t\t\t\"zip\":\"\",\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"state\":\"\",\n\t\t\t\"zip\":\"\",\n\t\t}\n\t\t$scope.clientForm = angular.copy(defaultClientForm);\n\t\t\n\t\t$scope.showCreateForm = function(){\n\t\t\t$scope.showCreate=true;\n\t\t}\n\t\t\n\t\t$scope.cancelCreateForm = function(){\n\t\t\t$scope.showCreate=false;\n\t\t\t$scope.clientForm = angular.copy(defaultClientForm);\t\n\t\t}\n\t\t\n\t\t$scope.postCreateForm = function(){\n\t\t\tapi.call('usersPost', $scope.clientForm, function(result){\n\t\t\t\tconsole.log(result);\n\t\t\t\tconsole.log(\"we did it!!!\");\n\t\t\t\t$scope.chooseClient(result);\n\t\t\t});\n\t\t}\n\n\t\t$scope.states = [\n\t\t\t{\n\t\t\t  \"name\": \"Alabama\",\n\t\t\t  \"abbreviation\": \"AL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Alaska\",\n\t\t\t  \"abbreviation\": \"AK\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"American Samoa\",\n\t\t\t  \"abbreviation\": \"AS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Arizona\",\n\t\t\t  \"abbreviation\": \"AZ\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Arkansas\",\n\t\t\t  \"abbreviation\": \"AR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"California\",\n\t\t\t  \"abbreviation\": \"CA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Colorado\",\n\t\t\t  \"abbreviation\": \"CO\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Connecticut\",\n\t\t\t  \"abbreviation\": \"CT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Delaware\",\n\t\t\t  \"abbreviation\": \"DE\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"District Of Columbia\",\n\t\t\t  \"abbreviation\": \"DC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Federated States Of Micronesia\",\n\t\t\t  \"abbreviation\": \"FM\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Florida\",\n\t\t\t  \"abbreviation\": \"FL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Georgia\",\n\t\t\t  \"abbreviation\": \"GA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Guam\",\n\t\t\t  \"abbreviation\": \"GU\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Hawaii\",\n\t\t\t  \"abbreviation\": \"HI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Idaho\",\n\t\t\t  \"abbreviation\": \"ID\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Illinois\",\n\t\t\t  \"abbreviation\": \"IL\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Indiana\",\n\t\t\t  \"abbreviation\": \"IN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Iowa\",\n\t\t\t  \"abbreviation\": \"IA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Kansas\",\n\t\t\t  \"abbreviation\": \"KS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Kentucky\",\n\t\t\t  \"abbreviation\": \"KY\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Louisiana\",\n\t\t\t  \"abbreviation\": \"LA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Maine\",\n\t\t\t  \"abbreviation\": \"ME\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Marshall Islands\",\n\t\t\t  \"abbreviation\": \"MH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Maryland\",\n\t\t\t  \"abbreviation\": \"MD\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Massachusetts\",\n\t\t\t  \"abbreviation\": \"MA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Michigan\",\n\t\t\t  \"abbreviation\": \"MI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Minnesota\",\n\t\t\t  \"abbreviation\": \"MN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Mississippi\",\n\t\t\t  \"abbreviation\": \"MS\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Missouri\",\n\t\t\t  \"abbreviation\": \"MO\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Montana\",\n\t\t\t  \"abbreviation\": \"MT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Nebraska\",\n\t\t\t  \"abbreviation\": \"NE\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Nevada\",\n\t\t\t  \"abbreviation\": \"NV\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Hampshire\",\n\t\t\t  \"abbreviation\": \"NH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Jersey\",\n\t\t\t  \"abbreviation\": \"NJ\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New Mexico\",\n\t\t\t  \"abbreviation\": \"NM\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"New York\",\n\t\t\t  \"abbreviation\": \"NY\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"North Carolina\",\n\t\t\t  \"abbreviation\": \"NC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"North Dakota\",\n\t\t\t  \"abbreviation\": \"ND\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Northern Mariana Islands\",\n\t\t\t  \"abbreviation\": \"MP\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Ohio\",\n\t\t\t  \"abbreviation\": \"OH\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Oklahoma\",\n\t\t\t  \"abbreviation\": \"OK\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Oregon\",\n\t\t\t  \"abbreviation\": \"OR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Palau\",\n\t\t\t  \"abbreviation\": \"PW\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Pennsylvania\",\n\t\t\t  \"abbreviation\": \"PA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Puerto Rico\",\n\t\t\t  \"abbreviation\": \"PR\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Rhode Island\",\n\t\t\t  \"abbreviation\": \"RI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"South Carolina\",\n\t\t\t  \"abbreviation\": \"SC\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"South Dakota\",\n\t\t\t  \"abbreviation\": \"SD\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Tennessee\",\n\t\t\t  \"abbreviation\": \"TN\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Texas\",\n\t\t\t  \"abbreviation\": \"TX\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Utah\",\n\t\t\t  \"abbreviation\": \"UT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Vermont\",\n\t\t\t  \"abbreviation\": \"VT\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Virgin Islands\",\n\t\t\t  \"abbreviation\": \"VI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Virginia\",\n\t\t\t  \"abbreviation\": \"VA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Washington\",\n\t\t\t  \"abbreviation\": \"WA\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"West Virginia\",\n\t\t\t  \"abbreviation\": \"WV\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Wisconsin\",\n\t\t\t  \"abbreviation\": \"WI\"\n\t\t\t},\n\t\t\t{\n\t\t\t  \"name\": \"Wyoming\",\n\t\t\t  \"abbreviation\": \"WY\"\n\t\t\t}\n\t\t]\n\n}]);\nangular.module(\"inspinia\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/directives/pagination.template.html\",\"<div ng-if=\\\"total >= 2\\\" class=\\\"pagination\\\"><div class=\\\"text-center\\\"><div class=\\\"btn-group\\\"><button ng-if=\\\"current>1\\\" ng-click=\\\"change(current-1)\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\"><i class=\\\"fa fa-chevron-left\\\"></i></button> <button ng-if=\\\"getPages().indexOf(1) == -1\\\" ng-click=\\\"change(1)\\\" ng-class=\\\"{\\'elips-start-btn\\':getPages()[0]!==2}\\\" class=\\\"btn elips-start-btn btn-white\\\" type=\\\"button\\\">1</button> <button ng-click=\\\"change(i)\\\" ng-class=\\\"{\\'active\\':current==i}\\\" ng-repeat=\\\"i in getPages()\\\" class=\\\"btn btn-white\\\">{{i}}</button> <button ng-if=\\\"getPages().indexOf(total) == -1\\\" ng-click=\\\"change(total)\\\" ng-class=\\\"{\\'elips-end-btn\\' : current!=total-3 }\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\">{{total}}</button> <button ng-if=\\\"current<total\\\" ng-click=\\\"change(current+1)\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\"><i class=\\\"fa fa-chevron-right\\\"></i></button></div></div></div>\");\n$templateCache.put(\"app/clients/clients-edit.html\",\"<div class=\\\"clients-page clients-edit-page\\\"><toaster-container></toaster-container><div id=\\\"form-control-buttons\\\" class=\\\"pull-right\\\" style=\\\"margin-top:20px;\\\"><button ng-click=\\\"cvm.saveUser()\\\" class=\\\"btn btn-primary btn-success\\\"><span ng-if=\\\"!cvm.newUser\\\">Save</span><span ng-if=\\\"cvm.newUser\\\">Create</span></button>&nbsp;&nbsp; <button ng-if=\\\"!cvm.newUser\\\" ui-sref=\\\"orders.list({user_id:cvm.userData.id})\\\" class=\\\"btn btn-primary btn-flat\\\">View Client\\'s Orders</button>&nbsp;&nbsp;</div><div class=\\\"row wrapper border-bottom white-bg page-heading\\\"><h1 ng-if=\\\"!cvm.newUser\\\">Edit User : {{cvm.userData.first_name}} {{cvm.userData.last_name}} - {{cvm.userData.id}}</h1><h1 ng-if=\\\"cvm.newUser\\\">Create New User</h1></div><div class=\\\"wrapper wrapper-content\\\"><div class=\\\"row\\\"><form novalidate=\\\"\\\" ng-submit=\\\"cvm.saveUser()\\\" name=\\\"userDataForm\\\"><div class=\\\"col-md-6\\\"><div class=\\\"ibox ibox-default\\\"><div class=\\\"ibox-title\\\"><h3>Basic Information<div ng-if=\\\"!cvm.newUser\\\" class=\\\"pull-right\\\"><a ng-if=\\\"!cvm.clientEditMode\\\" class=\\\"pull-right fa fa-edit\\\" ng-click=\\\"cvm.beginClientEdit()\\\" href=\\\"#\\\"></a> <a ng-if=\\\"cvm.clientEditMode\\\" class=\\\"pull-right fa fa-save\\\" ng-click=\\\"cvm.saveUser()\\\" href=\\\"#\\\"></a> <a ng-if=\\\"cvm.clientEditMode\\\" class=\\\"pull-right fa fa-undo\\\" ng-click=\\\"cvm.clearClientEdit()\\\" href=\\\"#\\\"></a></div></h3></div><div class=\\\"ibox-content clearfix\\\"><ul class=\\\"list-group jean-list-edit list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\"><b ng-if=\\\"!cvm.clientEditMode\\\">Name</b> <span ng-if=\\\"!cvm.clientEditMode\\\" class=\\\"pull-right\\\">{{cvm.userData.first_name}} {{cvm.userData.last_name}}</span> <b ng-if=\\\"cvm.clientEditMode\\\">First Name</b> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"first_name\\\" ng-if=\\\"cvm.clientEditMode\\\" ng-model=\\\"cvm.userData.first_name\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.first_name.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.first_name.$error.required\\\">Please Enter a First Name</small></div><b ng-if=\\\"cvm.clientEditMode\\\">Last Name</b> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"last_name\\\" ng-if=\\\"cvm.clientEditMode\\\" ng-model=\\\"cvm.userData.last_name\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.last_name.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.last_name.$error.required\\\">Please Enter a Last Name</small></div></li><li class=\\\"list-group-item clearfix\\\"><b>E-mail</b> <span ng-if=\\\"!cvm.clientEditMode\\\" class=\\\"pull-right\\\">{{cvm.userData.email}}</span> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"email\\\" ng-if=\\\"cvm.clientEditMode\\\" ng-model=\\\"cvm.userData.email\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.email.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.email.$error.required\\\">Please Enter an Email Address</small></div></li><li class=\\\"list-group-item clearfix\\\"><b>Phone</b> <span ng-if=\\\"!cvm.clientEditMode\\\" class=\\\"pull-right\\\">{{cvm.userData.phone}}</span> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" ng-if=\\\"cvm.clientEditMode\\\" ng-model=\\\"cvm.userData.phone\\\"></li><li class=\\\"list-group-item clearfix\\\"><b>User Role</b> <span ng-if=\\\"!cvm.clientEditMode\\\" class=\\\"pull-right\\\">{{cvm.userData.role_id}}</span><select class=\\\"form-control\\\" ng-if=\\\"cvm.clientEditMode\\\" ng-options=\\\"o.id as o.name for o in cvm.availableRoles\\\" ng-model=\\\"cvm.userData.role_id\\\"></select></li><li ng-if=\\\"cvm.newUser\\\" class=\\\"list-group-item clearfix\\\"><b>Password</b> <span ng-if=\\\"!cvm.clientEditMode\\\" class=\\\"pull-right\\\">{{cvm.userData.role_id}}</span> <input style=\\\"margin-top:5px\\\" class=\\\"form-control pull-right\\\" type=\\\"password\\\" name=\\\"password\\\" ng-if=\\\"cvm.clientEditMode\\\" ng-model=\\\"cvm.userData.password\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.password.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.password.$error.required\\\">Please Enter a Password</small></div></li></ul></div></div></div><div ng-if=\\\"cvm.newUser\\\" ng-init=\\\"cvm.useAddress=false\\\" class=\\\"col-md-6\\\"><div class=\\\"ibox ibox-default clearfix\\\"><div class=\\\"ibox-title\\\"><h3>Client Address</h3><a ng-if=\\\"!cvm.useAddress\\\" ng-click=\\\"cvm.useAddress=true\\\" href=\\\"\\\">Add Address <i class=\\\"fa fa-plus-circle\\\"></i></a> <a ng-if=\\\"cvm.useAddress\\\" ng-click=\\\"cvm.useAddress=false\\\" href=\\\"\\\">Remove Address <i class=\\\"fa fa-minus-circle\\\"></i></a></div><div class=\\\"ibox-content\\\"><ul ng-if=\\\"cvm.useAddress\\\" class=\\\"list-group list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\"><b>Address Line 1</b> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"address_line_1\\\" ng-model=\\\"cvm.userData.create_addresses[0].address_line_1\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.address_line_1.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.address_line_1.$error.required\\\">Please Enter an Address</small></div></li><li class=\\\"list-group-item clearfix\\\"><b>Address Line 2</b> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"address_line_2\\\" ng-model=\\\"cvm.userData.create_addresses[0].address_line_2\\\"></li><li class=\\\"list-group-item clearfix\\\"><b>City</b> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"city\\\" ng-model=\\\"cvm.userData.create_addresses[0].city\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.city.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.city.$error.required\\\">Please Enter a City</small></div></li><li class=\\\"list-group-item clearfix\\\"><b>State</b><select ng-options=\\\"state.abbreviation as state.name for state in cvm.states\\\" name=\\\"state\\\" ng-model=\\\"cvm.userData.create_addresses[0].state\\\" class=\\\"form-control\\\" required=\\\"\\\"></select><div ng-show=\\\"userDataForm.state.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.state.$error.required\\\">Please Choose a State</small></div></li><li class=\\\"list-group-item clearfix\\\"><b>Zip</b> <input style=\\\"margin-top:5px\\\" class=\\\"form-control\\\" type=\\\"text\\\" ng-model=\\\"cvm.userData.create_addresses[0].zip\\\" name=\\\"zip\\\" required=\\\"\\\"><div ng-show=\\\"userDataForm.zip.$invalid && userDataForm.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"userDataForm.zip.$error.required\\\">Please Enter a Zip Code</small></div></li></ul></div></div></div><div ng-if=\\\"!cvm.newUser\\\" class=\\\"col-md-6\\\"><div class=\\\"ibox ibox-default clearfix\\\"><div class=\\\"ibox-title\\\"><h3>Address <a class=\\\"pull-right fa fa-edit\\\" ng-click=\\\"cvm.editAddress()\\\" href=\\\"#\\\"></a></h3></div><div class=\\\"ibox-content\\\"><div class=\\\"clearfix\\\"><p><b>Primary Address</b></p><p ng-repeat=\\\"add in cvm.userData.addresses | filter:{primary:\\'1\\'} | limitTo:1\\\" ng-if=\\\"cvm.userData.addresses.length\\\">{{add.address_line_1}}<br>{{add.address_line_2}}<br ng-if=\\\"add.address_line_2.length\\\">{{add.city}}, {{add.state}} {{add.zip}}</p><a href=\\\"\\\" ng-click=\\\"cvm.editAddress()\\\" ng-if=\\\"!cvm.userData.addresses.length\\\">Add an address</a></div></div></div><div class=\\\"ibox ibox-default clearfix\\\"><div class=\\\"ibox-title\\\"><h3>Cards on File</h3></div><div class=\\\"ibox-content\\\" ng-init=\\\"cvm.addingCard=false;\\\"><div class=\\\"clearfix\\\"><p ng-if=\\\"!cvm.cardsSearched\\\">Looking for Credit Cards...</p><p ng-if=\\\"cvm.cardsSearched && cvm.userData.cards.length < 1\\\">No Credit Cards on file.</p><p ng-if=\\\"!cvm.addingCard\\\" ng-repeat=\\\"cc in cvm.userData.cards\\\"><span style=\\\"width:45px; display:inline-block; font-weight:700;\\\">{{cc.brand | ccName}}</span> - &nbsp;&nbsp;**** **** **** {{cc.last_4}}</p></div><a href=\\\"\\\" ng-click=\\\"cvm.addingCard=true\\\" ng-if=\\\"!cvm.addingCard\\\">Add a Credit Card</a><div ng-if=\\\"cvm.addingCard\\\"><sq-payment-form nonce-received-callback=\\\"cvm.createCreditCard\\\"></sq-payment-form></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/clients/clients.html\",\"<div class=\\\"clients-page clients-edit-page\\\" ng-controller=\\\"ClientsController as cvm\\\"><div class=\\\"row wrapper border-bottom white-bg page-heading\\\"><h2>Clients</h2></div><div class=\\\"wrapper wrapper-content animated fadeInRight\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"ibox float-e-margins\\\"><div class=\\\"ibox-title\\\"><h3>Filters</h3></div><div class=\\\"ibox-content\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-4\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"first_name\\\">First Name</label> <input type=\\\"text\\\" ng-model=\\\"cvm.filters.first_name\\\" id=\\\"first_name\\\" name=\\\"first_name\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-sm-4\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"first_name\\\">Last Name</label> <input type=\\\"text\\\" ng-model=\\\"cvm.filters.last_name\\\" id=\\\"last_name\\\" name=\\\"last_name\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-sm-4\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"first_name\\\">E-mail</label> <input type=\\\"text\\\" ng-model=\\\"cvm.filters.email\\\" id=\\\"email\\\" name=\\\"email\\\" class=\\\"form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-4\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"city\\\">City</label> <input type=\\\"text\\\" ng-model=\\\"cvm.filters.city\\\" id=\\\"city\\\" name=\\\"city\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-sm-4\\\"><div class=\\\"form-group\\\"><label>State</label><select ng-options=\\\"o.abbreviation as o.name for o in cvm.states\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"cvm.filters.state\\\"></select></div></div><div class=\\\"col-sm-4\\\"><div class=\\\"form-group\\\"><label>Results per page</label><select ng-options=\\\"o as o for o in [1,3,10,25,50,100]\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"cvm.filters.results_per_page\\\"></select></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-3 pull-right\\\"><button class=\\\"btn btn-flat btn-primary btn-block\\\" ng-click=\\\"cvm.newQuery()\\\"><i class=\\\"fa fa-filter\\\"></i> Filter</button></div></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"ibox float-e-margins\\\"><div class=\\\"ibox-title\\\"><h3>Client list</h3></div><div class=\\\"no-padding ibox-content\\\"><table class=\\\"cft-table table table-hover\\\"><thead><tr><th>ID</th><th>First Name<sorter change=\\\"cvm.changeSort\\\" orderby=\\\"cvm.filters.orderby\\\" order=\\\"cvm.filters.order\\\" column=\\\"\\'first_name\\'\\\"></sorter></th><th>Last Name<sorter change=\\\"cvm.changeSort\\\" orderby=\\\"cvm.filters.orderby\\\" order=\\\"cvm.filters.order\\\" column=\\\"\\'last_name\\'\\\"></sorter></th><th>Email<sorter change=\\\"cvm.changeSort\\\" orderby=\\\"cvm.filters.orderby\\\" order=\\\"cvm.filters.order\\\" column=\\\"\\'email\\'\\\"></sorter></th><th>Phone Number</th><th>City</th><th>State</th><th width=\\\"40\\\">Delete</th></tr></thead><tbody><tr ng-repeat=\\\"user in cvm.users | limitTo : cvm.pagination.usersPerPage : cvm.pagination.startIndex\\\"><td><strong><a ui-sref=\\\"clients.edit({clientId: user.id})\\\">{{user.id}}</a></strong></td><td>{{user.first_name}}</td><td>{{user.last_name}}</td><td>{{user.email}}</td><td>{{user.phone}}</td><td>{{user.address.city}}</td><td>{{user.address.state}}</td><td><a href=\\\"#\\\" class=\\\"warning\\\" ng-click=\\\"cvm.deleteUser(user.id)\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table><pagination total=\\\"cvm.pagination.total\\\" ,=\\\"\\\" current=\\\"cvm.pagination.current\\\" change=\\\"cvm.changePage\\\"></pagination></div></div></div></div></div></div>\");\n$templateCache.put(\"app/forgot_password/forgot_password.html\",\"<div class=\\\"passwordBox animated fadeInDown\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"ibox-content\\\"><h2 class=\\\"font-bold\\\">Forgot password</h2><p>Enter your email address and your password will be reset and emailed to you.</p><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form class=\\\"m-t\\\" role=\\\"form\\\" action=\\\"index.html\\\"><div class=\\\"form-group\\\"><input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"Email address\\\" required=\\\"\\\"></div><button type=\\\"submit\\\" class=\\\"btn btn-primary block full-width m-b\\\">Send new password</button></form></div></div></div></div></div><a ui-sref=\\\"login\\\" href=\\\"/login\\\"><small>Remembered password?</small></a></div>\");\n$templateCache.put(\"app/fitmatch/fitmatch-edit.html\",\"<div class=\\\"order-page orders-edit-page\\\"><toaster-container></toaster-container><div class=\\\"row wrapper border-bottom white-bg page-heading\\\"><div id=\\\"form-control-buttons\\\" class=\\\"pull-right\\\" style=\\\"margin-top:20px;\\\"><button ng-click=\\\"vm.saveFM()\\\" class=\\\"btn btn-primary btn-success\\\"><span ng-if=\\\"!vm.newFM\\\">Save</span><span ng-if=\\\"vm.newFM\\\">Create</span></button> <button ng-click=\\\"vm.orderFM()\\\" ng-if=\\\"!vm.newFM\\\" ng-class=\\\"{disabled:vm.fmData.ordered_at}\\\" class=\\\"btn btn-primary btn-flat\\\"><span ng-if=\\\"!vm.fmData.ordered_at\\\">Create Order</span> <span ng-if=\\\"vm.fmData.ordered_at\\\">Already Ordered</span></button> <button ng-click=\\\"vm.deleteFM()\\\" ng-if=\\\"!vm.newFM\\\" class=\\\"btn btn-primary btn-danger\\\">Delete</button></div><h1 ng-if=\\\"!vm.newFitMatch\\\">Fit Match {{vm.fmData.id}}</h1><h1 ng-if=\\\"vm.newFitMatch\\\">Create New Fit Match Request</h1></div><div class=\\\"wrapper wrapper-content\\\"><div class=\\\"row\\\"><form name=\\\"f.fmForm\\\"><div class=\\\"col-md-6\\\"><div class=\\\"ibox\\\" ng-click=\\\"primaryBox=1\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==1}\\\"><div class=\\\"ibox-title\\\"><h3>Client</h3></div><div class=\\\"ibox-content ibox-profile\\\"><a ng-if=\\\"!vm.fmData.user\\\" href=\\\"\\\" ng-click=\\\"vm.editUser()\\\" class=\\\"btn btn-flat btn-primary btn-block\\\">Add a Client</a><input type=\\\"hidden\\\" name=\\\"user_id\\\" ng-model=\\\"vm.fmData.user.id\\\" required=\\\"\\\"> <small ng-show=\\\"f.fmForm.submitted && f.fmForm.user_id.$error.required\\\" class=\\\"text-danger\\\">Please Choose a Client</small><ul ng-if=\\\"vm.fmData.user.id\\\" class=\\\"list-group list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\"><b>Customer</b><div class=\\\"pull-right\\\"><a ui-sref=\\\"clients.edit({clientId: vm.fmData.user.id})\\\">{{vm.fmData.user.first_name}} {{vm.fmData.user.last_name}}</a> &nbsp;&nbsp;<a ng-click=\\\"vm.editUser()\\\"><i class=\\\"fa fa-edit\\\"></i></a></div></li><li class=\\\"list-group-item clearfix\\\"><b>Email</b> <a href=\\\"mailto:{{vm.fmData.user.email}}\\\" class=\\\"pull-right\\\">{{vm.fmData.user.email}}</a></li><li class=\\\"list-group-item clearfix\\\"><p><b>Shipping Address</b><a class=\\\"pull-right fa fa-edit\\\" ng-click=\\\"vm.editAddress(\\'Shipping\\', \\'fa-truck\\')\\\" href=\\\"#\\\"></a></p><p ng-if=\\\"vm.fmData.address\\\">{{vm.fmData.user.first_name}} {{vm.fmData.user.last_name}}<br>{{vm.fmData.address.address_line_1}}<br>{{vm.fmData.address.address_line_2}}<br ng-if=\\\"vm.fmData.address.addressLine2 && vm.fmData.address.addressLine2!=\\'\\'\\\">{{vm.fmData.address.city}}, {{vm.fmData.address.state}} {{vm.fmData.address.zip}}</p><a ng-if=\\\"!vm.fmData.address\\\" ng-click=\\\"vm.editAddress(\\'Shipping\\', \\'fa-truck\\')\\\" href=\\\"\\\">Add Address</a><input type=\\\"hidden\\\" ng-model=\\\"vm.fmData.shipping_address_id\\\" name=\\\"shipping_address_id\\\" required=\\\"\\\"><br ng-if=\\\"f.fmForm.submitted && f.fmForm.shipping_address_id.$error.required\\\"><small ng-show=\\\"f.fmForm.submitted && f.fmForm.shipping_address_id.$error.required\\\" class=\\\"text-danger\\\">Please Choose a Shipping Address</small></li><li class=\\\"list-group-item clearfix\\\"><div class=\\\"form-group\\\"><label>Shipping Phone Number:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"vm.fmData.shipping_phone\\\" aria-invalid=\\\"false\\\"></div></li></ul><p class=\\\"list-group-item clearfix\\\"></p><p><b>Payment Info</b></p><p ng-if=\\\"vm.fmData.primary_card\\\"><span style=\\\"width:45px; display:inline\\\">{{vm.fmData.primary_card.brand | ccName}}</span> - &nbsp;&nbsp;**** **** **** {{vm.fmData.primary_card.last_4}}</p><p><b>If customer did not return fit match box, charge card on file and cancel the order</b></p><p ng-if=\\\"vm.pullingCards\\\">Getting Credit Card info...</p><a ng-class=\\\"{\\'disabled\\':vm.pullingCards}\\\" style=\\\"margin-bottom:5px\\\" href=\\\"#\\\" ng-click=\\\"vm.captureCC()\\\" class=\\\"btn btn-flat btn-success btn-primary\\\"><b ng-if=\\\"!vm.fmData.credit_card_id\\\">Save/Charge Credit Card</b> <b ng-if=\\\"vm.fmData.credit_card_id\\\">Edit/Charge Credit Card</b></a> <input type=\\\"hidden\\\" ng-model=\\\"vm.fmData.credit_card_id\\\" name=\\\"credit_card_id\\\" required=\\\"\\\"><br ng-if=\\\"f.fmForm.submitted && f.fmForm.credit_card_id.$error.required\\\"><small ng-show=\\\"f.fmForm.submitted && f.fmForm.credit_card_id.$error.required\\\" class=\\\"text-danger\\\">Please enter a Credit Card</small></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"ibox clearfix\\\" ng-click=\\\"primaryBox=2\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==2}\\\"><div class=\\\"ibox-title\\\"><h3>Package Details<div class=\\\"pull-right\\\" ng-if=\\\"!vm.newFM\\\"><a ng-if=\\\"!vm.EditMode\\\" class=\\\"fa fa-edit\\\" ng-click=\\\"vm.beginEdit()\\\" href=\\\"#\\\"></a> <a ng-if=\\\"vm.EditMode\\\" class=\\\"fa fa-save\\\" ng-click=\\\"vm.saveFM(); vm.EditMode=false\\\" href=\\\"#\\\"></a> <a ng-if=\\\"vm.EditMode\\\" class=\\\"fa fa-undo\\\" ng-click=\\\"vm.clearEdit()\\\" href=\\\"#\\\"></a></div></h3></div><div class=\\\"clearfix ibox-content\\\"><label class=\\\"control-label\\\">Requested Fabrics</label><ul class=\\\"list-group jean-list-edit list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\" ng-repeat=\\\"fabric_id in vm.fmData.requested_fabric_ids track by $index\\\">{{vm.fabric_list_item_name(fabric_id)}} <a ng-if=\\\"vm.EditMode\\\" class=\\\"pull-right\\\" ng-click=\\\"vm.removeFabric($index)\\\"><i class=\\\"fa fa-close\\\"></i></a></li></ul><div ng-if=\\\"vm.EditMode && vm.fmData.requested_fabric_ids.length<10\\\" class=\\\"clearfix\\\"><select class=\\\"form-control pull-right\\\" style=\\\"width:100%; margin-top:10px;\\\" ng-options=\\\"fabric.id as vm.fabric_list_item_name(fabric.id) group by fabric.fabric_type disable when vm.fmData.requested_fabric_ids.indexOf(fabric.id) > -1 for fabric in vm.data.fabrics | orderBy:[\\'-deleted_at\\',\\'fabric_type\\']\\\" ng-model=\\\"vm.fabric_id_to_add\\\"></select><a ng-click=\\\"vm.fmData.requested_fabric_ids.push(vm.fabric_id_to_add)\\\" style=\\\"margin-top:10px; margin-bottom:10px;\\\" class=\\\"btn btn-flat btn-primary btn-success pull-right\\\">Add Fabric</a></div><ul class=\\\"list-group jean-list-edit list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\"><div class=\\\"form-group\\\"><label>Package Shipped:</label><div class=\\\"input-group date\\\"><span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-calendar\\\"></i></span> <input type=\\\"datetime\\\" class=\\\"form-control\\\" ng-model=\\\"vm.fmData.shipped_date\\\" date-time=\\\"\\\" view=\\\"date\\\" auto-close=\\\"true\\\" min-view=\\\"date\\\" format=\\\"YYYY-MM-DD\\\"></div></div></li><li class=\\\"list-group-item clearfix\\\"><div class=\\\"form-group\\\"><label>Form Received:</label><div class=\\\"input-group date\\\"><span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-calendar\\\"></i></span> <input type=\\\"datetime\\\" class=\\\"form-control\\\" ng-model=\\\"vm.fmData.form_received_date\\\" date-time=\\\"\\\" view=\\\"date\\\" auto-close=\\\"true\\\" min-view=\\\"date\\\" format=\\\"YYYY-MM-DD\\\"></div></div></li></ul><br><label>Status:</label><p ng-if=\\\"vm.fmData.shipped_date==null && vm.fmData.form_received_date==null&& vm.paid_at==null\\\">Requested</p><p ng-if=\\\"vm.fmData.shipped_date && vm.fmData.form_received_date==null&& vm.paid_at==null\\\">Shipped</p><p ng-if=\\\"vm.fmData.shipped_date && vm.fmData.form_received_date && vm.fmData.ordered_at==null&& vm.paid_at==null\\\">Form Received</p><p ng-if=\\\"vm.fmData.shipped_date && vm.fmData.form_received_date && vm.fmData.ordered_at && vm.paid_at==null\\\">Order Created</p><p ng-if=\\\"vm.fmData.paid_at\\\">Canceled</p>{{vm.form_received_date}}</div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/fitmatch/fitmatch.html\",\"<div><div class=\\\"fitmatch-page fitmatch-list-page row wrapper border-bottom white-bg page-heading\\\"><h2>Fit Match Requests</h2></div><div class=\\\"wrapper wrapper-content animated fadeInRight\\\"><div class=\\\"row\\\"><div class=\\\"ibox\\\" ng-click=\\\"primaryBox=1\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==1}\\\"><div class=\\\"ibox-title\\\"><h3>Filters</h3></div><div class=\\\"ibox-content\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"order_id\\\">Fit Match ID</label> <input type=\\\"text\\\" ng-model=\\\"vm.filters.id\\\" id=\\\"order_id\\\" name=\\\"order_id\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"order_id\\\">Status</label><select ng-options=\\\"o as o for o in [\\'All\\', \\'Requested\\', \\'Shipped\\', \\'Form Received\\', \\'Ordered\\']\\\" ng-model=\\\"vm.filters.fm_status\\\" id=\\\"fm_status\\\" name=\\\"fm_status\\\" class=\\\"form-control\\\"></select></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Date Range</label> <input date-range-picker=\\\"\\\" class=\\\"form-control date-picker\\\" type=\\\"text\\\" ng-model=\\\"vm.dateRange\\\"></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Results per page</label><select ng-options=\\\"o as o for o in [1,3,10,25,50,100]\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"vm.filters.results_per_page\\\"></select></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-3 pull-right\\\"><button class=\\\"btn btn-flat btn-primary btn-block\\\" ng-click=\\\"vm.newQuery()\\\"><i class=\\\"fa fa-filter\\\"></i> Filter</button></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"ibox float-e-margins\\\" ng-click=\\\"primaryBox=2\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==2}\\\"><div class=\\\"ibox-title\\\"><h3>Fit Match Request List</h3></div><div class=\\\"no-padding ibox-content\\\"><table ng-if=\\\"vm.fitmatchreqs.length\\\" class=\\\"table cft-table table-hover\\\"><thead><tr><th>ID</th><th>Customer</th><th>Request Placed<sorter change=\\\"vm.changeSort\\\" orderby=\\\"vm.filters.orderby\\\" order=\\\"vm.filters.order\\\" column=\\\"\\'created_at\\'\\\"></sorter></th><th>Status<sorter change=\\\"vm.changeSort\\\" orderby=\\\"vm.filters.orderby\\\" order=\\\"vm.filters.order\\\" column=\\\"\\'fm_status\\'\\\"></sorter></th><th width=\\\"40\\\">Delete</th></tr></thead><tbody><tr ng-repeat=\\\"fmrq in vm.fitmatchreqs\\\"><td><strong><a ui-sref=\\\"fitmatch.edit({fmId: fmrq.id})\\\">{{fmrq.id}}</a></strong></td><td>{{fmrq.user.first_name}} {{fmrq.user.last_name}}</td><td>{{vm.formatDate(fmrq.created_at)}}</td><td><label class=\\\"label label-{{fmrq.fm_status | spaceless }}\\\">{{fmrq.fm_status}}</label></td><td><a href=\\\"#\\\" class=\\\"warning\\\" ng-click=\\\"vm.deleteFM(fmrq.id)\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table><div class=\\\"pagination full-width text-center\\\" width=\\\"100%\\\" ng-if=\\\"vm.pagination.next || vm.pagination.prev\\\"><div class=\\\"btn-group\\\"><button ng-if=\\\"vm.pagination.prev\\\" ng-click=\\\"vm.pagination.changePage(\\'prev\\')\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\"><i class=\\\"fa fa-chevron-left\\\"></i></button> <button ng-if=\\\"vm.pagination.next\\\" ng-click=\\\"vm.pagination.changePage(\\'next\\')\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\"><i class=\\\"fa fa-chevron-right\\\"></i></button></div></div><pagination total=\\\"vm.pagination.total\\\" current=\\\"vm.pagination.current\\\" change=\\\"vm.changePage\\\"></pagination></div></div></div></div></div>\");\n$templateCache.put(\"app/orders/orders-callback.html\",\"\");\n$templateCache.put(\"app/orders/orders-edit.html\",\"<div class=\\\"order-page orders-edit-page\\\"><toaster-container></toaster-container><div class=\\\"row wrapper border-bottom white-bg page-heading\\\"><div id=\\\"form-control-buttons\\\" class=\\\"pull-right\\\" style=\\\"margin-top:20px;\\\"><button ng-click=\\\"ovm.saveOrder()\\\" class=\\\"btn btn-primary btn-success\\\"><span ng-if=\\\"!ovm.newOrder\\\">Save</span><span ng-if=\\\"ovm.newOrder\\\">Create</span></button>&nbsp;&nbsp; <button ng-click=\\\"ovm.reOrder()\\\" ng-if=\\\"!ovm.newOrder\\\" class=\\\"btn btn-primary btn-flat\\\">Re-Order</button>&nbsp;&nbsp; <button ng-click=\\\"ovm.deleteThisOrder()\\\" ng-if=\\\"!ovm.newOrder\\\" class=\\\"btn btn-primary btn-danger\\\">Delete</button></div><h1 ng-if=\\\"!ovm.newOrder\\\">Order {{ovm.order.id}}</h1><h1 ng-if=\\\"ovm.newOrder\\\">Create New Order</h1></div><div class=\\\"wrapper wrapper-content\\\"><div class=\\\"row\\\"><form name=\\\"f.orderForm\\\"><div class=\\\"col-md-3\\\"><div class=\\\"ibox\\\" ng-click=\\\"primaryBox=1\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==1}\\\"><div class=\\\"ibox-title\\\"><h3>Jean Name: <span ng-if=\\\"!ovm.EditMode\\\">{{ovm.order.order_items[0].jean_name}}</span> <input type=\\\"text\\\" ng-if=\\\"ovm.EditMode\\\" style=\\\"width:100%; margin-top:5px;\\\" class=\\\"form-control\\\" ng-model=\\\"ovm.order.order_items[0].jean_name\\\"></h3></div><div class=\\\"ibox-content ibox-profile\\\"><img ng-if=\\\"ovm.order.order_items[0].jean_image_url\\\" width=\\\"100%\\\" ng-src=\\\"{{ovm.order.order_items[0].jean_image_url}}\\\"><a ng-if=\\\"!ovm.orderUser\\\" href=\\\"\\\" ng-click=\\\"ovm.editUser()\\\" class=\\\"btn btn-flat btn-primary btn-block\\\">Add a Client</a><input type=\\\"hidden\\\" name=\\\"user_id\\\" ng-model=\\\"ovm.orderUser.id\\\" required=\\\"\\\"> <small ng-show=\\\"f.orderForm.submitted && f.orderForm.user_id.$error.required\\\" class=\\\"text-danger\\\">Please Choose a Client</small><ul ng-if=\\\"ovm.orderUser.id\\\" class=\\\"list-group list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\"><b>Customer</b><div class=\\\"pull-right\\\"><a ui-sref=\\\"clients.edit({clientId: ovm.orderUser.id})\\\">{{ovm.orderUser.first_name}} {{ovm.orderUser.last_name}}</a> &nbsp;&nbsp;<a ng-click=\\\"ovm.editUser()\\\"><i class=\\\"fa fa-edit\\\"></i></a></div></li><li class=\\\"list-group-item clearfix\\\"><b>Email</b> <a href=\\\"mailto:{{ovm.orderUser.email}}\\\" class=\\\"pull-right\\\">{{ovm.orderUser.email}}</a></li><li class=\\\"list-group-item clearfix\\\"><p><b>Shipping Address</b><a class=\\\"pull-right fa fa-edit\\\" ng-click=\\\"ovm.editAddress(\\'Shipping\\', \\'fa-truck\\')\\\" href=\\\"#\\\"></a></p><p ng-if=\\\"ovm.order.address\\\">{{ovm.order.shipping_name}}<br ng-if=\\\"ovm.order.shipping_name\\\">{{ovm.order.shipping_phone | tel}}<br ng-if=\\\"ovm.order.shipping_phone\\\">{{ovm.order.address.address_line_1}} {{ovm.order.address.address_line_2}}<br ng-if=\\\"ovm.order.address.addressLine2 && ovm.order.address.addressLine2!=\\'\\'\\\">{{ovm.order.address.city}}, {{ovm.order.address.state}} {{ovm.order.address.zip}}</p><a ng-if=\\\"!ovm.order.address\\\" ng-click=\\\"ovm.editAddress(\\'Shipping\\', \\'fa-truck\\')\\\" href=\\\"\\\">Add Address</a><input type=\\\"hidden\\\" ng-model=\\\"ovm.order.shipping_address_id\\\" name=\\\"shipping_address_id\\\" ng-required=\\\"ovm.newOrder\\\"><br ng-if=\\\"ovm.newOrder && f.orderForm.submitted && f.orderForm.shipping_address_id.$error.required\\\"><small ng-show=\\\"f.orderForm.submitted && f.orderForm.shipping_address_id.$error.required\\\" class=\\\"text-danger\\\">Please Choose a Shipping Address</small></li><li class=\\\"list-group-item clearfix\\\"><div class=\\\"form-group\\\"><label>Shipping Phone Number:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.order.shipping_phone\\\" aria-invalid=\\\"false\\\"></div></li><li ng-if=\\\"!ovm.newOrder\\\" class=\\\"list-group-item clearfix\\\"><p><b>Payment Status</b></p><input type=\\\"hidden\\\" name=\\\"payment_status_id\\\" id=\\\"payment_status_id\\\" ng-model=\\\"vm.order.payment_status_id\\\"> <small ng-show=\\\"f.orderForm.submitted && f.orderForm.payment_status_id.$error.required\\\" class=\\\"text-danger\\\">Please Choose a Payment Method</small><p class=\\\"payment_class_{{ovm.order.payment_status_id}}\\\">{{ovm.data.lookup(\\\"payment_statuses\\\", \\\"id\\\", ovm.order.payment_status_id, \\\"label\\\")}} <span ng-if=\\\"ovm.order.payment_status_id==1&&!ovm.order.price\\\" class=\\\"payment-message\\\">To charge the client, first enter a price</span></p><div ng-if=\\\"ovm.order.payment_status_id==1 && ovm.order.price && ovm.order.price!=\\'Please enter a valid price\\'\\\"><a style=\\\"margin-bottom:5px\\\" href=\\\"#\\\" ng-click=\\\"ovm.sendInvoice()\\\" class=\\\"btn btn-flat btn-primary\\\"><b>Send Invoice</b></a> <a style=\\\"margin-bottom:5px\\\" href=\\\"#\\\" ng-click=\\\"ovm.keyinPayment()\\\" class=\\\"btn btn-flat btn-primary btn-success\\\"><b>Key In Payment</b></a> <a style=\\\"margin-bottom:5px\\\" class=\\\"btn btn-primary btn-success\\\" ng-if=\\\"ovm.squareLink\\\" ng-href=\\\"{{ovm.squareLink}}\\\">Swipe Card</a> <a style=\\\"margin-bottom:5px\\\" href=\\\"#\\\" ng-click=\\\"ovm.compOrder()\\\" class=\\\"btn btn-flat btn-warning\\\"><b>Comp Order</b></a></div></li></ul></div></div></div><div class=\\\"col-md-9\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"ibox clearfix\\\" ng-click=\\\"primaryBox=2\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==2}\\\"><div class=\\\"ibox-title\\\"><h3>Jean Build {{ovm.data.genders}}<div class=\\\"pull-right\\\" ng-if=\\\"!ovm.newOrder\\\"><a ng-if=\\\"!ovm.EditMode\\\" class=\\\"fa fa-edit\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" href=\\\"#\\\"></a> <a ng-if=\\\"ovm.EditMode\\\" class=\\\"fa fa-save\\\" ng-click=\\\"ovm.saveOrder(); ovm.EditMode=false\\\" href=\\\"#\\\"></a> <a ng-if=\\\"ovm.EditMode\\\" class=\\\"fa fa-undo\\\" ng-click=\\\"ovm.clearJeanEdit()\\\" href=\\\"#\\\"></a></div></h3></div><div class=\\\"ibox-content\\\"><ul class=\\\"list-group jean-list-edit list-group-unbordered\\\"><li class=\\\"list-group-item clearfix\\\"><b>Gender</b> <span ng-if=\\\"!ovm.EditMode\\\" class=\\\"pull-right\\\" ng-click=\\\"ovm.beginJeanEdit()\\\">{{ovm.data.lookup(\\\"gender_options\\\", \\\"id\\\", ovm.order.order_items[0].gender_option_id, \\\"gender\\\") }}</span><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-model=\\\"ovm.order.order_items[0].gender_option_id\\\" ng-options=\\\"g.id as g.gender for g in ovm.data.gender_options\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Style</b> <span ng-click=\\\"ovm.beginJeanEdit()\\\" ng-if=\\\"!ovm.EditMode\\\" class=\\\"pull-right\\\">{{ovm.data.lookup(\\\"style_options\\\", \\\"id\\\", ovm.order.order_items[0].style_option_id, \\\"name\\\") }}</span><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-model=\\\"ovm.order.order_items[0].style_option_id\\\" ng-options=\\\"style.id as style.name for style in ovm.data.style_options\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Fabric</b> <span ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\">{{ovm.data.lookup(\\\"fabrics\\\", \\\"id\\\", ovm.order.order_items[0].fabric_id, \\\"name\\\") }}</span><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-options=\\\"fabric.id as ovm.fabric_list_item_name(fabric.id) group by fabric.fabric_type for fabric in ovm.data.fabrics | orderBy:[\\'-deleted_at\\',\\'fabric_type\\']\\\" ng-model=\\\"ovm.order.order_items[0].fabric_id\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Top Thread</b> <span ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\">{{ovm.data.lookup(\\\"threads\\\", \\\"id\\\", ovm.order.order_items[0].top_thread_id, \\\"name\\\") }}</span><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-options=\\\"thread.id as thread.name for thread in ovm.data.threads\\\" ng-model=\\\"ovm.order.order_items[0].top_thread_id\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Bottom Thread</b> <span ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\">{{ovm.data.lookup(\\\"threads\\\", \\\"id\\\", ovm.order.order_items[0].bottom_thread_id, \\\"name\\\") }}</span><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-options=\\\"thread.id as thread.name for thread in ovm.data.threads\\\" ng-model=\\\"ovm.order.order_items[0].bottom_thread_id\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Accent Thread</b> <span ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\">{{ovm.data.lookup(\\\"threads\\\", \\\"id\\\", ovm.order.order_items[0].accent_thread_id, \\\"name\\\") }}</span><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-options=\\\"thread.id as thread.name for thread in ovm.data.threads\\\" ng-model=\\\"ovm.order.order_items[0].accent_thread_id\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Desired Fit</b><div ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\"><span ng-if=\\\"ovm.order.order_items[0].fit_option_id\\\">{{ovm.data.lookup(\\\"fit_options\\\", \\\"id\\\", ovm.order.order_items[0].fit_option_id, \\\"name\\\") }}</span> <a ng-if=\\\"!ovm.order.order_items[0].fit_option_id\\\" href=\\\"\\\">Select</a></div><select ng-if=\\\"ovm.EditMode\\\" class=\\\"form-control pull-right\\\" ng-model=\\\"ovm.order.order_items[0].fit_option_id\\\" ng-options=\\\"fit.id as fit.name for fit in ovm.data.fit_options\\\"><option value=\\\"\\\">None</option></select></li><li class=\\\"list-group-item clearfix\\\"><b>Rivets</b><div ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\"><span ng-if=\\\"ovm.order.order_items[0].hardware_option_id\\\">{{ovm.data.lookup(\\\"hardware_options\\\", \\\"id\\\", ovm.order.order_items[0].hardware_option_id, \\\"name\\\")}}</span> <a ng-if=\\\"!ovm.order.order_items[0].hardware_option_id\\\" href=\\\"\\\">Select</a></div><select ng-if=\\\"ovm.EditMode\\\" class=\\\"form-control pull-right\\\" ng-model=\\\"ovm.order.order_items[0].hardware_option_id\\\" ng-options=\\\"o.id as o.name for o in ovm.data.hardware_options\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Pocket Option</b><div ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\"><span ng-if=\\\"ovm.order.order_items[0].pocket_option_id\\\">{{ovm.data.lookup(\\\"pocket_options\\\", \\\"id\\\", ovm.order.order_items[0].pocket_option_id, \\\"label\\\")}}</span> <a ng-if=\\\"!ovm.order.order_items[0].pocket_option_id\\\" href=\\\"\\\">Select</a></div><select ng-if=\\\"ovm.EditMode\\\" class=\\\"form-control pull-right\\\" ng-model=\\\"ovm.order.order_items[0].pocket_option_id\\\" ng-options=\\\"o.id as o.label for o in ovm.data.pocket_options\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Belt Loops</b><div ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\"><span ng-if=\\\"ovm.order.order_items[0].belt_loop_option_id\\\">{{ovm.data.lookup(\\\"belt_loop_options\\\", \\\"id\\\", ovm.order.order_items[0].belt_loop_option_id, \\\"label\\\")}}</span> <a ng-if=\\\"!ovm.order.order_items[0].belt_loop_option_id\\\" href=\\\"\\\">Select</a></div><select ng-if=\\\"ovm.EditMode\\\" class=\\\"form-control pull-right\\\" ng-options=\\\"o.id as o.label for o in ovm.data.belt_loop_options\\\" ng-model=\\\"ovm.order.order_items[0].belt_loop_option_id\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Monogram</b><div ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\"><span ng-if=\\\"ovm.order.order_items[0].monogram\\\">{{ovm.order.order_items[0].monogram}}</span> <a ng-if=\\\"!ovm.order.order_items[0].monogram\\\" href=\\\"\\\">Add</a></div><input type=\\\"text\\\" ng-if=\\\"ovm.EditMode\\\" style=\\\"width:200px;\\\" maxlength=\\\"3\\\" class=\\\"form-control pull-right\\\" ng-model=\\\"ovm.order.order_items[0].monogram\\\"></li><li class=\\\"list-group-item clearfix\\\" ng-if=\\\"ovm.order.order_items[0].monogram\\\"><b>Monogram Stitch Color</b><div ng-if=\\\"!ovm.EditMode\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\"><span ng-if=\\\"ovm.order.order_items[0].monogram_thread_id\\\">{{ovm.data.lookup(\\\"threads\\\", \\\"id\\\", ovm.order.order_items[0].monogram_thread_id, \\\"name\\\") }}</span> <a ng-if=\\\"!ovm.order.order_items[0].monogram_thread_id\\\" href=\\\"\\\">Select</a></div><select class=\\\"form-control pull-right\\\" ng-if=\\\"ovm.EditMode\\\" ng-options=\\\"thread.id as thread.name for thread in ovm.data.threads\\\" ng-model=\\\"ovm.order.order_items[0].monogram_thread_id\\\"></select></li><li class=\\\"list-group-item clearfix\\\"><b>Notes for Tailor</b> <a ng-if=\\\"!ovm.EditMode && !ovm.order.order_items[0].notes\\\" href=\\\"#\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\">Add</a> <a ng-if=\\\"!ovm.EditMode && ovm.order.order_items[0].notes\\\" href=\\\"#\\\" ng-click=\\\"ovm.beginJeanEdit()\\\" class=\\\"pull-right\\\">Edit</a><p ng-if=\\\"!ovm.EditMode && ovm.order.order_items[0].notes\\\">{{ovm.order.order_items[0].notes}}</p><textarea class=\\\"form-control\\\" ng-if=\\\"ovm.EditMode\\\" ng-model=\\\"ovm.order.order_items[0].notes\\\"></textarea></li></ul></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"ibox\\\" ng-click=\\\"primaryBox=3\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==3}\\\"><div class=\\\"ibox-title with-border\\\"><h3>Order Info</h3></div><div class=\\\"ibox-content clearfix\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">Jean Price</label><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\">$</span> <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"ovm.order.price\\\" ng-blur=\\\"ovm.convertToCurrency()\\\"></div></div><div class=\\\"form-group\\\"><label>Vendor</label><select ng-model=\\\"ovm.order.vendor_id\\\" class=\\\"form-control select2\\\" style=\\\"width: 100%;\\\" ng-options=\\\"vendor.id as vendor.name for vendor in ovm.data.vendors\\\"></select></div><div class=\\\"form-group\\\"><label>Rep</label><select class=\\\"form-control select2\\\" ng-model=\\\"ovm.order.rep_id\\\" style=\\\"width: 100%;\\\" ng-options=\\\"rep.id as rep.name for rep in ovm.data.reps\\\"></select></div><div class=\\\"form-group\\\"><label>Order Type</label><select class=\\\"form-control select2\\\" ng-model=\\\"ovm.order.order_type_id\\\" style=\\\"width: 100%;\\\" ng-options=\\\"type.id as type.name for type in ovm.data.order_types\\\"></select></div><div ng-if=\\\"ovm.order.order_type_id==2\\\" class=\\\"form-group\\\"><label>Tailor Location</label><select class=\\\"form-control select2\\\" ng-model=\\\"ovm.order.tailor_id\\\" style=\\\"width: 100%;\\\" ng-options=\\\"t.id as t.city+\\', \\'+t.state for t in ovm.data.tailors\\\"></select></div><div class=\\\"form-group\\\"><label>Status</label><select class=\\\"form-control select2\\\" ng-options=\\\"status.id as status.name for status in ovm.data.order_statuses\\\" ng-model=\\\"ovm.order.order_status_id\\\" style=\\\"width: 100%;\\\"></select></div><div class=\\\"form-group\\\"><label>Shipping Tracking Link:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.order.tracking\\\"></div><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label>Fitting Date:</label><div class=\\\"input-group date\\\"><span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-calendar\\\"></i></span> <input type=\\\"datetime\\\" class=\\\"form-control\\\" ng-model=\\\"ovm.order.fit_date\\\" date-time=\\\"\\\" view=\\\"date\\\" auto-close=\\\"true\\\" min-view=\\\"date\\\" format=\\\"YYYY-MM-DD\\\"></div></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label>Due Date (DOB):</label><div class=\\\"input-group date-edge-right date\\\"><span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-calendar\\\"></i></span> <input type=\\\"datetime\\\" class=\\\"form-control\\\" ng-model=\\\"ovm.order.due_date\\\" date-time=\\\"\\\" view=\\\"date\\\" auto-close=\\\"true\\\" min-view=\\\"date\\\" format=\\\"YYYY-MM-DD\\\"></div></div></div></div></div></div></div></div></div><div class=\\\"col-md-9 timeline-measurements\\\"><div class=\\\"tabs-container\\\"><uib-tabset active=\\\"\\'timeline\\'\\\"><uib-tab index=\\\"timeline\\\" active=\\\"true\\\" ng-if=\\\"!ovm.newOrder\\\" heading=\\\"Timeline\\\"><div class=\\\"panel-body\\\"><h3>Timeline</h3><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"order_id\\\">Enter Note</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"ovm.timelineForm.message\\\" placeholder=\\\"Add Order Note\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" ng-click=\\\"ovm.addTimelineItem()\\\" class=\\\"btn btn-primary btn-flat\\\">Add</button></span></div></div><div id=\\\"vertical-timeline\\\" class=\\\"vertical-container dark-timeline\\\"><div ng-repeat=\\\"t in ovm.timeline | orderBy: \\'-created_at\\'\\\" class=\\\"vertical-timeline-block\\\"><div class=\\\"vertical-timeline-icon navy-bg\\\"><i class=\\\"fa fa-{{t.type || \\'circle\\'}} bg-gray\\\"></i></div><div class=\\\"vertical-timeline-content\\\"><h3 class=\\\"timeline-header no-border\\\" ng-bind-html=\\\"t.message\\\"></h3><span class=\\\"vertical-date\\\"><span class=\\\"time\\\"><i class=\\\"fa fa-clock-o\\\"></i></span> {{ovm.timeFromNow(t.created_at)}}<br><small>{{ovm.formatDate(t.created_at)}}</small> <small ng-if=\\\"t.user\\\">&nbsp;&nbsp;<i class=\\\"fa fa-user\\\"></i> {{t.user.first_name}} {{t.user.last_name}}</small></span></div></div></div></div></uib-tab><uib-tab index=\\\"measurements\\\" heading=\\\"Measurements\\\"><div class=\\\"panel-body measurements\\\"><h3>Waist</h3><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Waist</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].waist\\\" name=\\\"waist\\\" id=\\\"waist\\\" class=\\\"form-control\\\"></div></div></div><h3>Seat</h3><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Seat Down</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].seat_down\\\" name=\\\"seat_down\\\" id=\\\"seat_down\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Seat Right</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].seat_right\\\" name=\\\"seat_right\\\" id=\\\"seat_right\\\" class=\\\"form-control\\\"></div></div></div><h3>Rise</h3><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Rise</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].rise\\\" name=\\\"rise\\\" id=\\\"rise\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Full Rise</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].full_rise\\\" name=\\\"full_rise\\\" id=\\\"full_rise\\\" class=\\\"form-control\\\"></div></div></div><h3>Thigh</h3><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Thigh Upper Down</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].thigh_upper_down\\\" name=\\\"thigh_upper_down\\\" id=\\\"thigh_upper_down\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Thigh Upper Circumference</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].thigh_upper_right\\\" name=\\\"thigh_upper_right\\\" id=\\\"thigh_upper_right\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Thigh Middle Down</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].thigh_middle_down\\\" name=\\\"thigh_middle_down\\\" id=\\\"thigh_middle_down\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Thigh Middle Circumference</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].thigh_middle_right\\\" name=\\\"thigh_middle_right\\\" id=\\\"thigh_middle_right\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Thigh Lower Down</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].thigh_lower_down\\\" name=\\\"thigh_lower_down\\\" id=\\\"thigh_lower_down\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Thigh Lower Circumference</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].thigh_lower_right\\\" name=\\\"thigh_lower_right\\\" id=\\\"thigh_lower_right\\\" class=\\\"form-control\\\"></div></div></div><h3>Outseam</h3><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Outseam</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].outseam\\\" name=\\\"outseam\\\" id=\\\"outseam\\\" class=\\\"form-control\\\"></div></div></div><h3>Knee</h3><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Knee Up</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].knee_up\\\" name=\\\"knee_up\\\" id=\\\"knee_up\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Knee Right</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].knee_right\\\" name=\\\"knee_right\\\" id=\\\"knee_right\\\" class=\\\"form-control\\\"></div></div></div><h3>Calf</h3><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Calf Up</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].calf_up\\\" name=\\\"calf_up\\\" id=\\\"calf_up\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Calf Right</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].calf_right\\\" name=\\\"calf_right\\\" id=\\\"calf_right\\\" class=\\\"form-control\\\"></div></div></div><h3>Opening</h3><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Leg Opening / Pant Bottom</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].leg_opening\\\" name=\\\"leg_opening\\\" id=\\\"leg_opening\\\" class=\\\"form-control\\\"></div></div></div><h3>Additional Info</h3><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Height</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].height\\\" name=\\\"height\\\" id=\\\"height\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-xs-6\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"customer\\\">Weight</label> <input type=\\\"number\\\" ng-model=\\\"ovm.order.order_items[0].weight\\\" name=\\\"weight\\\" id=\\\"weight\\\" class=\\\"form-control\\\"></div></div></div></div></uib-tab></uib-tabset></div></div></form></div></div></div>\");\n$templateCache.put(\"app/orders/orders.html\",\"<div><div class=\\\"order-page orders-list-page row wrapper border-bottom white-bg page-heading\\\"><h2>Orders</h2></div><div class=\\\"wrapper wrapper-content animated fadeInRight\\\"><div class=\\\"row\\\"><div class=\\\"ibox\\\" ng-click=\\\"primaryBox=1\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==1}\\\"><div class=\\\"ibox-title\\\"><h3>Filters</h3></div><div class=\\\"ibox-content\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\" for=\\\"order_id\\\">Order ID</label> <input type=\\\"text\\\" ng-model=\\\"ovm.filters.id\\\" id=\\\"order_id\\\" name=\\\"order_id\\\" class=\\\"form-control\\\"></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Order Status</label><select ng-options=\\\"s.id as s.name for s in ovm.data.order_statuses\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.filters.order_status_id\\\"><option value=\\\"\\\">All</option></select></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Payment Status</label><select ng-options=\\\"s.id as s.label for s in ovm.data.payment_statuses\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.filters.payment_status_id\\\"><option value=\\\"\\\">All</option></select></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Type</label><select class=\\\"form-control\\\" ng-options=\\\"t.id as t.name for t in ovm.data.order_types\\\" ng-model=\\\"ovm.filters.order_type_id\\\" style=\\\"width: 100%;\\\"><option value=\\\"\\\">All</option></select></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Date Range</label> <input date-range-picker=\\\"\\\" class=\\\"form-control date-picker\\\" type=\\\"text\\\" ng-model=\\\"ovm.dateRange\\\"></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Vendor</label><select class=\\\"form-control\\\" ng-options=\\\"v.id as v.name for v in ovm.data.vendors\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.filters.vendor_id\\\"><option value=\\\"\\\">All</option></select></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Rep</label><select class=\\\"form-control\\\" ng-options=\\\"rep.id as rep.name for rep in ovm.data.reps\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.filters.rep_id\\\"><option value=\\\"\\\">All</option></select></div></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><label>Results per page</label><select ng-options=\\\"o as o for o in [1,3,10,25,50,100]\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"ovm.filters.results_per_page\\\"></select></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-3 pull-right\\\"><button class=\\\"btn btn-flat btn-primary btn-block\\\" ng-click=\\\"ovm.newQuery()\\\"><i class=\\\"fa fa-filter\\\"></i> Filter</button></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"ibox float-e-margins\\\" ng-click=\\\"primaryBox=2\\\" ng-class=\\\"{\\'ibox-primary\\':primaryBox==2}\\\"><div class=\\\"ibox-title\\\"><h3>Orders List</h3></div><div class=\\\"no-padding ibox-content\\\"><table ng-if=\\\"ovm.orders.length\\\" class=\\\"table cft-table table-hover\\\"><thead><tr><th>ID</th><th>Customer</th><th>E-Mail</th><th>Vendor</th><th>Rep</th><th>Order Placed<sorter change=\\\"ovm.changeSort\\\" orderby=\\\"ovm.filters.orderby\\\" order=\\\"ovm.filters.order\\\" column=\\\"\\'created_at\\'\\\"></sorter></th><th>Order Status</th><th>Payment Status</th><th width=\\\"40\\\">Delete</th></tr></thead><tbody><tr ng-repeat=\\\"order in ovm.orders | limitTo : ovm.pagination.ordersPerPage : ovm.pagination.startIndex\\\"><td><strong><a ui-sref=\\\"orders.edit({orderId: order.id})\\\">{{order.id}}</a></strong></td><td>{{order.user.first_name}} {{order.user.last_name}}</td><td>{{order.user.email}}</td><td>{{ovm.data.lookup(\\\"vendors\\\", \\\"id\\\", order.vendor_id, \\\"name\\\") }}</td><td>{{ovm.data.lookup(\\\"reps\\\", \\\"id\\\", order.rep_id, \\\"name\\\") }}</td><td>{{ovm.formatDate(order.created_at)}}</td><td><span class=\\\"label label-{{order.order_status_id}}\\\">{{ovm.data.lookup(\\\"order_statuses\\\", \\\"id\\\", order.order_status_id, \\\"name\\\") }}</span></td><td><span class=\\\"label label-payment-{{order.payment_status_id}}\\\">{{ovm.data.lookup(\\\"payment_statuses\\\", \\\"id\\\", order.payment_status_id, \\\"label\\\") }}</span></td><td><a href=\\\"#\\\" class=\\\"warning\\\" ng-click=\\\"ovm.deleteOrder(order.id)\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table>{{ovm.pagination}}<div class=\\\"pagination full-width text-center\\\" width=\\\"100%\\\" ng-if=\\\"ovm.pagination.next || ovm.pagination.prev\\\"><div class=\\\"btn-group\\\"><button ng-if=\\\"ovm.pagination.prev\\\" ng-click=\\\"ovm.pagination.changePage(\\'prev\\')\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\"><i class=\\\"fa fa-chevron-left\\\"></i></button> <button ng-if=\\\"ovm.pagination.next\\\" ng-click=\\\"ovm.pagination.changePage(\\'next\\')\\\" class=\\\"btn btn-white\\\" type=\\\"button\\\"><i class=\\\"fa fa-chevron-right\\\"></i></button></div></div><pagination total=\\\"ovm.pagination.total\\\" current=\\\"ovm.pagination.current\\\" change=\\\"ovm.changePage\\\"></pagination></div></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"wrapper wrapper-content animated fadeInRight\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"text-center m-t-lg\\\"><h1>{{main.helloText}}</h1><small>{{main.descriptionText}} <i class=\\\"glyphicon glyphicon-pencil\\\"></i></small></div></div></div></div>\");\n$templateCache.put(\"app/login/login.html\",\"<div ng-controller=\\\"LoginController as logvm\\\" class=\\\"middle-box text-center loginscreen animated fadeInDown\\\"><div><div><img width=\\\"100%\\\" src=\\\"assets/images/bd-logo.png\\\"></div><form role=\\\"form\\\" name=\\\"signup_form\\\" novalidate=\\\"\\\" ng-submit=\\\"logvm.signupForm(signup_form)\\\"><div class=\\\"form-group\\\"><input type=\\\"email\\\" placeholder=\\\"Enter email\\\" class=\\\"form-control\\\" name=\\\"email\\\" ng-model=\\\"logvm.email\\\" required=\\\"\\\"><div class=\\\"m-t-xs\\\" ng-show=\\\"signup_form.email.$invalid && signup_form.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"signup_form.email.$error.required\\\">Please enter your email address</small> <small class=\\\"text-danger\\\" ng-show=\\\"signup_form.email.$error.email\\\">Please enter a valid email address</small></div></div><div class=\\\"form-group\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" name=\\\"password\\\" ng-model=\\\"logvm.password\\\" required=\\\"\\\"><div class=\\\"m-t-xs\\\" ng-show=\\\"signup_form.password.$invalid && signup_form.submitted\\\"><small class=\\\"text-danger\\\" ng-show=\\\"signup_form.email.$error.required\\\">Please enter a password</small></div></div><button type=\\\"submit\\\" class=\\\"btn btn-primary block full-width m-b\\\">Login</button></form><div ng-show=\\\"logvm.msg.message\\\" class=\\\"login-message alert {{logvm.msg.type}}\\\">{{logvm.msg.message}}<p></p></div></div></div>\");\n$templateCache.put(\"app/components/address-choice/address.html\",\"<div class=\\\"inmodal\\\"><div class=\\\"modal-header\\\"><h4 class=\\\"modal-title\\\"><i class=\\\"fa {{icon}}\\\" aria-hidden=\\\"true\\\"></i> {{addressType}} Address</h4><small class=\\\"font-bold\\\">Choose from the user\\'s address below or enter a new address.</small></div><div class=\\\"modal-body\\\"><div class=\\\"addresses\\\"><div class=\\\"single-address\\\" ng-repeat=\\\"add in addresses\\\"><div class=\\\"radio radio-primary\\\"><input type=\\\"radio\\\" id=\\\"address_{{add.id}}\\\" ng-value=\\\"add.id\\\" ng-model=\\\"a.selected\\\" ng-click=\\\"newAdd.editing=false\\\"> <label for=\\\"address_{{add.id}}\\\">{{add.address_line_1}}<br ng-if=\\\"add.address_line_2\\\">{{add.address_line_2}}<br>{{add.city}}, {{add.state}} {{add.zip}}</label></div><hr></div><div class=\\\"radio radio-primary\\\"><input name=\\\"newAdd_toggle\\\" id=\\\"newAdd_toggle\\\" type=\\\"radio\\\" ng-click=\\\"newAdd.editing=true; a.selected=null\\\" ng-checked=\\\"newAdd.editing\\\"> <label for=\\\"newAdd_toggle\\\">Add New Address</label></div><div class=\\\"newAdd-form\\\" ng-if=\\\"newAdd.editing\\\"><form method=\\\"get\\\" name=\\\"forms.newAdd\\\" class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">Street 1</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" name=\\\"address_line_1\\\" ng-model=\\\"newAdd.form.address_line_1\\\" class=\\\"form-control\\\" required=\\\"\\\"><div ng-show=\\\"validCheck(forms.newAdd.address_line_1)\\\"><small class=\\\"text-danger\\\" ng-show=\\\"forms.newAdd.address_line_1.$error.required\\\">Please Enter an Address</small></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">Street 2</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" ng-model=\\\"newAdd.form.address_line_2\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">City</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" name=\\\"city\\\" ng-model=\\\"newAdd.form.city\\\" class=\\\"form-control\\\" required=\\\"\\\"><div ng-show=\\\"validCheck(forms.newAdd.city)\\\"><small class=\\\"text-danger\\\" ng-show=\\\"forms.newAdd.city.$error.required\\\">Please Enter an City</small></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">State</label><div class=\\\"col-sm-10\\\"><select ng-options=\\\"state.abbreviation as state.name for state in states\\\" name=\\\"state\\\" ng-model=\\\"newAdd.form.state\\\" class=\\\"form-control\\\" required=\\\"\\\"></select><div ng-show=\\\"validCheck(forms.newAdd.state)\\\"><small class=\\\"text-danger\\\" ng-show=\\\"forms.newAdd.state.$error.required\\\">Please Enter an State</small></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">Zip</label><div class=\\\"col-sm-10\\\"><input type=\\\"text\\\" name=\\\"zip\\\" ng-model=\\\"newAdd.form.zip\\\" class=\\\"form-control\\\"><div ng-show=\\\"validCheck(forms.newAdd.zip)\\\"><small class=\\\"text-danger\\\" ng-show=\\\"forms.newAdd.zip.$error.required\\\">Please Enter an Zip</small></div></div></div></form></div></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-white\\\" ng-click=\\\"cancel()\\\">Close</button> <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"!a.selected && !newAdd.editing\\\" ng-click=\\\"ok(forms.newAdd)\\\">Save changes</button></div></div>\");\n$templateCache.put(\"app/components/key-in-cc/keyInModal.html\",\"<div class=\\\"inmodal\\\"><div class=\\\"modal-header\\\">{{orderData}}<h4 class=\\\"modal-title\\\"><i class=\\\"fa fa-credit-card\\\" aria-hidden=\\\"true\\\"></i> Credit Cards</h4><small class=\\\"font-bold\\\">Choose a credit card to charge for this order.</small></div><div class=\\\"modal-body\\\"><b>Charge Amount:</b> <span ng-if=\\\"!cardForm.editingAmount\\\">{{cardForm.chargeAmount | currency}}&nbsp;</span> <input style=\\\"margin:0 7px;\\\" type=\\\"text\\\" ng-model=\\\"cardForm.chargeAmount\\\" ng-if=\\\"cardForm.editingAmount\\\"> <i ng-click=\\\"cardForm.editingAmount=!cardForm.editingAmount\\\" class=\\\"fa\\\" ng-class=\\\"!cardForm.editingAmount ? \\'fa-pencil\\' : \\'fa-check\\'\\\"></i><br><div ng-if=\\\"!cardForm.addCard\\\"><p ng-if=\\\"!cardsSearched\\\">Looking for Credit Cards...</p><p ng-if=\\\"cardsSearched && cards.length < 1\\\">No Credit Cards on file.</p><div ng-repeat=\\\"cc in cards\\\" class=\\\"radio radio-primary\\\"><input type=\\\"radio\\\" id=\\\"cc_{{cc.id}}\\\" ng-model=\\\"cardForm.selectedCard\\\" ng-value=\\\"cc.id\\\"> <label for=\\\"cc_{{cc.id}}\\\"><span style=\\\"width:45px; display:inline-block; font-weight:700;\\\">{{cc.brand | ccName}}</span> - &nbsp;&nbsp;**** **** **** {{cc.last_4}}</label></div></div><div ng-if=\\\"cardForm.addCard\\\"><br><sq-payment-form external-control=\\\"cardForm.fire\\\" nonce-received-callback=\\\"cardChosen\\\"></sq-payment-form><div ng-if=\\\"cardForm.addCard && orderType==\\'order\\'\\\"><input type=\\\"checkbox\\\" ng-model=\\\"cardForm.saveCard\\\">&nbsp;&nbsp; <label>Keep User\\'s card on file</label></div></div></div><div class=\\\"modal-footer clearfix\\\"><p ng-if=\\\"loading.status\\\"><i class=\\\"fa fa-spinner fa-spin\\\"></i>{{loading.message}}</p><div class=\\\"pull-left\\\"><a href=\\\"\\\" ng-if=\\\"!cardForm.addCard\\\" ng-click=\\\"cardForm.addCard=true\\\">Add a Credit Card</a> <a href=\\\"\\\" ng-if=\\\"cardForm.addCard && cards.length\\\" ng-click=\\\"cardForm.addCard=false\\\">Choose a saved Credit Card</a></div><div class=\\\"pull-right key-in-modal-buttons\\\"><div class=\\\"button-container\\\"><a class=\\\"btn btn-flat btn-primary\\\" href=\\\"\\\" ng-click=\\\"cardForm.addCard ? saveCCToUser() : saveCardAsFmPrimary(cardForm.selectedCard)\\\" ng-class=\\\"{\\'disabled\\':(cardFrom.addCard===false) && (cardForm.selectedCard===false)}\\\" ng-if=\\\"orderType==\\'fitmatch\\'\\\">Save as Primary</a><a class=\\\"btn btn-flat btn-warning btn-primary\\\" href=\\\"\\\" ng-if=\\\"cardForm.addCard===false && cards.length && orderType==\\'fitmatch\\' && !isNewFM\\\" ng-class=\\\"{\\'disabled\\':!cardForm.selectedCard}\\\" ng-click=\\\"cardChosen(cardForm.selectedCard)\\\">Charge Card and Cancel</a><a class=\\\"btn btn-flat btn-success btn-primary\\\" href=\\\"\\\" ng-if=\\\"orderType==\\'order\\'\\\" ng-click=\\\"cardForm.addCard ? cardForm.fire() : cardChosen(cardForm.selectedCard)\\\" ng-class=\\\"{\\'disabled\\':!cardForm.chargeAmount || (!cardForm.addCard && !cardForm.selectedCard)}\\\"><span ng-if=\\\"(!cardForm.saveCard && cardForm.addCard) || !cardForm.addCard\\\">Charge Card</span> <span ng-if=\\\"cardForm.saveCard && cardForm.addCard\\\">Charge & Save Card</span></a> <a class=\\\"btn btn-flat btn-danger\\\" href=\\\"\\\" ng-click=\\\"closeForm();\\\">Cancel</a></div></div></div></div>\");\n$templateCache.put(\"app/components/common/content.html\",\"<div id=\\\"wrapper\\\"><div ng-include=\\\"\\'app/components/common/navigation.html\\'\\\"></div><div id=\\\"page-wrapper\\\" class=\\\"gray-bg {{$state.current.name}}\\\"><div ng-include=\\\"\\'app/components/common/topnavbar.html\\'\\\"></div><div ui-view=\\\"\\\"></div><div ng-include=\\\"\\'app/components/common/footer.html\\'\\\"></div></div></div>\");\n$templateCache.put(\"app/components/common/footer.html\",\"<div class=\\\"footer\\\"><div class=\\\"pull-right\\\"><strong>BLUE DELTA JEANS</strong> | A WESTGROUP COMPANY</div></div>\");\n$templateCache.put(\"app/components/common/ibox_tools.html\",\"<div class=\\\"ibox-tools\\\" uib-dropdown=\\\"\\\"><a ng-click=\\\"showhide()\\\"><i class=\\\"fa fa-chevron-up\\\"></i></a> <a uib-dropdown-toggle=\\\"\\\" href=\\\"\\\"><i class=\\\"fa fa-wrench\\\"></i></a><ul uib-dropdown-menu=\\\"\\\"><li><a href=\\\"\\\">Config option 1</a></li><li><a href=\\\"\\\">Config option 2</a></li></ul><a ng-click=\\\"closebox()\\\"><i class=\\\"fa fa-times\\\"></i></a></div>\");\n$templateCache.put(\"app/components/common/navigation.html\",\"<nav class=\\\"navbar-default navbar-static-side\\\" role=\\\"navigation\\\"><div class=\\\"sidebar-collapse\\\"><ul side-navigation=\\\"\\\" class=\\\"nav metismenu\\\" id=\\\"side-menu\\\"><li class=\\\"nav-header\\\"><div class=\\\"profile-element\\\"><span class=\\\"clear\\\"><span class=\\\"block m-t-xs\\\"><img width=\\\"100%\\\" src=\\\"assets/images/bd-logo.png\\\"></span></span></div><div class=\\\"logo-element\\\">BD</div></li><li ng-class=\\\"{active: main.state.includes(\\'orders\\')}\\\"><a href=\\\"#\\\"><i class=\\\"fa fa-list\\\"></i> <span class=\\\"nav-label\\\">Orders</span> <span class=\\\"fa arrow\\\"></span></a><ul class=\\\"nav nav-second-level collapse\\\" ng-class=\\\"{in: main.state.includes(\\'dashboards\\')}\\\"><li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"orders.list\\\">List All</a></li><li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"orders.add\\\">Add New Order</a></li></ul></li><li ng-class=\\\"{active: main.state.includes(\\'fitmatch\\')}\\\"><a href=\\\"#\\\"><i class=\\\"fa fa-dropbox\\\"></i> <span class=\\\"nav-label\\\">Fit Match</span> <span class=\\\"fa arrow\\\"></span></a><ul class=\\\"nav nav-second-level collapse\\\" ng-class=\\\"{in: main.state.includes(\\'fitmatch\\')}\\\"><li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"fitmatch.list\\\">List All</a></li><li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"fitmatch.add\\\">Add New Fit Match</a></li></ul></li><li ng-class=\\\"{active: main.state.includes(\\'clients\\')}\\\"><a href=\\\"#\\\"><i class=\\\"fa fa-users\\\"></i> <span class=\\\"nav-label\\\">Clients</span> <span class=\\\"fa arrow\\\"></span></a><ul class=\\\"nav nav-second-level collapse\\\" ng-class=\\\"{in: main.state.includes(\\'clients\\')}\\\"><li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"clients.list\\\">List All</a></li><li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"clients.add\\\">Add New Client</a></li></ul></li></ul></div></nav>\");\n$templateCache.put(\"app/components/common/topnavbar.html\",\"<div class=\\\"row border-bottom\\\"><nav class=\\\"navbar navbar-static-top white-bg\\\" role=\\\"navigation\\\" style=\\\"margin-bottom: 0\\\"><div class=\\\"navbar-header\\\"><span minimaliza-sidebar=\\\"\\\"></span></div><ul ng-if=\\\"main.isLoggedIn\\\" class=\\\"nav navbar-top-links navbar-right\\\"><li><strong class=\\\"font-bold\\\"><i class=\\\"fa fa-user\\\"></i> {{main.user.first_name}} {{main.user.last_name}}</strong></li><li><a ng-click=\\\"main.logout()\\\" href=\\\"\\\"><i class=\\\"fa fa-sign-out\\\"></i> Log out</a></li></ul></nav></div>\");\n$templateCache.put(\"app/components/user-choice/userChoice.html\",\"<div class=\\\"inmodal\\\"><div class=\\\"modal-header\\\"><h4 class=\\\"modal-title\\\"><i class=\\\"fa fa-user\\\" aria-hidden=\\\"true\\\"></i> Clients</h4><small class=\\\"font-bold\\\">Assign a client to this order.</small></div><div class=\\\"modal-body\\\"><div class=\\\"search-form-container\\\" ng-if=\\\"!showCreate\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><div style=\\\"width:100%\\\" class=\\\"input-group\\\"><input type=\\\"text\\\" ng-model=\\\"filters.first_name\\\" class=\\\"form-control\\\" placeholder=\\\"First Name\\\"></div></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><div style=\\\"width:100%\\\" class=\\\"input-group\\\"><input type=\\\"text\\\" ng-model=\\\"filters.last_name\\\" class=\\\"form-control\\\" placeholder=\\\"Last Name\\\"></div></div></div><button ng-click=\\\"filterSearch()\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-search\\\"></i></button></div><table class=\\\"table table-striped table-bordered\\\"><thead><tr><th width=\\\"20px\\\">&nbsp;</th><th>Client</th><th>E-mail</th></tr></thead><tbody><tr ng-repeat=\\\"client in clients | filter:searchClient\\\"><td><button ng-click=\\\"chooseClient(client)\\\" class=\\\"btn btn-flat btn-primary btn-block\\\"><i class=\\\"fa fa-check\\\"></i></button></td><td>{{client.first_name}} {{client.last_name}}</td><td>{{client.email}}</td></tr></tbody></table><a ng-if=\\\"clients.length < totalClients\\\" ng-click=\\\"getMoreUsers()\\\" href=\\\"\\\">Load More Users...</a></div><div ng-if=\\\"showCreate\\\" class=\\\"client-form-container\\\"><form class=\\\"client-form\\\"><fieldset><h3>Client Details</h3><div class=\\\"form-group\\\"><label>Client First Name:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.first_name\\\"></div><div class=\\\"form-group\\\"><label>Client Last Name:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.last_name\\\"></div><div class=\\\"form-group\\\"><label>Client Email:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.email\\\"></div><div class=\\\"form-group\\\"><label>Client Password:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.password\\\"></div></fieldset><fieldset><h3>Address</h3><div class=\\\"form-group\\\"><label>Address Line 1:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.create_addresses[0].address_line_1\\\"></div><div class=\\\"form-group\\\"><label>Address Line 2:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.create_addresses[0].address_line_2\\\"></div><div class=\\\"form-group\\\"><label>City:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.create_addresses[0].city\\\"></div><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label>State:</label><select ng-options=\\\"state.abbreviation as state.name for state in states\\\" ng-model=\\\"clientForm.create_addresses[0].state\\\" class=\\\"form-control\\\"></select></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label>Zip:</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\" ng-model=\\\"clientForm.create_addresses[0].zip\\\"></div></div></div></fieldset></form></div></div><div class=\\\"modal-footer clearfix\\\"><div class=\\\"pull-right\\\" ng-if=\\\"!showCreate\\\"><a class=\\\"btn btn-flat btn-primary\\\" href=\\\"\\\" ng-click=\\\"showCreateForm()\\\">Create New</a> <a class=\\\"btn btn-flat btn-danger\\\" href=\\\"\\\" ng-click=\\\"cancel();\\\">Close</a></div><div class=\\\"pull-right\\\" ng-if=\\\"showCreate\\\"><a class=\\\"btn btn-flat btn-primary\\\" href=\\\"\\\" ng-click=\\\"postCreateForm();\\\">Create</a> <a class=\\\"btn btn-flat btn-danger\\\" href=\\\"\\\" ng-click=\\\"cancelCreateForm();\\\">Cancel</a></div></div></div>\");\n$templateCache.put(\"app/orders/minor/minor.html\",\"<div class=\\\"wrapper wrapper-content animated fadeInRight\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"text-center m-t-lg\\\"><h1>Simple example of second view</h1><small>Configure in app.js as index.minor state.</small><div class=\\\"row wrapper border-bottom white-bg page-heading\\\"><div class=\\\"col-lg-10\\\"><h2>Data Tables</h2><ol class=\\\"breadcrumb\\\"><li><a href=\\\"index.html\\\">Home</a></li><li><a>Tables</a></li><li class=\\\"active\\\"><strong>Data Tables</strong></li></ol></div><div class=\\\"col-lg-2\\\"></div></div><div class=\\\"wrapper wrapper-content animated fadeInRight\\\" ng-controller=\\\"datatablesCtrl\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"ibox float-e-margins\\\"><div class=\\\"ibox-title\\\"><h5>Basic Data Tables Example <small>Sort, search</small></h5><div ibox-tools=\\\"\\\"></div></div><div class=\\\"ibox-content\\\"><table datatable=\\\"\\\" dt-options=\\\"dtOptions\\\" class=\\\"table table-striped table-bordered table-hover dataTables-example\\\"><thead><tr><th>Rendering engine</th><th>Browser</th><th>Platform(s)</th><th>Engine version</th><th>CSS grade</th></tr></thead><tbody><tr class=\\\"gradeX\\\"><td>Trident</td><td>Internet Explorer 4.0</td><td>Win 95+</td><td class=\\\"center\\\">4</td><td class=\\\"center\\\">X</td></tr><tr class=\\\"gradeC\\\"><td>Trident</td><td>Internet Explorer 5.0</td><td>Win 95+</td><td class=\\\"center\\\">5</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeA\\\"><td>Trident</td><td>Internet Explorer 5.5</td><td>Win 95+</td><td class=\\\"center\\\">5.5</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Trident</td><td>Internet Explorer 6</td><td>Win 98+</td><td class=\\\"center\\\">6</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Trident</td><td>Internet Explorer 7</td><td>Win XP SP2+</td><td class=\\\"center\\\">7</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Trident</td><td>AOL browser (AOL desktop)</td><td>Win XP</td><td class=\\\"center\\\">6</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Firefox 1.0</td><td>Win 98+ / OSX.2+</td><td class=\\\"center\\\">1.7</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Firefox 1.5</td><td>Win 98+ / OSX.2+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Firefox 2.0</td><td>Win 98+ / OSX.2+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Firefox 3.0</td><td>Win 2k+ / OSX.3+</td><td class=\\\"center\\\">1.9</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Camino 1.0</td><td>OSX.2+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Camino 1.5</td><td>OSX.3+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Netscape 7.2</td><td>Win 95+ / Mac OS 8.6-9.2</td><td class=\\\"center\\\">1.7</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Netscape Browser 8</td><td>Win 98SE+</td><td class=\\\"center\\\">1.7</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Netscape Navigator 9</td><td>Win 98+ / OSX.2+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.0</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.1</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1.1</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.2</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1.2</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.3</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1.3</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.4</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1.4</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.5</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1.5</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.6</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">1.6</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.7</td><td>Win 98+ / OSX.1+</td><td class=\\\"center\\\">1.7</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Mozilla 1.8</td><td>Win 98+ / OSX.1+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Seamonkey 1.1</td><td>Win 98+ / OSX.2+</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Gecko</td><td>Epiphany 2.20</td><td>Gnome</td><td class=\\\"center\\\">1.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>Safari 1.2</td><td>OSX.3</td><td class=\\\"center\\\">125.5</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>Safari 1.3</td><td>OSX.3</td><td class=\\\"center\\\">312.8</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>Safari 2.0</td><td>OSX.4+</td><td class=\\\"center\\\">419.3</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>Safari 3.0</td><td>OSX.4+</td><td class=\\\"center\\\">522.1</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>OmniWeb 5.5</td><td>OSX.4+</td><td class=\\\"center\\\">420</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>iPod Touch / iPhone</td><td>iPod</td><td class=\\\"center\\\">420.1</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Webkit</td><td>S60</td><td>S60</td><td class=\\\"center\\\">413</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 7.0</td><td>Win 95+ / OSX.1+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 7.5</td><td>Win 95+ / OSX.2+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 8.0</td><td>Win 95+ / OSX.2+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 8.5</td><td>Win 95+ / OSX.2+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 9.0</td><td>Win 95+ / OSX.3+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 9.2</td><td>Win 88+ / OSX.3+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera 9.5</td><td>Win 88+ / OSX.3+</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Opera for Wii</td><td>Wii</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Nokia N800</td><td>N800</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>Presto</td><td>Nintendo DS browser</td><td>Nintendo DS</td><td class=\\\"center\\\">8.5</td><td class=\\\"center\\\">C/A<sup>1</sup></td></tr><tr class=\\\"gradeC\\\"><td>KHTML</td><td>Konqureror 3.1</td><td>KDE 3.1</td><td class=\\\"center\\\">3.1</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeA\\\"><td>KHTML</td><td>Konqureror 3.3</td><td>KDE 3.3</td><td class=\\\"center\\\">3.3</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeA\\\"><td>KHTML</td><td>Konqureror 3.5</td><td>KDE 3.5</td><td class=\\\"center\\\">3.5</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeX\\\"><td>Tasman</td><td>Internet Explorer 4.5</td><td>Mac OS 8-9</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">X</td></tr><tr class=\\\"gradeC\\\"><td>Tasman</td><td>Internet Explorer 5.1</td><td>Mac OS 7.6-9</td><td class=\\\"center\\\">1</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeC\\\"><td>Tasman</td><td>Internet Explorer 5.2</td><td>Mac OS 8-X</td><td class=\\\"center\\\">1</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeA\\\"><td>Misc</td><td>NetFront 3.1</td><td>Embedded devices</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeA\\\"><td>Misc</td><td>NetFront 3.4</td><td>Embedded devices</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">A</td></tr><tr class=\\\"gradeX\\\"><td>Misc</td><td>Dillo 0.8</td><td>Embedded devices</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">X</td></tr><tr class=\\\"gradeX\\\"><td>Misc</td><td>Links</td><td>Text only</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">X</td></tr><tr class=\\\"gradeX\\\"><td>Misc</td><td>Lynx</td><td>Text only</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">X</td></tr><tr class=\\\"gradeC\\\"><td>Misc</td><td>IE Mobile</td><td>Windows Mobile 6</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeC\\\"><td>Misc</td><td>PSP browser</td><td>PSP</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">C</td></tr><tr class=\\\"gradeU\\\"><td>Other browsers</td><td>All others</td><td>-</td><td class=\\\"center\\\">-</td><td class=\\\"center\\\">U</td></tr></tbody><tfoot><tr><th>Rendering engine</th><th>Browser</th><th>Platform(s)</th><th>Engine version</th><th>CSS grade</th></tr></tfoot></table></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"ibox float-e-margins\\\"><div class=\\\"ibox-title\\\"><h5>Table with data from $scope - <strong>(The angular way)</strong></h5><div ibox-tools=\\\"\\\"></div></div><div class=\\\"ibox-content\\\"><table datatable=\\\"ng\\\" dt-options=\\\"dtOptions\\\" class=\\\"table table-striped table-bordered table-hover dataTables-example\\\"><thead><tr><th>ID</th><th>FirstName</th><th>LastName</th></tr></thead><tbody><tr ng-repeat=\\\"person in persons\\\"><td>{{ person.id }}</td><td>{{ person.firstName }}</td><td>{{ person.lastName }}</td></tr></tbody></table></div></div></div></div></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}